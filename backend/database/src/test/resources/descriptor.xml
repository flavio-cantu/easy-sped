<descritor-escrituracao configurador="descritor/comum/configurador/configurador.xml" id="19001" versao="2">
    <registro-molde>
        <gravador-sessao id="SESSAO_REGISTRO_CORRENTE"/>
        <gravador-sessao id="SESSAO_MODELO"/>
        <gravador-sessao id="SESSAO_OPERACAO"/>
        <validador id="REGRA_CAMPO_INVALIDO_V2" tipo="0"/>
        <validador id="REGRA_CAMPO_INVALIDO_VALIDACAO_V2" tipo="2"/>
        <validador id="REGRA_TAMANHO_CAMPO" tipo="0"/>
        <validador id="REGRA_NUMERO_CAMPOS" tipo="0"/>
        <validador id="REGRA_OCORRENCIA" tipo="0"/>
        <validador id="REGRA_EXISTENCIA_POR_MODELO" tipo="0"/>
        <validador id="REGRA_CAMPO_OBRIGATORIO_IMPORTACAO" tipo="0"/>
        <validador id="REGRA_VALORES_VALIDOS_IMPORTACAO" tipo="0"/>
        <validador id="REGRA_VALORES_VALIDOS" tipo="2"/>
        <validador id="REGRA_VALORES_VALIDOS_TABELA_EXTERNA" tipo="2"/>
        <validador id="REGRA_ESPACOS_INICIO_FINAL" tipo="2"/>
        <validador id="REGRA_CAMPO_OBRIGATORIO" tipo="2"/>
        <validador id="REGRA_REGISTRO_DUPLICADO_A7E2V1" tipo="6"/>

        <edicao>
            <painel-botoes>
                <botao id="BOTAO_CADASTRO_CONTRIBUINTE" icone="/icones/icones_sped/copiar.gif"
                       tooltip="Selecionar dados das Tabelas do Contribuinte para Importação"
                       action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.importarcontribuinte.action.ActionExibirInformacoesCadastro"
                       x="0" y="3"/>
            </painel-botoes>
        </edicao>

    </registro-molde>

    <bloco id="0" rotulo="ABERTURA, IDENTIFICAÇÃO E REFERÊNCIAS">

        <registro id="0000" nivel="0" chave="DT_INI,DT_FIN,CNPJ,CPF,IE" ocorrencia="0" obrigatorio="1"
                  rotulo="Identificação" descricao="Dados Cadastrais do Informante"
                  outros="[obrigatorioimportacao=true]">
            <gravador-sessao id="SESSAO_0000"/>
            <gravador-sessao id="SESSAO_PERFIL"/>
            <gravador-sessao id="SESSAO_DT_FIN"/>
            <validador id="REGRA_VALIDA_IE_0000_V2" tipo="2" campoMsg="IE" outrosCamposEnvolvidosValidacao="UF"/>
            <validador id="REGRA_OBRIGATORIO_CPF_EXCLUDENTE_0000_IMPORTACAO" tipo="0"/>
            <validador id="REGRA_VALIDA_IND_ATIV" tipo="2" campoMsg="IND_ATIV" outrosCamposEnvolvidosValidacao="CPF"/>
            <validador id="REGRA_OBRIGATORIO_CPF_EXCLUDENTE_0000_CONTEUDO" tipo="2" campoMsg="CNPJ"
                       outrosCamposEnvolvidosValidacao="CPF"/>
            <validador id="REGRA_VERSAO_LEIAUTE" tipo="0"/>
            <validador id="REGRA_DATA_MINIMA" tipo="2" campoMsg="DT_INI"/>
            <validador id="REGRA_MES_ESCRITURACAO" tipo="2" campoMsg="DT_FIN" outrosCamposEnvolvidosValidacao="DT_INI"/>
            <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN" tipo="2" campoMsg="DT_INI"
                       outrosCamposEnvolvidosValidacao="DT_FIN"/>
            <validador id="REGRA_COD_MUN_EM_UF_V2" tipo="2" campoMsg="COD_MUN" outrosCamposEnvolvidosValidacao="UF"/>
            <validador id="REGRA_EXISTE_APURACAO_IPI" tipo="6"/>
            <validador id="REGRA_NAO_EXISTE_APURACAO_IPI" tipo="6"/>


            <edicao posicao="0" gravarRegistroInvalido="false">
                <painel-botoes exibir="false"/>

                <painel-registro exibirBotaoSalvar="false">
                    <botao id="BOTAO_SALVAR_0000_ATUALIZA_MASTER" texto="Salvar" tooltip="Salvar Registro"
                           action="br.gov.serpro.sped.fiscalpva.fronteira.escrituracao.action.ActionAtualizarEscrituracaoNoMasterV2"
                           x="0" y="0" largura="1" insets="10,10,10,10"/>
                </painel-registro>

                <observador-edicao-campo id="OBSERVADOR_UF_FILTRA_MUNICIPIO" campoObservado="UF"
                                         camposObservadores="COD_MUN"/>

            </edicao>


            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “0000”">
                <edicao exibir="false"/>
                <valores-validos valores="0000"/>
            </campo>
            <campo n="2" id="COD_VER" tipo="N" tamanho="[3]" obrigatorio="1" rotulo="Código da versão do leiaute"
                   descricao="Código da versão do leiaute conforme Tabela Versão do Leiaute">
                <valores-validos datasource="VERSAO_LEIAUTE"/>
                <edicao x="0" y="0" largura="6" habilitado="false"/>
            </campo>
            <campo n="3" id="COD_FIN" tipo="N" tamanho="1" obrigatorio="1" rotulo="Código da finalidade"
                   descricao="Código da finalidade do arquivo: 0 - Remessa do arquivo original; 1 - Remessa do arquivo substituto">
                <valores-validos valores="0=Remessa do arquivo original;1=Remessa do arquivo substituto"/>
                <edicao x="0" y="1" largura="6"/>
            </campo>
            <campo n="4" id="DT_INI" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data inicial"
                   descricao="Data inicial das informações contidas no arquivo">
                <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                <edicao x="0" y="2" largura="1" componente="103" habilitado="false"/>
            </campo>
            <campo n="5" id="DT_FIN" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data final"
                   descricao="Data final das informações contidas no arquivo">
                <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                <edicao x="1" y="2" largura="1" componente="103" habilitado="false"/>
            </campo>
            <campo n="6" id="NOME" tipo="C" tamanho="100" obrigatorio="1" rotulo="Nome empresarial"
                   descricao="Nome empresarial da entidade">
                <edicao x="0" y="4" largura="4"/>
            </campo>
            <campo n="7" id="CNPJ" tipo="N" tamanho="[14]" obrigatorio="0" rotulo="CNPJ"
                   descricao="Número de inscrição da entidade no CNPJ" habilitadoEdicao="false">
                <validador id="REGRA_DIGITO_CNPJ" tipo="1"/>
                <edicao x="0" y="3" largura="1" componente="102" habilitado="true"/>
            </campo>
            <campo n="8" id="CPF" tipo="N" tamanho="[11]" obrigatorio="0" rotulo="CPF"
                   descricao="Número de inscrição da pessoa natural no CPF" habilitadoEdicao="false">
                <validador id="REGRA_DIGITO_CPF" tipo="1"/>
                <edicao x="1" y="3" largura="1" componente="101" habilitado="true"/>
            </campo>
            <campo n="9" id="UF" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="UF"
                   descricao="Sigla da unidade da federação da entidade">
                <valores-validos datasource="UF_SIGLA_NOME"/>
                <edicao x="0" y="5" largura="6"/>
            </campo>
            <campo n="10" id="IE" tipo="C" tamanho="14" obrigatorio="1" rotulo="Inscrição Estadual"
                   descricao="Inscrição Estadual da entidade">
                <edicao x="2" y="3" largura="1"/>
            </campo>
            <campo n="11" id="COD_MUN" tipo="N" tamanho="[7]" obrigatorio="1" rotulo="Código do município"
                   descricao="Código do município do domicílio fiscal da entidade, conforme a tabela IBGE">
                <valores-validos datasource="COD_MUN"/>
                <edicao x="0" y="6" largura="6"/>
            </campo>
            <campo n="12" id="IM" tipo="C" obrigatorio="0" rotulo="Inscrição Municipal"
                   descricao="Inscrição Municipal da entidade">
                <edicao x="0" y="7" largura="1"/>
            </campo>
            <campo n="13" id="SUFRAMA" tipo="C" tamanho="[9]" obrigatorio="0" rotulo="Inscrição na SUFRAMA"
                   descricao="Inscrição da entidade na SUFRAMA">
                <validador id="REGRA_DIGITO_SUFRAMA" tipo="1"/>
                <edicao x="1" y="7" largura="1" componente="112"/>
            </campo>
            <campo n="14" id="IND_PERFIL" tipo="C" tamanho="1" obrigatorio="1" rotulo="Perfil do arquivo fiscal"
                   descricao="Perfil de apresentação do arquivo fiscal; A – Perfil A; B – Perfil B; C – Perfil C"
                   habilitadoEdicao="false">
                <valores-validos valores="A=Perfil A;B=Perfil B;C=Perfil C"/>
                <edicao x="0" y="8" largura="6"/>
            </campo>
            <campo n="15" id="IND_ATIV" tipo="N" tamanho="1" obrigatorio="1" rotulo="Tipo de atividade"
                   descricao="Indicador de tipo de atividade: 0 – Industrial ou equiparado a industrial; 1 – Outras">
                <valores-validos valores="0=Industrial ou equiparado a industrial;1=Outras"/>
                <edicao x="0" y="9" largura="6"/>
            </campo>

            <registro id="0001" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ABERTURA DO BLOCO 0"
                      outros="[obrigatorioimportacao=true]">
                <edicao exibir="false"/>
                <gravador-sessao id="SESSAO_0001"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “0001”">
                    <valores-validos valores="0001"/>
                </campo>
                <campo n="2" id="IND_MOV" tipo="N" tamanho="1" obrigatorio="1" rotulo="Indicador de movimento"
                       descricao="Indicador de movimento">
                    <valores-validos valores="0=Bloco com dados informados;1=Bloco sem dados informados"/>
                    <edicao valorPadrao="1"/>
                </campo>

                <registro id="0002" nivel="2" ocorrencia="0" obrigatorio="2" rotulo="Complemento"
                          descricao="Dados Complementares">
                    <edicao posicao="1"/>
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_0002"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “0002”">
                        <edicao exibir="false"/>
                        <valores-validos valores="0002"/>
                    </campo>
                    <campo n="2" id="CLAS_ESTAB_IND" tipo="N" tamanho="[2]" obrigatorio="1"
                           rotulo="Classificação do Contribuinte conforme tabela 4.5.5."
                           descricao="Informar a classificação do Contribuinte conforme tabela 4.5.5.">
                        <valores-validos datasource="CLAS_ESTAB_IND"/>
                        <edicao x="0" y="0" largura="4"/>
                    </campo>
                </registro>


                <registro id="0005" nivel="2" ocorrencia="0" obrigatorio="1" rotulo="Complemento"
                          descricao="Dados Complementares">
                    <edicao posicao="1"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “0005”">
                        <edicao exibir="false"/>
                        <valores-validos valores="0005"/>
                    </campo>
                    <campo n="2" id="FANTASIA" tipo="C" tamanho="60" obrigatorio="1" rotulo="Nome de fantasia"
                           descricao="Nome de fantasia associado ao nome empresarial">
                        <edicao x="0" y="0" largura="4"/>
                    </campo>
                    <campo n="3" id="CEP" tipo="N" tamanho="[8]" obrigatorio="1" rotulo="CEP"
                           descricao="Código de Endereçamento Postal">
                        <edicao x="0" y="1" largura="1" componente="109"/>
                    </campo>
                    <campo n="4" id="ENDERECO" tipo="C" tamanho="60" obrigatorio="1" rotulo="Logradouro"
                           descricao="Logradouro do imóvel">
                        <edicao x="0" y="2" largura="4"/>
                    </campo>
                    <campo n="5" id="NUM" tipo="C" tamanho="10" obrigatorio="0" rotulo="Número"
                           descricao="Número do imóvel">
                        <edicao x="0" y="3" largura="1"/>
                    </campo>
                    <campo n="6" id="COMPL" tipo="C" tamanho="60" obrigatorio="0" rotulo="Complemento"
                           descricao="Dados complementares do endereço">
                        <edicao x="1" y="3" largura="1"/>
                    </campo>
                    <campo n="7" id="BAIRRO" tipo="C" tamanho="60" obrigatorio="1" rotulo="Bairro"
                           descricao="Bairro em que o imóvel está situado">
                        <edicao x="0" y="4" largura="4"/>
                    </campo>
                    <campo n="8" id="FONE" tipo="C" tamanho="11" obrigatorio="0" rotulo="Telefone"
                           descricao="Número do telefone">
                        <validador id="REGRA_VALIDA_TELEFONE_FAX" tipo="1"/>
                        <edicao x="0" y="5" largura="1" componente="111"/>
                    </campo>
                    <campo n="9" id="FAX" tipo="C" tamanho="11" obrigatorio="0" rotulo="Fax" descricao="Número do fax">
                        <validador id="REGRA_VALIDA_TELEFONE_FAX" tipo="1"/>
                        <edicao x="1" y="5" largura="1" componente="111"/>
                    </campo>
                    <campo n="10" id="EMAIL" tipo="C" tamanho="60" obrigatorio="0" rotulo="Email"
                           descricao="Endereço do correio eletrônico">
                        <validador id="REGRA_VALIDA_EMAIL_FISCAL" tipo="1"/>
                        <edicao x="0" y="6" largura="4"/>
                    </campo>
                </registro>

                <registro id="0015" nivel="2" ocorrencia="2" obrigatorio="0" chave="UF_ST"
                          rotulo="Inscrição ST ou Responsável pelo ICMS Destino"
                          descricao="Dados do Contribuinte Substituto ou Responsável pelo ICMS destino">
                    <edicao posicao="2"/>
                    <validador id="REGRA_VALIDA_IE_UF_ST_V2" tipo="2" campoMsg="IE_ST"
                               outrosCamposEnvolvidosValidacao="UF_ST"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “0015”">
                        <edicao exibir="false"/>
                        <valores-validos valores="0015"/>
                    </campo>
                    <campo n="2" id="UF_ST" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="UF"
                           descricao="Sigla da unidade da federação do contribuinte substituído ou unidade de federação do consumidor final não contribuinte - ICMS Destino EC 87/15">
                        <valores-validos datasource="UF_SIGLA_NOME"/>
                        <edicao x="0" y="0" largura="4"/>
                    </campo>
                    <campo n="3" id="IE_ST" tipo="C" tamanho="14" obrigatorio="1" rotulo="Inscrição Estadual"
                           descricao="Inscrição Estadual do contribuinte substituto na unidade da federação do contribuinte substituído ou unidade de federação do consumidor final não contribuinte - ICMS Destino EC 87/15">
                        <edicao x="0" y="1" largura="1"/>
                    </campo>
                </registro>

                <registro id="0100" nivel="2" ocorrencia="0" obrigatorio="2" rotulo="Contabilista"
                          descricao="Dados do Contabilista">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_0100"/>
                    <edicao posicao="3"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “0100”">
                        <edicao exibir="false"/>
                        <valores-validos valores="0100"/>
                    </campo>
                    <campo n="2" id="NOME" tipo="C" tamanho="60" obrigatorio="1" rotulo="Nome do contabilista"
                           descricao="Nome do contabilista">
                        <edicao x="0" y="0" largura="6"/>
                    </campo>
                    <campo n="3" id="CPF" tipo="N" tamanho="[11]" obrigatorio="1" rotulo="CPF"
                           descricao="Número de inscrição do contabilista no CPF">
                        <validador id="REGRA_DIGITO_CPF" tipo="1"/>
                        <edicao x="0" y="1" largura="1" componente="101"/>
                    </campo>
                    <campo n="4" id="CRC" tipo="C" tamanho="15" obrigatorio="1" rotulo="Inscrição no CRC"
                           descricao="Número de inscrição do contabilista no Conselho Regional de Contabilidade">
                        <edicao x="2" y="1" largura="1"/>
                    </campo>
                    <campo n="5" id="CNPJ" tipo="N" tamanho="[14]" obrigatorio="0" rotulo="CNPJ"
                           descricao="Número de inscrição do escritório de contabilidade no CNPJ, se houver">
                        <validador id="REGRA_DIGITO_CNPJ" tipo="1"/>
                        <edicao x="1" y="1" largura="1" componente="102"/>
                    </campo>
                    <campo n="6" id="CEP" tipo="N" tamanho="[8]" obrigatorio="0" rotulo="CEP"
                           descricao="Código de Endereçamento Postal">
                        <edicao x="0" y="2" largura="1" componente="109"/>
                    </campo>
                    <campo n="7" id="ENDERECO" tipo="C" tamanho="60" obrigatorio="0" rotulo="Logradouro"
                           descricao="Logradouro do imóvel">
                        <edicao x="0" y="4" largura="6"/>
                    </campo>
                    <campo n="8" id="NUM" tipo="C" tamanho="10" obrigatorio="0" rotulo="Número"
                           descricao="Número do imóvel">
                        <edicao x="0" y="5" largura="1"/>
                    </campo>
                    <campo n="9" id="COMPL" tipo="C" tamanho="60" obrigatorio="0" rotulo="Complemento"
                           descricao="Dados complementares do endereço">
                        <edicao x="1" y="5" largura="1"/>
                    </campo>
                    <campo n="10" id="BAIRRO" tipo="C" tamanho="60" obrigatorio="0" rotulo="Bairro"
                           descricao="Bairro em que o imóvel está situado">
                        <edicao x="0" y="6" largura="6"/>
                    </campo>
                    <campo n="11" id="FONE" tipo="C" tamanho="11" obrigatorio="0" rotulo="Telefone"
                           descricao="Número do telefone">
                        <validador id="REGRA_VALIDA_TELEFONE_FAX" tipo="1"/>
                        <edicao x="0" y="7" largura="1" componente="111"/>
                    </campo>
                    <campo n="12" id="FAX" tipo="C" tamanho="11" obrigatorio="0" rotulo="Fax" descricao="Número do fax">
                        <validador id="REGRA_VALIDA_TELEFONE_FAX" tipo="1"/>
                        <edicao x="1" y="7" largura="1" componente="111"/>
                    </campo>
                    <campo n="13" id="EMAIL" tipo="C" tamanho="60" obrigatorio="1" rotulo="Email"
                           descricao="Endereço do correio eletrônico">
                        <validador id="REGRA_VALIDA_EMAIL_FISCAL" tipo="1"/>
                        <edicao x="0" y="8" largura="6"/>
                    </campo>
                    <campo n="14" id="COD_MUN" tipo="N" tamanho="[7]" obrigatorio="1" rotulo="Codigo do município"
                           descricao="Código do município, conforme tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="9" largura="6"/>
                    </campo>
                </registro>

                <registro id="0150" nivel="2" ocorrencia="2" obrigatorio="0"
                          camposExibidosNaPesquisa="COD_PART;NOME;IE;CNPJ;CPF;COD_MUN" chave="COD_PART"
                          rotulo="Participante" descricao="Clientes, Fornecedores e Outros">
                    <edicao posicao="4"/>
                    <validador id="REGRA_NAO_PREENCHER_BRA_CNPJ" tipo="2" campoMsg="CNPJ"
                               outrosCamposEnvolvidosValidacao="COD_PAIS"/>
                    <validador id="REGRA_NAO_PREENCHER_BRA_CPF" tipo="2" campoMsg="CPF"
                               outrosCamposEnvolvidosValidacao="COD_PAIS"/>
                    <validador id="REGRA_NAO_PREENCHER_BRA_IE" tipo="2" campoMsg="IE"
                               outrosCamposEnvolvidosValidacao="COD_PAIS"/>
                    <validador id="REGRA_NAO_PREENCHER_BRA_SUFRAMA" tipo="2" campoMsg="SUFRAMA"
                               outrosCamposEnvolvidosValidacao="COD_PAIS"/>
                    <validador id="REGRA_CNPJ_EXCLUDENTE" tipo="2" campoMsg="CNPJ"
                               outrosCamposEnvolvidosValidacao="CPF"/>
                    <validador id="REGRA_OBRIGATORIO_CPF_BRA_V2" tipo="2" campoMsg="CNPJ"
                               outrosCamposEnvolvidosValidacao="COD_PAIS;CPF"/>
                    <validador id="REGRA_OBRIGATORIO_PARA_BRASIL_A10E3V4" tipo="2" campoMsg="COD_MUN"
                               outrosCamposEnvolvidosValidacao="COD_PAIS"/>
                    <validador id="REGRA_REFERENCIADO_COD_PART_17002_V1" tipo="6"/>
                    <validador id="REGRA_VALIDA_IE_COD_MUN_V2" tipo="2" campoMsg="IE"
                               outrosCamposEnvolvidosValidacao="COD_MUN"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “0150”">
                        <edicao exibir="false"/>
                        <valores-validos valores="0150"/>
                    </campo>
                    <campo n="2" id="COD_PART" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do participante"
                           descricao="Código de identificação do participante no arquivo">
                        <edicao x="0" y="0" largura="3"/>
                    </campo>
                    <campo n="3" id="NOME" tipo="C" tamanho="100" obrigatorio="1" rotulo="Nome"
                           descricao="Nome pessoal ou empresarial do participante">
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="COD_PAIS" tipo="N" tamanho="5" obrigatorio="1" rotulo="Código do país"
                           descricao="Código do país do participante, conforme a tabela Órgãos mantenedores e endereços eletrônicos das tabelas externas - Tabela de Países">
                        <valores-validos datasource="COD_PAIS"/>
                        <edicao x="0" y="3" largura="6" valorPadrao="1058"/>
                    </campo>
                    <campo n="5" id="CNPJ" tipo="N" tamanho="[14]" obrigatorio="0" rotulo="CNPJ"
                           descricao="CNPJ do participante">
                        <validador id="REGRA_DIGITO_CNPJ" tipo="1"/>
                        <edicao x="0" y="2" largura="1" componente="102"/>
                    </campo>
                    <campo n="6" id="CPF" tipo="N" tamanho="[11]" obrigatorio="0" rotulo="CPF"
                           descricao="CPF do participante">
                        <validador id="REGRA_DIGITO_CPF" tipo="1"/>
                        <edicao x="1" y="2" largura="1" componente="101"/>
                    </campo>
                    <campo n="7" id="IE" tipo="C" tamanho="14" obrigatorio="0" rotulo="Inscrição Estadual"
                           descricao="Inscrição Estadual do participante">
                        <edicao x="2" y="2" largura="1"/>
                    </campo>
                    <campo n="8" id="COD_MUN" tipo="N" tamanho="[7]" obrigatorio="0" rotulo="Código do município"
                           descricao="Código do município, conforme a tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="4" largura="6"/>
                    </campo>
                    <campo n="9" id="SUFRAMA" tipo="C" tamanho="[9]" obrigatorio="0" rotulo="Inscrição na SUFRAMA"
                           descricao="Número de inscrição do participante na SUFRAMA">
                        <validador id="REGRA_DIGITO_SUFRAMA" tipo="1"/>
                        <edicao x="0" y="5" largura="1" componente="112"/>
                    </campo>
                    <campo n="10" id="ENDERECO" tipo="C" tamanho="60" obrigatorio="1" rotulo="Logradouro"
                           descricao="Logradouro do imóvel">
                        <edicao x="0" y="6" largura="6"/>
                    </campo>
                    <campo n="11" id="NUM" tipo="C" tamanho="10" obrigatorio="0" rotulo="Número"
                           descricao="Número do imóvel">
                        <edicao x="0" y="7" largura="1"/>
                    </campo>
                    <campo n="12" id="COMPL" tipo="C" tamanho="60" obrigatorio="0" rotulo="Complemento"
                           descricao="Dados complementares do endereço">
                        <edicao x="1" y="7" largura="1"/>
                    </campo>
                    <campo n="13" id="BAIRRO" tipo="C" tamanho="60" obrigatorio="0" rotulo="Bairro"
                           descricao="Bairro em que o imóvel está situado">
                        <edicao x="0" y="8" largura="6"/>
                    </campo>

                    <registro id="0175" nivel="3" ocorrencia="2" obrigatorio="0" chave="DT_ALT,NR_CAMPO"
                              rotulo="Alterações" descricao="Alterações do Participante">
                        <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_ALT" tipo="2" campoMsg="DT_ALT"/>
                        <validador id="REGRA_VALIDA_IE_COD_MUN_COL_0175_V2" tipo="2" campoMsg="CONT_ANT"/>
                        <validador id="REGRA_VALIDACAO_CONT_ANT_14001_V1" tipo="2" campoMsg="CONT_ANT"/>
                        <validador id="REGRA_VALIDA_UF_0175" tipo="6" campoMsg="CONT_ANT"/>
                        <!--  <validador id="REGRA_VALIDA_PAIS_0175"  Regra atendida dentro da REGRA_VALIDACA_CONT_ANT -->

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “0175”">
                            <edicao exibir="false"/>
                            <valores-validos valores="0175"/>
                        </campo>
                        <campo n="2" id="DT_ALT" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data de alteração"
                               descricao="Data de alteração do cadastro">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="0" y="0" largura="1" componente="103"/>
                        </campo>
                        <campo n="3" id="NR_CAMPO" tipo="C" tamanho="2" obrigatorio="1"
                               rotulo="Número do campo alterado" descricao="Número do campo alterado">
                            <valores-validos
                                    valores="03=Nome;04=Código do País;05=CNPJ;06=CPF;08=Código do Município;09=Inscrição na Suframa;10=Logradouro;11=Número;12=Complemento;13=Bairro;"/>
                            <edicao x="0" y="1" largura="1"/>
                        </campo>
                        <campo n="4" id="CONT_ANT" tipo="C" tamanho="100" obrigatorio="1" rotulo="Conteúdo anterior"
                               descricao="Conteúdo anterior do campo">
                            <edicao x="1" y="1" largura="1"/>
                        </campo>
                    </registro>

                </registro>

                <registro id="0190" nivel="2" ocorrencia="2" obrigatorio="0" chave="UNID"
                          rotulo="Identificação das Unidades de Medida"
                          descricao="Identificação das Unidades de Medida">
                    <edicao posicao="5"/>
                    <validador id="REGRA_REFERENCIADO_UNID_15001V1" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “0190”">
                        <edicao exibir="false"/>
                        <valores-validos valores="0190"/>
                    </campo>
                    <campo n="2" id="UNID" tipo="C" tamanho="6" obrigatorio="1" rotulo="Código da unidade de medida"
                           descricao="Código da unidade de medida">
                    </campo>
                    <campo n="3" id="DESCR" tipo="C" obrigatorio="1" rotulo="Descrição da unidade de medida"
                           descricao="Descrição da unidade de medida">
                    </campo>
                </registro>

                <registro id="0200" nivel="2" ocorrencia="2" obrigatorio="0" chave="COD_ITEM" rotulo="Item/Produtos"
                          descricao="Produtos, Serviços e Outros">

                    <persistencia indices="UNID_INV;COD_ITEM"/>

                    <gravador-sessao id="SESSAO_0200"/>

                    <edicao posicao="6"/>

                    <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_ALIQ_RESSARC_ST" tipo="6"/>
                    <validador id="REGRA_REFERENCIADO_COD_ITEM_17002_V1" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_NCM" tipo="2" campoMsg="COD_NCM"
                               outrosCamposEnvolvidosValidacao="TIPO_ITEM"/>
                    <validador id="REGRA_VALIDA_COD_BARRA" tipo="2" campoMsg="COD_BARRA"/>
                    <validador id="REGRA_OBRIGATORIO_COD_BARRA" tipo="2" campoMsg="COD_BARRA"/>

                    <!-- EXCLUIDA NO PROJETO  1340355 <validador id="REGRA_OBRIGATORIO_0220" tipo="6"/> -->
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “0200”">
                        <edicao exibir="false"/>
                        <valores-validos valores="0200"/>
                    </campo>
                    <campo n="2" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do item"
                           descricao="Código do item">
                        <edicao x="0" y="0" largura="1"/>
                    </campo>
                    <campo n="3" id="DESCR_ITEM" tipo="C" obrigatorio="1" rotulo="Descrição do item"
                           descricao="Descrição do item">
                        <edicao x="0" y="1" largura="4"/>
                    </campo>
                    <campo n="4" id="COD_BARRA" tipo="C" tamanho="20" obrigatorio="0" rotulo="Código de barra"
                           descricao="Representação alfanumérica do código de barra do produto, se houver">
                        <edicao x="0" y="2" largura="4"/>
                    </campo>
                    <campo n="5" id="COD_ANT_ITEM" tipo="C" tamanho="60" obrigatorio="0"
                           rotulo="Código anterior do item"
                           descricao="Código anterior do item com relação à última informação apresentada">
                        <validador id="REGRA_NAO_INFORMAR_COD_ANT_ITEM_0200" tipo="1"/>
                    </campo>
                    <campo n="6" id="UNID_INV" tipo="C" tamanho="6" obrigatorio="1" rotulo="Unidade de medida"
                           descricao="Unidade de medida utilizada na quantificação de estoques"
                           referenciaPesquisa="0190;UNID">
                        <valores-validos datasource="UNID_0190_SV"/>
                        <edicao x="0" y="4" largura="4"/>
                    </campo>
                    <campo n="7" id="TIPO_ITEM" tipo="N" tamanho="2" obrigatorio="1" rotulo="Tipo do item"
                           descricao="Tipo do item – Atividades Industriais, Comerciais e Serviços">
                        <valores-validos
                                valores="00=Mercadoria para Revenda;01=Matéria-Prima;02=Embalagem;03=Produto em Processo;04=Produto Acabado;05=Subproduto;06=Produto Intermediário;07=Material de Uso e Consumo;08=Ativo Imobilizado;09=Serviços;10=Outros insumos;99=Outros"/>
                        <edicao x="0" y="5" largura="4"/>
                    </campo>
                    <campo n="8" id="COD_NCM" tipo="C" tamanho="8" obrigatorio="0" rotulo="Código NCM"
                           descricao="Código da Nomenclatura Comum do Mercosul">
                        <validador id="REGRA_VALIDA_COD_NCM" tipo="1"/>
                        <edicao x="0" y="6" largura="1" componente="108"/>
                    </campo>
                    <campo n="9" id="EX_IPI" tipo="C" tamanho="3" obrigatorio="0" rotulo="Código EX"
                           descricao="Código EX, conforme a TIPI">
                        <edicao x="1" y="6" largura="1"/>
                    </campo>
                    <campo n="10" id="COD_GEN" tipo="N" tamanho="[2]" obrigatorio="0" rotulo="Código do gênero do item"
                           descricao="Código do gênero do item, conforme a Tabela Gênero do Item de Mercadoria/Serviço">
                        <valores-validos datasource="COD_GEN"/>
                        <edicao x="0" y="7" largura="4"/>
                    </campo>
                    <campo n="11" id="COD_LST" tipo="C" tamanho="5" obrigatorio="0" rotulo="Código do serviço do item"
                           descricao="Código do serviço, conforme lista do Anexo I da Lei Complementar Federal nº 116/03">
                        <validador id="REGRA_VALIDA_COD_LST" tipo="1"/>
                        <edicao x="0" y="8" largura="1"/>
                    </campo>
                    <campo n="12" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)"
                           descricao="Alíquota de ICMS aplicável ao item nas operações internas">
                        <edicao x="1" y="8" largura="1" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="13" id="CEST" tipo="N" tamanho="[7]" obrigatorio="0"
                           rotulo="Código Especificador de Substituição Tribuitária"
                           descricao="Código Especificador de Substituição Tribuitária">
                        <valores-validos datasource="CEST"/>
                    </campo>

                    <registro id="0205" nivel="3" ocorrencia="2" obrigatorio="0" outros="" chave="" rotulo="Alterações"
                              descricao="Alterações do item">

                        <persistencia indices="DT_INI;DT_FIM;COD_ANT_ITEM"/>


                        <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_DT_INI_DT_FIM" tipo="2" campoMsg="DT_INI"
                                   outrosCamposEnvolvidosValidacao="DT_FIM"/>
                        <validador id="REGRA_DATA_MENOR_DT_FIN_0000" tipo="2" campoMsg="DT_FIM"/>
                        <validador id="REGRA_NAO_INFORMAR_COD_ANT_ITEM" tipo="2" campoMsg="COD_ANT_ITEM"
                                   outrosCamposEnvolvidosValidacao="DESCR_ANT_ITEM"/>
                        <validador id="REGRA_OBRIGATORIO_COD_ANT_ITEM" tipo="2" campoMsg="COD_ANT_ITEM"/>
                        <validador id="REGRA_NAO_PERMITIR_SOBREPOSICAO_0205_CORRECAO" tipo="6"/>

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “0205”">
                            <edicao exibir="false"/>
                            <valores-validos valores="0205"/>
                        </campo>
                        <campo n="2" id="DESCR_ANT_ITEM" tipo="C" obrigatorio="0" rotulo="Descrição anterior do item"
                               descricao="Descrição anterior do item">
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="3" id="DT_INI" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data inicial"
                               descricao="Data inicial de utilização da descrição do item">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="0" y="1" largura="1" componente="103"/>
                        </campo>
                        <campo n="4" id="DT_FIM" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data final"
                               descricao="Data final de utilização da descrição do item">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="1" y="1" largura="1" componente="103"/>
                        </campo>
                        <campo n="5" id="COD_ANT_ITEM" tipo="C" tamanho="60" obrigatorio="0"
                               rotulo="Código anterior do item"
                               descricao="Código anterior do item com relação à última informação apresentada">
                        </campo>
                    </registro>

                    <registro id="0206" nivel="3" ocorrencia="1" obrigatorio="0"
                              rotulo="Código de Produto Conforme Tabela Publicada Pela ANP"
                              descricao="Código de Produto, Conforme Tabela Publicada Pela ANP">
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “0206”">
                            <edicao exibir="false"/>
                            <valores-validos valores="0206"/>
                        </campo>
                        <campo n="2" id="COD_COMB" tipo="C" obrigatorio="1"
                               rotulo="Código do produto, conforme tabela ANP"
                               descricao="Código do produto, conforme tabela ANP">
                            <valores-validos datasource="COD_COMB"/>
                        </campo>
                    </registro>

                    <registro id="0220" nivel="3" ocorrencia="2" obrigatorio="0" chave="UNID_CONV"
                              rotulo="Fatores de Conversão de Unidades" descricao="Fatores de Conversão de Unidades">
                        <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                        <validador id="REGRA_VALIDA_COD_BARRA" tipo="2" campoMsg="COD_BARRA"/>
                        <validador id="REGRA_BATIMENTO_COD_BARRA_V2" tipo="2" campoMsg="COD_BARRA"/>

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “0220”">
                            <edicao exibir="false"/>
                            <valores-validos valores="0220"/>
                        </campo>
                        <campo n="2" id="UNID_CONV" tipo="C" tamanho="6" obrigatorio="1" rotulo="Unidade comercial"
                               descricao="Unidade comercial a ser convertida na unidade de estoque, referida no registro 0200"
                               referenciaPesquisa="0190;UNID">
                            <valores-validos datasource="UNID_0190_SV"/>
                            <edicao x="0" y="0" largura="1"/>
                        </campo>
                        <campo n="3" id="FAT_CONV" tipo="N" casasdecimais="6" obrigatorio="1"
                               rotulo="Fator de conversão"
                               descricao="Fator de conversão: fator utilizado para converter (multiplicar) a unidade a ser convertida na unidade adotada no inventário">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="0" y="1" componente="106"/>
                        </campo>
                        <campo n="3" id="COD_BARRA" tipo="C" tamanho="20" obrigatorio="0"
                               rotulo="Representação alfanumérica do código de barra da unidade comercial do produto"
                               descricao="Representação alfanumérico do código de barra da unidade comercial do produto, se houver">
                            <edicao x="0" y="2"/>
                        </campo>
                    </registro>

                    <registro id="0221" nivel="3" ocorrencia="2" obrigatorio="0" chave="COD_ITEM_ATOMICO"
                              rotulo="Correlação entre Itens"
                              descricao="Correlação entre Códigos de Itens Comercializados">
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <validador id="REGRA_VALIDA_COD_ITEM_ATOMICO_V2" tipo="6"/>
                        <validador id="REGRA_INFORMAR_0221" tipo="6"/>

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “0221”">
                            <edicao exibir="false"/>
                            <valores-validos valores="0221"/>
                        </campo>
                        <campo n="2" id="COD_ITEM_ATOMICO" tipo="C" tamanho="60" obrigatorio="1"
                               rotulo="Código do item atômico"
                               descricao="Informar o código do item atômico contido no item informado no 0200 Pai"
                               referenciaPesquisa="0200;COD_ITEM">
                            <edicao x="0" y="0" largura="1"/>
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                        </campo>
                        <campo n="3" id="QTD_CONTIDA" tipo="N" casasdecimais="6" obrigatorio="1"
                               rotulo="Quantidade de itens atômicos"
                               descricao="Informar quantos itens atômicos estão contidos no item informado no 0200 Pai">
                            <validador id="REGRA_MAIOR_IGUAL_UM" tipo="1"/>
                            <validador id="REGRA_QTD_IGUAL_UM" tipo="1"
                                       outrosCamposEnvolvidosValidacao="COD_ITEM_ATOMICO"/>
                            <edicao x="0" y="1"/>
                        </campo>
                    </registro>

                </registro>

                <registro id="0300" nivel="2" ocorrencia="2" obrigatorio="0" chave="COD_IND_BEM"
                          rotulo="Bens/Componentes do Ativo Imobilizado"
                          descricao="Cadastro de Bens ou Componentes do Ativo Imobilizado">
                    <persistencia indices="COD_PRNC"/>
                    <validador id="REGRA_EXISTE_COD_PRNC_A11E2V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_CTA_A11E2V2" tipo="6"/>
                    <validador id="REGRA_REFERENCIADO_COD_IND_BEM" tipo="6"/>
                    <validador id="REGRA_REGISTRO_OBRIGATORIO_0305" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_COD_PRNC" tipo="2" campoMsg="COD_PRNC"
                               outrosCamposEnvolvidosValidacao="IDENT_MERC"/>
                    <validador id="REGRA_OBRIGATORIO_NR_PARC" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “0300”">
                        <edicao exibir="false"/>
                        <valores-validos valores="0300"/>
                    </campo>
                    <campo n="2" id="COD_IND_BEM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do bem"
                           descricao="Código individualizado do bem ou componente adotado no controle patrimonial do estabelecimento informante">
                    </campo>
                    <campo n="3" id="IDENT_MERC" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Tipo de mercadoria"
                           descricao="Identificação do tipo de mercadoria">
                        <valores-validos valores="1=bem;2=componente"/>
                    </campo>
                    <campo n="4" id="DESCR_ITEM" tipo="C" obrigatorio="1" rotulo="Descrição do bem"
                           descricao="Descrição do bem ou componente (modelo, marca e outras características necessárias a sua individualização)">
                    </campo>
                    <campo n="5" id="COD_PRNC" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do bem principal"
                           descricao="Código de cadastro do bem principal nos casos em que o bem ou componente (campo 02) esteja vinculado a um bem principal"
                           referenciaPesquisa="0300;COD_IND_BEM">
                        <valores-validos datasource="COD_PRNC_0300_SV"/>
                    </campo>
                    <campo n="6" id="COD_CTA" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código da conta"
                           descricao="Código da conta analítica de contabilização do bem ou componente (campo 06 do Registro 0500)"
                           referenciaPesquisa="0500;COD_CTA">
                        <valores-validos datasource="COD_CTA_0500_SV"/>
                    </campo>
                    <campo n="7" id="NR_PARC" tipo="N" tamanho="3" obrigatorio="0" rotulo="Número de parcelas"
                           descricao="Número total de parcelas a serem apropriadas, segundo a legislação de cada unidade federada">
                    </campo>

                    <registro id="0305" nivel="3" ocorrencia="1" obrigatorio="0" rotulo="Utilização"
                              descricao="Informação sobre a Utilização do Bem">
                        <validador id="REGRA_EXISTE_COD_CCUS" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “0305”">
                            <edicao exibir="false"/>
                            <valores-validos valores="0305"/>
                        </campo>
                        <campo n="2" id="COD_CCUS" tipo="C" tamanho="60" obrigatorio="1"
                               rotulo="Código do centro de custo"
                               descricao="Código do centro de custo onde está localizado o bem (campo 03 do Registro 0600)"
                               referenciaPesquisa="0600;COD_CCUS">
                            <valores-validos datasource="COD_CCUS_0600_SV"/>
                        </campo>
                        <campo n="3" id="FUNC" tipo="C" obrigatorio="1" rotulo="função do bem"
                               descricao="Descrição sucinta da função do bem na atividade do estabelecimento">
                        </campo>
                        <campo n="4" id="VIDA_UTIL" tipo="N" tamanho="3" obrigatorio="0" rotulo="Vida útil"
                               descricao="Vida útil estimada do bem, em número de meses">
                        </campo>
                    </registro>

                </registro>

                <registro id="0400" nivel="2" ocorrencia="2" obrigatorio="0" chave="COD_NAT"
                          rotulo="Natureza da Operação/Prestação" descricao="Livre Utilização pelo Contribuinte">
                    <edicao posicao="7"/>
                    <validador id="REGRA_REFERENCIADO_COD_NAT" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “0400”">
                        <edicao exibir="false"/>
                        <valores-validos valores="0400"/>
                    </campo>
                    <campo n="2" id="COD_NAT" tipo="C" tamanho="10" obrigatorio="1"
                           rotulo="Código da natureza da operação" descricao="Código da natureza da operação/prestação">
                    </campo>
                    <campo n="3" id="DESCR_NAT" tipo="C" obrigatorio="1" rotulo="Descrição da natureza"
                           descricao="Descrição da natureza da operação/prestação">
                    </campo>
                </registro>

                <registro id="0450" nivel="2" ocorrencia="2" obrigatorio="0" chave="COD_INF"
                          rotulo="Informação Complementar" descricao="Dados adicionais dos documentos fiscais">
                    <edicao posicao="8"/>
                    <validador id="REGRA_REFERENCIADO_COD_INF_17002_V1" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “0450”">
                        <edicao exibir="false"/>
                        <valores-validos valores="0450"/>
                    </campo>
                    <campo n="2" id="COD_INF" tipo="C" tamanho="6" obrigatorio="1"
                           rotulo="Código da informação complementar"
                           descricao="Código da informação complementar do documento fiscal">
                    </campo>
                    <campo n="3" id="TXT" tipo="C" obrigatorio="1" rotulo="Texto da informação complementar"
                           descricao="Texto livre da informação complementar existente no documento fiscal, inclusive espécie de normas legais, poder normativo, número, capitulação, data e demais referências pertinentes com indicação referentes ao tributo">
                    </campo>
                </registro>

                <registro id="0460" nivel="2" ocorrencia="2" obrigatorio="0" chave="COD_OBS"
                          rotulo="Observação do Lanc. Fiscal" descricao="Dados adicionais da apuração">
                    <edicao posicao="9"/>
                    <validador id="REGRA_REFERENCIADO_COD_OBS_17002_V1" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “0460”">
                        <edicao exibir="false"/>
                        <valores-validos valores="0460"/>
                    </campo>
                    <campo n="2" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="1" rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal">
                    </campo>
                    <campo n="3" id="TXT" tipo="C" obrigatorio="1" rotulo="Descrição da observação"
                           descricao="Descrição da observação vinculada ao lançamento fiscal">
                    </campo>
                </registro>

                <registro id="0500" nivel="2" ocorrencia="2" obrigatorio="0" chave="DT_ALT,COD_CTA"
                          rotulo="Plano de Contas" descricao="Plano de Contas Contábeis">
                    <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_ALT" tipo="2" campoMsg="DT_ALT"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “0500”">
                        <edicao exibir="false"/>
                        <valores-validos valores="0500"/>
                    </campo>
                    <campo n="2" id="DT_ALT" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da inclusão/alteração"
                           descricao="Data da inclusão/alteração">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    </campo>
                    <campo n="3" id="COD_NAT_CC" tipo="C" tamanho="[2]" obrigatorio="1"
                           rotulo="Código da natureza da conta" descricao="Código da natureza da conta/grupo de contas">
                        <valores-validos
                                valores="01=Contas de ativo;02=Contas de passivo;03=Patrimônio líquido;04=Contas de resultado;05=Contas de compensação;09=Outras"/>
                    </campo>
                    <campo n="4" id="IND_CTA" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Indicador do tipo de conta"
                           descricao="Indicador do tipo de conta">
                        <valores-validos valores="S=Sintética (grupo de contas);A=Analítica (conta)"/>
                    </campo>
                    <campo n="5" id="NIVEL" tipo="N" tamanho="5" obrigatorio="1" rotulo="Nível da conta"
                           descricao="Nível da conta analítica/grupo de contas">
                    </campo>
                    <campo n="6" id="COD_CTA" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código da conta"
                           descricao="Código da conta analítica/grupo de contas">
                    </campo>
                    <campo n="7" id="NOME_CTA" tipo="C" tamanho="60" obrigatorio="1" rotulo="Nome da conta"
                           descricao="Nome da conta analítica/grupo de contas">
                    </campo>
                </registro>

                <registro id="0600" nivel="2" ocorrencia="2" obrigatorio="0" chave="DT_ALT,COD_CCUS"
                          rotulo="Centro de Custos" descricao="Centro de Custos">
                    <validador id="REGRA_REGISTRO_OBRIGATORIO_0600" tipo="6"/>
                    <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_ALT" tipo="2" campoMsg="DT_ALT"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “0600”">
                        <edicao exibir="false"/>
                        <valores-validos valores="0600"/>
                    </campo>
                    <campo n="2" id="DT_ALT" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da inclusão/alteração"
                           descricao="Data da inclusão/alteração">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    </campo>
                    <campo n="3" id="COD_CCUS" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do centro de custos"
                           descricao="Código do centro de custos">
                    </campo>
                    <campo n="4" id="CCUS" tipo="C" tamanho="60" obrigatorio="1" rotulo="Nome do centro de custos"
                           descricao="Nome do centro de custos">
                    </campo>
                </registro>

            </registro>

            <registro id="0990" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ENCERRAMENTO DO BLOCO 0"
                      outros="[obrigatorioimportacao=true]">
                <edicao exibir="false"/>
                <validador id="REGRA_QTD_LIN_BLOCO0" tipo="0"/>
                <validador id="REGRA_BLOCO_COM_SEM_MOVIMENTO" tipo="0"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “0990”">
                    <valores-validos valores="0990"/>
                </campo>
                <campo n="2" id="QTD_LIN_0" tipo="N" obrigatorio="1" rotulo="Quantidade de linhas"
                       descricao="Quantidade total de linhas do Bloco 0">
                    <edicao valorPadrao="3"/><!-- 0000 0001 0990 -->
                </campo>
            </registro>

        </registro>

    </bloco>

    <bloco id="B" rotulo="ESCRITURAÇÃO E APURAÇÃO DO ISS">

        <registro id="B001" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ABERTURA DO BLOCO B"
                  outros="[obrigatorioimportacao=true]">
            <edicao exibir="false"/>
            <gravador-sessao id="SESSAO_B001"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “B001”">
                <valores-validos valores="B001"/>
            </campo>
            <campo n="2" id="IND_MOV" tipo="C" tamanho="1" obrigatorio="1" rotulo="Indicador de movimento"
                   descricao="Indicador de movimento">
                <valores-validos valores="0=Bloco com dados informados;1=Bloco sem dados informados"/>
                <validador id="REGRA_BLOCO_COM_DADOS_APENAS_PARA_UF_IMPORTACAO" tipo="0"/>
                <edicao valorPadrao="1"/>
            </campo>

            <registro id="B020" nivel="2" ocorrencia="2" obrigatorio="0"
                      chave="IND_OPER,COD_MOD,SER,NUM_DOC,DT_DOC,COD_PART"
                      outros="[modelos=01,03,3B,04,08,55,65,66;defineoperacao=true;definemodelo=true]"
                      rotulo="NF, NF Avulsa, NF Produtor, NF-e (ISS) e NF3e">

                <persistencia indices="IND_OPER,COD_PART"/>
                <modificador-obrigatoriedade id="REGRA_B020_CANC_INUT_COM_CHV_NFE"/>
                <modificador-obrigatoriedade id="REGRA_B020_CANC_INUT_SEM_CHV_NFE"/>
                <modificador-obrigatoriedade id="REGRA_NAO_INFORMAR_COD_PART_16001_V1"/>
                <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                <validador id="REGRA_COMPARA_CODIGO_MODELO" tipo="2" campoMsg="CHV_NFE"/>
                <validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_NFE"/>
                <validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE_C100_V4" tipo="2" campoMsg="CHV_NFE"
                           outrosCamposEnvolvidosValidacao="NUM_DOC"/>
                <validador id="REGRA_COMPARA_CNPJ_NFE_CTE_16001_V1" tipo="2" campoMsg="CHV_NFE"
                           outrosCamposEnvolvidosValidacao="COD_MOD;IND_EMIT;COD_SIT"/>
                <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_NFE"/>
                <!-- <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_A13E1V2" tipo="2" campoMsg="CHV_NFE" outrosCamposEnvolvidosValidacao="COD_MOD;IND_EMIT"/>
				<validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_TERCEIROS_12001_V1" tipo="2" campoMsg="CHV_NFE" outrosCamposEnvolvidosValidacao="COD_MOD;IND_EMIT"/>
				<validador id="REGRA_OBRIGATORIO_CHVE_NFCE_A7E2V1" tipo="2" campoMsg="CHV_NFE" outrosCamposEnvolvidosValidacao="COD_MOD"/> -->
                <validador id="REGRA_COMPARA_UF_NFE_CTE_13001_V1" tipo="2" campoMsg="CHV_NFE"/>
                <!-- Susbtituida pela regra abaixo, que considera também a igualdade <validador id="REGRA_DATA_MENOR_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
				<validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/> -->
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC_C100" tipo="2" campoMsg="DT_DOC"/>
                <!-- Regra Removida para leiaute 16 --><!-- <validador id="REGRA_VALIDA_SITUACAO_PARA_NFE_A7E2V1" tipo="2" campoMsg="COD_SIT" outrosCamposEnvolvidosValidacao="COD_MOD"/> -->
                <!-- A lógica dessa regra está em REGRA_NAO_INFORMAR_COD_PART_16001_V1, devido a conflitos <validador id="REGRA_OBRIGATORIO_COD_PART_B020" tipo="2" campoMsg="COD_PART" outrosCamposEnvolvidosValidacao="IND_OPER;COD_MOD"/> -->
                <validador id="REGRA_OBRIGATORIO_CHV_DOCE_B020" tipo="2" campoMsg="CHV_NFE"
                           outrosCamposEnvolvidosValidacao="COD_MOD"/>
                <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_CONT" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_ISNT_ISS" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_BC_ISS" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_ISS" tipo="6"/>

                <edicao>
                    <observador-edicao-campo id="OBSERVADOR_FILTRA_EMITENTE_SAIDA" campoObservado="IND_EMIT"/>
                    <!-- O campo cod_mod não aparece na tela, ele deveria ser o observado. Coloca-se um qualquer e pega seu valor na classe -->
                    <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_SIT_POR_COD_MOD_17001_V2"
                                             campoObservado="COD_SIT"/>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>
                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                    </painel-botoes>
                    <painel-registro>
                        <botao id="BOTAO_ABRIR_CADASTRO_ITENS" texto="Cadastrar Itens"
                               tooltip="Abre a tela de cadastro dos Itens da Nota Fiscal"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionAbrirCadastroDeItens"
                               x="0" y="0" largura="1"/>
                    </painel-registro>
                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “B020”">
                    <edicao exibir="false"/>
                    <valores-validos valores="B020"/>
                </campo>
                <campo n="2" id="IND_OPER" tipo="C" tamanho="1" habilitadoEdicao="false" obrigatorio="1"
                       rotulo="Tipo de operação" descricao="Indicador do tipo de operação"
                       outros="[obrigatorioimportacao=true]">
                    <validador id="REGRA_IND_OPER_NFCE_12001_V1" tipo="0" outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <valores-validos valores="0=Entrada;1=Saída"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="IND_EMIT" tipo="C" tamanho="1" obrigatorio="1" rotulo="Emitente"
                       descricao="Indicador do emitente do documento fiscal">
                    <validador id="REGRA_SAIDA_SOMENTE_TERCEIROS" tipo="1" outrosCamposEnvolvidosValidacao="IND_OPER"/>
                    <valores-validos valores="0=Emissão própria;1=Terceiros"/>
                    <edicao x="0" y="1" largura="4"/>
                </campo>
                <campo n="4" id="COD_PART" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do participante"
                       descricao="Código do participante (campo 02 do Registro 0150): - do emitente do documento ou do remetente das mercadorias, no caso de entradas; - do adquirente, no caso de saídas"
                       referenciaPesquisa="0150;COD_PART">
                    <!-- mudou para modificador de obrigatoriedade
				   <validador id="REGRA_NAO_INFORMAR_COD_PART" tipo="1" outrosCamposEnvolvidosValidacao="COD_MOD"/> -->
                    <valores-validos datasource="COD_PART_0150_SV"/>
                    <edicao x="0" y="2" largura="4"/>
                </campo>
                <campo n="5" id="COD_MOD" tipo="C" tamanho="[2]" habilitadoEdicao="false" obrigatorio="1"
                       rotulo="Código do modelo do documento"
                       descricao="Código do modelo do documento fiscal, conforme a tabela de Codificação dos Documentos"
                       outros="[obrigatorioimportacao=true]">
                    <valores-validos
                            valores="01=Nota Fiscal;03=Nota Fiscal de Serviços;3B=Nota Fiscal de Serviços - Modelo Avulso;04=Nota Fiscal de Produtor;08=Conhecimento de Transporte Rodoviário de Cargas;55=Nota Fiscal Eletrônica;65=NF Eletrônica para consumidor final;66=Nota Fiscal/Conta de Energia Elétrica Eletrônica - NF3e"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="6" id="COD_SIT" tipo="N" tamanho="[2]" obrigatorio="1"
                       rotulo="Código da situação do documento"
                       descricao="Código da situação do documento fiscal, conforme a Tabela Situação do Documento">
                    <validador id="REGRA_COD_SIT_B020" tipo="1" outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <valores-validos datasource="COD_SIT" outros="[codigos=00,02,06,08]"/>
                    <edicao x="0" y="0" largura="4" valorPadrao="00"/>
                </campo>
                <campo n="7" id="SER" tipo="C" tamanho="3" obrigatorio="0" rotulo="Série"
                       descricao="Série do documento fiscal">
                    <edicao x="1" y="3" largura="1"/>
                </campo>
                <campo n="8" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número do documento"
                       descricao="Número do documento fiscal">
                    <edicao x="0" y="3" largura="1" componente="107"/>
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                </campo>
                <campo n="9" id="CHV_NFE" tipo="N" tamanho="[44]" obrigatorio="0" rotulo="Chave da NFe"
                       descricao="Chave da Nota Fiscal Eletrônica">
                    <validador id="REGRA_CHVDFE_MODELO_V2" tipo="1" outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <edicao x="0" y="4" largura="3" componente="113"/>
                </campo>
                <campo n="10" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                       descricao="Data da emissão do documento fiscal (DDMMAAAA)">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <validador id="REGRA_VALIDA_DT_DOC_B020" tipo="1" outrosCamposEnvolvidosValidacao="COD_SIT"/>
                    <edicao x="0" y="6" largura="1" componente="103"/>
                </campo>
                <campo n="11" id="COD_MUN_SERV" tipo="N" tamanho="[7]" obrigatorio="1" rotulo="Código do município"
                       descricao="Código do município onde o serviço foi prestado, conforme a tabela IBGE">
                    <valores-validos datasource="COD_MUN"/>
                    <edicao x="0" y="5" largura="4"/>
                </campo>
                <campo n="12" id="VL_CONT" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor Total"
                       descricao="Valor contábil (valor total do documento)">
                    <edicao componente="104"/>
                </campo>
                <campo n="13" id="VL_MAT_TERC" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor de Terceiros"
                       descricao="Valor do material fornecido por terceiros na prestação do serviço">
                    <edicao componente="104"/>
                </campo>
                <campo n="14" id="VL_SUB" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor da Subempreitada"
                       descricao="Valor da subempreitada">
                    <edicao componente="104"/>
                </campo>
                <campo n="15" id="VL_ISNT_ISS" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor Isento ou Não-tributado"
                       descricao="Valor das operações isentas ou não-tributadas pelo ISS">
                    <edicao componente="104"/>
                </campo>
                <campo n="16" id="VL_DED_BC" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor da Dedução"
                       descricao="Valor da dedução da base de cálculo">
                    <edicao componente="104"/>
                </campo>
                <campo n="17" id="VL_BC_ISS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Base de Cálculo do ISS"
                       descricao="Valor da base de cálculo do ISS">
                    <edicao componente="104"/>
                </campo>
                <campo n="18" id="VL_BC_ISS_RT" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Base de Cálculo de Retenção" descricao="Valor da base de cálculo de retenção do ISS">
                    <edicao componente="104"/>
                </campo>
                <campo n="19" id="VL_ISS_RT" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="ISS Retido"
                       descricao="Valor do ISS retido pelo tomador">
                    <validador id="REGRA_NFCE_SEM_RETENCAO" tipo="1" outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <edicao componente="104"/>
                </campo>
                <campo n="20" id="VL_ISS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="ISS Destacado"
                       descricao="Valor do ISS destacado">
                    <edicao componente="104"/>
                </campo>
                <campo n="21" id="COD_INF_OBS" tipo="C" tamanho="6" obrigatorio="0"
                       rotulo="Código da observação lançamento"
                       descricao="Código da observação do lançamento fiscal (Campo 02 do regisro 0460)">
                    <valores-validos datasource="COD_OBS_0460_SV"/>
                </campo>

                <registro id="B025" nivel="3" ocorrencia="2" obrigatorio="0" chave="ALIQ_ISS,COD_SERV"
                          rotulo="Detalhamento por Combinação de Alíquota e Item da Lista de Serviços da LC 116/2003">
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “B025”">
                        <edicao exibir="false"/>
                        <valores-validos valores="B025"/>
                    </campo>
                    <campo n="2" id="VL_CONT_P" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor Contábil"
                           descricao="Parcela correspondente ao “Valor Contábil” referente à combinação da alíquota e item da lista">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="3" id="VL_BC_ISS_P" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Base de cálculo do ISS"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ISS” referente à combinação da alíquota e item da lista">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="4" id="ALIQ_ISS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Alíquota do ISS"
                           descricao="Alíquota do ISS">
                        <validador id="REGRA_VALIDA_ALIQ_ISS" tipo="1"/>
                        <edicao componente="105"/>
                    </campo>
                    <campo n="5" id="VL_ISS_P" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ISS"
                           descricao="Parcela correspondente ao “Valor do ISS” referente à combinação da alíquota e item da lista">
                        <validador id="REGRA_CALC_VL_ISS_P" tipo="1"
                                   outrosCamposEnvolvidosValidacao="VL_BC_ISS_P;ALIQ_ISS"/>
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_ISNT_ISS_P" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor Isento ou Não-tributado"
                           descricao="Parcela correspondente ao “Valor das operações isentas ou não-tributadas pelo ISS” referente à combinação da alíquota e item da lista">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="COD_SERV" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Item da lista de serviços"
                           descricao="Item da lista de serviços, conforme Tabela 4.6.3">
                        <valores-validos datasource="COD_SERV"/>
                    </campo>
                </registro>

            </registro>

            <registro id="B030" nivel="2" ocorrencia="2" obrigatorio="2"
                      chave="COD_MOD,SER,NUM_DOC_INI,NUM_DOC_FIN,DT_DOC" outros="[modelos=3A;definemodelo=true]"
                      rotulo="Nota Fiscal de Serviços Simplificada (Código 3A)">

                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                <validador id="REGRA_NUMDOC" tipo="2" campoMsg="NUM_DOC_FIN"
                           outrosCamposEnvolvidosValidacao="NUM_DOC_INI"/>
                <validador id="REGRA_VALIDA_VL_CONT" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_ISNT_ISS" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_BC_ISS" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_ISS" tipo="6"/>
                <edicao>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>
                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                    </painel-botoes>
                    <painel-registro>
                        <botao id="BOTAO_ABRIR_CADASTRO_ITENS" texto="Cadastrar Itens"
                               tooltip="Abre a tela de cadastro dos Itens da Nota Fiscal"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionAbrirCadastroDeItens"
                               x="0" y="0" largura="1"/>
                    </painel-registro>
                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “B030”">
                    <edicao exibir="false"/>
                    <valores-validos valores="B030"/>
                </campo>
                <campo n="2" id="COD_MOD" tipo="C" tamanho="2" habilitadoEdicao="false" obrigatorio="1"
                       rotulo="Código do modelo"
                       descricao="Código do modelo do documento fiscal, conforme a Tabela 4.1.3"
                       outros="[obrigatorioimportacao=true]">
                    <valores-validos valores="3A=Nota Fiscal de Serviços Simplificada"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="SER" tipo="C" tamanho="3" obrigatorio="0" rotulo="Série"
                       descricao="Série do documento fiscal">
                    <edicao x="0" y="1"/>
                </campo>
                <campo n="4" id="NUM_DOC_INI" tipo="N" tamanho="9" obrigatorio="1" rotulo="Documento fiscal inicial"
                       descricao="Número do primeiro documento fiscal emitido no dia"
                       referenciaPesquisa="0150;COD_PART">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="2"/>
                </campo>
                <campo n="5" id="NUM_DOC_FIN" tipo="N" tamanho="9" obrigatorio="1" rotulo="Documento fiscal final"
                       descricao="Número do último documento fiscal emitido no dia">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="3"/>
                </campo>
                <campo n="6" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                       descricao="Data da emissão dos documentos fiscais">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="0" y="4" componente="103"/>
                </campo>
                <campo n="7" id="QTD_CANC" tipo="N" obrigatorio="1" rotulo="Quantidade cancelada"
                       descricao="Quantidade de documentos cancelados">
                    <edicao x="0" y="5"/>
                </campo>
                <campo n="8" id="VL_CONT" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor contábil"
                       descricao="Valor contábil (valor total acumulado dos documentos)">
                    <edicao x="0" y="6" componente="104"/>
                </campo>
                <campo n="9" id="VL_ISNT_ISS" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor Isento ou Não-tributado"
                       descricao="Valor acumulado das operações isentas ou não-tributadas pelo ISS">
                    <edicao x="0" y="7" componente="104"/>
                </campo>
                <campo n="10" id="VL_BC_ISS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Base de Cálculo do ISS"
                       descricao="Valor acumulado da base de cálculo do ISS">
                    <edicao x="0" y="8" componente="104"/>
                </campo>
                <campo n="11" id="VL_ISS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ISS destacado"
                       descricao="Valor acumulado do ISS destacado">
                    <edicao x="0" y="9" componente="104"/>
                </campo>
                <campo n="12" id="COD_INF_OBS" tipo="C" tamanho="6" obrigatorio="0"
                       rotulo="Código da observação do lançamento"
                       descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)">
                    <valores-validos datasource="COD_OBS_0460_SV"/>
                    <edicao x="0" y="10"/>
                </campo>
                <registro id="B035" nivel="3" ocorrencia="2" obrigatorio="0" chave="ALIQ_ISS,COD_SERV"
                          rotulo="Detalhamento por Combinação de Alíquota e Item da Lista de Serviços da LC 116/2003)">

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “B035”">
                        <edicao exibir="false"/>
                        <valores-validos valores="B035"/>
                    </campo>
                    <campo n="2" id="VL_CONT_P" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor Contábil"
                           descricao="Parcela correspondente ao “Valor Contábil” referente à combinação da alíquota e item da lista">
                        <edicao x="0" y="0" componente="104"/>
                    </campo>
                    <campo n="3" id="VL_BC_ISS_P" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Base de cálculo do ISS"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ISS” referente à combinação da alíquota e item da lista">
                        <edicao x="0" y="1" componente="104"/>
                    </campo>
                    <campo n="4" id="ALIQ_ISS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Alíquota do ISS"
                           descricao="Alíquota do ISS">
                        <validador id="REGRA_VALIDA_ALIQ_ISS" tipo="1"/>
                        <edicao x="0" y="2" componente="105"/>
                    </campo>
                    <campo n="5" id="VL_ISS_P" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ISS"
                           descricao="Parcela correspondente ao “Valor do ISS” referente à combinação da alíquota e item da lista">
                        <validador id="REGRA_CALC_VL_ISS_P" tipo="1"
                                   outrosCamposEnvolvidosValidacao="VL_BC_ISS_P;ALIQ_ISS"/>
                        <edicao x="0" y="3" componente="104"/>
                    </campo>
                    <campo n="6" id="VL_ISNT_ISS_P" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor Isento ou Não-tributado"
                           descricao="Parcela correspondente ao “Valor das operações isentas ou não-tributadas pelo ISS” referente à combinação da alíquota e item da lista">
                        <edicao x="0" y="4" componente="104"/>
                    </campo>
                    <campo n="7" id="COD_SERV" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Item da lista de serviços"
                           descricao="Item da lista de serviços, conforme Tabela 4.6.3">
                        <edicao x="0" y="5"/>
                        <valores-validos datasource="COD_SERV"/>
                    </campo>
                </registro>
            </registro>

            <registro id="B350" nivel="2" ocorrencia="2" obrigatorio="2" chave="COD_CTD,CTA_COSIF,COD_SERV,ALIQ_ISS"
                      rotulo="Serviços Prestados por Instituições Financeiras">

                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo=""
                       descricao="Texto fixo contendo “B350”">
                    <edicao exibir="false"/>
                    <valores-validos valores="B350"/>
                </campo>
                <campo n="2" id="COD_CTD" tipo="C" obrigatorio="1" rotulo="Código da conta"
                       descricao="Código da conta do plano de contas">
                </campo>
                <campo n="3" id="CTA_ISS" tipo="C" obrigatorio="1" rotulo="Descrição da conta"
                       descricao="Descrição da conta no plano de contas">
                </campo>
                <campo n="4" id="CTA_COSIF" tipo="N" tamanho="[8]" obrigatorio="1" rotulo="Código COSIF"
                       descricao="Código COSIF a que está subordinada a conta do ISS das instituições financeiras">
                    <valores-validos datasource="COD_CONT"/>
                </campo>
                <campo n="5" id="QTD_OCOR" tipo="N" obrigatorio="1" rotulo="Qtd. de ocorrências"
                       descricao="Quantidade de ocorrências na conta">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                </campo>
                <campo n="6" id="COD_SERV" tipo="N" tamanho="[4]" obrigatorio="1" rotulo="Item da lista de serviços"
                       descricao="Item da lista de serviços, conforme Tabela 4.6.3.">
                    <valores-validos datasource="COD_SERV"/>
                </campo>
                <campo n="7" id="VL_CONT" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor contábil"
                       descricao="Valor contábil">
                    <edicao componente="104"/>
                </campo>
                <campo n="8" id="VL_BC_ISS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Base de Cálculo do ISS"
                       descricao="Valor da base de cálculo do ISS">
                    <edicao componente="104"/>
                </campo>
                <campo n="9" id="ALIQ_ISS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Alíquota do ISS"
                       descricao="Alíquota do ISS">
                    <validador id="REGRA_VALIDA_ALIQ_ISS" tipo="1"/>
                    <edicao componente="105"/>
                </campo>
                <campo n="10" id="VL_ISS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ISS"
                       descricao="Valor do ISS">
                    <validador id="REGRA_CALCULA_VL_ISS" tipo="1" outrosCamposEnvolvidosValidacao="VL_BC_ISS;ALIQ_ISS"/>
                    <edicao componente="104"/>
                </campo>
                <campo n="11" id="COD_INF_OBS" tipo="C" tamanho="6" obrigatorio="0" rotulo="Código da observação"
                       descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)">
                    <valores-validos datasource="COD_OBS_0460_SV"/>
                </campo>
            </registro>

            <registro id="B420" nivel="2" ocorrencia="2" obrigatorio="2" chave="ALIQ_ISS,COD_SERV"
                      rotulo="Totalização dos Valores de Serviços Prestados por Combinação de Alíquota e Item da Lista de Serviços da LC 116/2003">

                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <validador id="REGRA_VALIDA_TOT_VL_CONT" tipo="6"/>
                <validador id="REGRA_VALIDA_TOT_VL_BC_ISS" tipo="6"/>
                <validador id="REGRA_VALIDA_TOT_VL_ISNT_ISS" tipo="6"/>
                <validador id="REGRA_VALIDA_TOT_VL_ISS" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “B420”">
                    <edicao exibir="false"/>
                    <valores-validos valores="B420"/>
                </campo>
                <campo n="2" id="VL_CONT" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor Contábil"
                       descricao="Totalização do Valor Contábil das prestações do declarante referente à combinação da alíquota e item da lista">
                    <edicao x="0" y="0" componente="104"/>
                </campo>
                <campo n="3" id="VL_BC_ISS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Base de cálculo do ISS"
                       descricao="Totalização do Valor da base de cálculo do ISS das prestações do declarante referente à combinação da alíquota e item da lista">
                    <edicao x="0" y="1" componente="104"/>
                </campo>
                <campo n="4" id="ALIQ_ISS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Alíquota do ISS"
                       descricao="Alíquota do ISS">
                    <validador id="REGRA_VALIDA_ALIQ_ISS" tipo="1"/>
                    <edicao x="0" y="2" componente="105"/>
                </campo>
                <campo n="5" id="VL_ISNT_ISS" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor isento ou não-tributado"
                       descricao="Totalização do valor das operações isentas ou não-tributadas pelo ISS referente à combinação da alíquota e item da lista ">
                    <edicao x="0" y="3" componente="104"/>
                </campo>
                <campo n="6" id="VL_ISS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ISS"
                       descricao="Totalização, por combinação da alíquota e item da lista, do Valor do ISS">
                    <edicao x="0" y="4" componente="104"/>
                </campo>
                <campo n="7" id="COD_SERV" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Item da lista de serviços"
                       descricao="Item da lista de serviços, conforme Tabela 4.6.3">
                    <edicao x="0" y="5"/>
                    <valores-validos datasource="COD_SERV"/>
                </campo>
            </registro>

            <registro id="B440" nivel="2" ocorrencia="2" obrigatorio="0" outros="[defineoperacao=true]"
                      chave="IND_OPER,COD_PART" rotulo="Totalização dos Valores Retidos">

                <edicao>
                    <criador-abas id="CRIADOR_ABAS_OPERACAO"/>
                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                    </painel-botoes>
                </edicao>

                <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_CONT_RT" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_BC_ISS_RT" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_ISS_RT" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “B440”">
                    <edicao exibir="false"/>
                    <valores-validos valores="B440"/>
                </campo>
                <campo n="2" id="IND_OPER" tipo="C" tamanho="1" habilitadoEdicao="false" obrigatorio="1"
                       rotulo="Tipo de operação" descricao="Indicador do tipo de operação"
                       outros="[obrigatorioimportacao=true]">
                    <valores-validos valores="0=Entrada;1=Saída"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="COD_PART" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do participante"
                       descricao="Código do participante (campo 02 do Registro 0150): - do emitente do documento ou do remetente das mercadorias, no caso de entradas; - do adquirente, no caso de saídas"
                       referenciaPesquisa="0150;COD_PART">
                    <valores-validos datasource="COD_PART_0150_SV"/>
                </campo>
                <campo n="4" id="VL_CONT_RT" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor Contábil"
                       descricao="Totalização do Valor Contábil das prestações e/ou aquisições do declarante pela combinação de tipo de operação e participante.">
                    <edicao componente="104"/>
                </campo>
                <campo n="5" id="VL_BC_ISS_RT" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Base de Cálculo de retenção"
                       descricao="Totalização do Valor da base de cálculo de retenção do ISS das prestações e/ou aquisições do declarante pela combinação de tipo de operação e participante.">
                    <edicao componente="104"/>
                </campo>
                <campo n="6" id="VL_ISS_RT" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ISS retido"
                       descricao="Totalização do Valor do ISS retido pelo tomador das prestações e/ou aquisições do declarante pela combinação de tipo de operação e participante.">
                    <edicao componente="104"/>
                </campo>

            </registro>

            <registro id="B460" nivel="2" ocorrencia="2" obrigatorio="2" rotulo="Deduções do ISS">

                <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>


                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “B460”">
                    <edicao exibir="false"/>
                    <valores-validos valores="B460"/>
                </campo>
                <campo n="2" id="IND_DED" tipo="N" tamanho="[1]" obrigatorio="1" rotulo="Tipo de dedução"
                       descricao="Indicador do tipo de dedução">
                    <valores-validos
                            valores="0=Compensação do ISS calculado a maior;1=Benefício fiscal por incentivo à cultura;2=Decisão administrativa ou judicial;9=Outros"/>
                </campo>
                <campo n="3" id="VL_DED" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor da dedução"
                       descricao="Valor da dedução">
                    <edicao componente="104"/>
                </campo>
                <campo n="4" id="NUM_PROC" tipo="C" obrigatorio="0" rotulo="Número do processo"
                       descricao="Número do processo ao qual o ajuste está vinculado, se houver">
                </campo>
                <campo n="5" id="IND_PROC" tipo="C" tamanho="[1]" obrigatorio="0" rotulo="Origem do processo"
                       descricao="Indicador da origem do processo">
                    <valores-validos valores="0=Sefin;1=Justiça Federal;2=Justiça Estadual;9=Outros"/>
                </campo>
                <campo n="6" id="PROC" tipo="C" obrigatorio="0" rotulo="Descrição do processo"
                       descricao="Descrição do processo que embasou o lançamento">
                </campo>
                <campo n="7" id="COD_INF_OBS" tipo="C" tamanho="6" obrigatorio="1" rotulo="Código da observação"
                       descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)">
                    <valores-validos datasource="COD_OBS_0460_SV"/>
                </campo>
                <campo n="8" id="IND_OBR" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Tipo de obrigação"
                       descricao="Indicador da obrigação onde será aplicada a dedução">
                    <valores-validos
                            valores="0=ISS Próprio;1=ISS Substituto (devido pelas aquisições de serviços do declarante);2=ISS Uniprofissionais"/>
                </campo>
            </registro>

            <registro id="B470" nivel="2" ocorrencia="0" obrigatorio="2" rotulo="Apuração do ISS">

                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_B470"/>
                <validador id="REGRA_APUR_VL_CONT_14001_V1" tipo="6"/>
                <validador id="REGRA_APUR_VL_CONT_DOCS" tipo="6"/>
                <validador id="REGRA_APUR_VL_ISNT_14001_V1" tipo="6"/>
                <validador id="REGRA_APUR_VL_ISNT_DOCS" tipo="6"/>
                <validador id="REGRA_APUR_VL_BC_ISS_14001_V1" tipo="6"/>
                <validador id="REGRA_APUR_VL_BC_ISS_DOCS" tipo="6"/>
                <validador id="REGRA_APUR_VL_BC_ISS_RT_14001_V1" tipo="6"/>
                <validador id="REGRA_APUR_VL_ISS_14001_V1" tipo="6"/>
                <validador id="REGRA_APUR_VL_ISS_DOCS" tipo="6"/>
                <validador id="REGRA_APUR_VL_ISS_RT_14001_V1" tipo="6"/>
                <validador id="REGRA_APUR_VL_ISS_RT_DOCS" tipo="6"/>
                <validador id="REGRA_APUR_VL_ISS_ST_V2" tipo="6"/>
                <validador id="REGRA_APUR_VL_ISS_ST_DOCS" tipo="6"/>
                <validador id="REGRA_APUR_VL_DED_14001_V1" tipo="6"/>
                <validador id="REGRA_APUR_VL_ISS_REC_UNI_V2" tipo="6"/>
                <validador id="REGRA_APUR_VL_BC_ISS_RT_DOCS" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “B470”">
                    <edicao exibir="false"/>
                    <valores-validos valores="B470"/>
                </campo>
                <campo n="2" id="VL_CONT" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor das prestações de serviço" descricao="Valor das prestações de serviço">
                    <edicao x="0" y="0" componente="104"/>
                </campo>
                <campo n="3" id="VL_MAT_TERC" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor do material de terceiros" descricao="Valor do material de terceiros">
                    <edicao x="0" y="1" componente="104"/>
                </campo>
                <campo n="4" id="VL_MAT_PROP" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor do material próprio"
                       descricao="Valor do material próprio utilizado na prestação do serviço">
                    <edicao x="0" y="2" componente="104"/>
                </campo>
                <campo n="5" id="VL_SUB" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor das subempreitadas"
                       descricao="Valor total das subempreitadas">
                    <edicao x="0" y="3" componente="104"/>
                </campo>
                <campo n="6" id="VL_ISNT" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Prestações isentas ou não-tributadas" descricao="Prestações isentas ou não-tributadas">
                    <edicao x="0" y="4" componente="104"/>
                </campo>
                <campo n="7" id="VL_DED_BC" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor das deduções BC"
                       descricao="Valor total das deduções da base de cálculo (VL_MAT_TERC + VL_MAT_PROP + VL_SUB + VL_ISNT)">
                    <validador id="REGRA_APUR_VL_DED_BC" tipo="1"
                               outrosCamposEnvolvidosValidacao="VL_MAT_TERC;VL_MAT_PROP;VL_SUB;VL_ISNT"/>
                    <edicao x="0" y="5" componente="104"/>
                </campo>
                <campo n="8" id="VL_BC_ISS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor da BC do ISS"
                       descricao="Valor total da base de cálculo do ISS">
                    <edicao x="0" y="6" componente="104"/>
                </campo>
                <campo n="9" id="VL_BC_ISS_RT" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor da BC de retenção do ISS"
                       descricao="Valor total da base de cálculo de retenção do ISS referente às prestações do declarante">
                    <edicao x="0" y="7" componente="104"/>
                </campo>
                <campo n="10" id="VL_ISS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ISS destacado"
                       descricao="Valor total do ISS destacado">
                    <edicao x="0" y="8" componente="104"/>
                </campo>
                <campo n="11" id="VL_ISS_RT" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ISS retido"
                       descricao="Valor total do ISS retido pelo tomador nas prestações do declarante">
                    <edicao x="0" y="9" componente="104"/>
                </campo>
                <campo n="12" id="VL_DED" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor das deduções ISS"
                       descricao="Valor total das deduções do ISS próprio">
                    <edicao x="0" y="10" componente="104"/>
                </campo>
                <campo n="13" id="VL_ISS_REC" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor apurado do ISS próprio a recolher"
                       descricao="Valor total apurado do ISS próprio a recolher (VL_ISS - VL_ISS_RT - VL_DED)">
                    <validador id="REGRA_APUR_VL_ISS_REC" tipo="1"
                               outrosCamposEnvolvidosValidacao="VL_ISS;VL_ISS_RT;VL_DED"/>
                    <edicao x="0" y="11" componente="104"/>
                </campo>
                <campo n="14" id="VL_ISS_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor do ISS substituto a recolher"
                       descricao="Valor total do ISS substituto a recolher pelas aquisições do declarante (tomador)">
                    <edicao x="0" y="12" componente="104"/>
                </campo>
                <campo n="15" id="VL_ISS_REC_UNI" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor do ISS Uniprofissional a recolher"
                       descricao="Valor do ISS Uniprofissional a recolher">
                    <edicao x="0" y="13" componente="104"/>
                </campo>
            </registro>

            <registro id="B500" nivel="2" ocorrencia="0" obrigatorio="2"
                      rotulo="Apuração do ISS Sociedade Uniprofissional">

                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>

                <validador id="REGRA_VALIDA_QTD_PROF" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_OR" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “B500”">
                    <edicao exibir="false"/>
                    <valores-validos valores="B500"/>
                </campo>
                <campo n="2" id="VL_REC" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor mensal auferido"
                       descricao="Valor mensal das receitas auferidas pela sociedade uniprofissional">
                    <edicao componente="104"/>
                </campo>
                <campo n="3" id="QTD_PROF" tipo="N" obrigatorio="1" rotulo="Qtd. de profissionais habilitados"
                       descricao="Quantidade de profissionais habilitados">
                </campo>
                <campo n="4" id="VL_OR" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ISS devido"
                       descricao="Valor do ISS devido">
                    <edicao componente="104"/>
                </campo>

                <registro id="B510" nivel="3" ocorrencia="2" obrigatorio="0"
                          rotulo="Uniprofissional - Empregados e Sócios">

                    <validador id="REGRA_SOCIO_B510" tipo="6"/>
                    <validador id="REGRA_QTD_PROF_NAO_HABILIT" tipo="6"/>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “B510”">
                        <edicao exibir="false"/>
                        <valores-validos valores="B510"/>
                    </campo>
                    <campo n="2" id="IND_PROF" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Habilitação"
                           descricao="Indicador de habilitação">
                        <valores-validos valores="0=Profissional habilitado;1=Profissional não habilitado"/>
                        <validador id="REGRA_VALIDA_IND_SOC_IND_PROF" tipo="1"
                                   outrosCamposEnvolvidosValidacao="IND_SOC"/>
                    </campo>
                    <campo n="3" id="IND_ESC" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Escolaridade"
                           descricao="Indicador de escolaridade">
                        <valores-validos valores="0=Nível superior;1=Nível médio"/>
                    </campo>
                    <campo n="4" id="IND_SOC" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Participação"
                           descricao="Indicador de participação societária">
                        <valores-validos valores="0=Sócio;1=Não sócio"/>
                    </campo>
                    <campo n="5" id="CPF" tipo="N" tamanho="[11]" obrigatorio="1" rotulo="CPF"
                           descricao="Número de inscrição do profissional no CPF">
                        <validador id="REGRA_DIGITO_CPF" tipo="1"/>
                        <edicao componente="101"/>
                    </campo>
                    <campo n="6" id="NOME" tipo="C" tamanho="100" obrigatorio="1" rotulo="Nome"
                           descricao="Nome do profissional">
                    </campo>

                </registro>

            </registro>

        </registro>

        <registro id="B990" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ENCERRAMENTO DO BLOCO B"
                  outros="[obrigatorioimportacao=true]">
            <edicao exibir="false"/>
            <validador id="REGRA_QTD_LIN_BLOCOB" tipo="0"/>
            <validador id="REGRA_BLOCO_COM_SEM_MOVIMENTO" tipo="0"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “B990”">
                <valores-validos valores="B990"/>
            </campo>
            <campo n="2" id="QTD_LIN_B" tipo="N" obrigatorio="1" rotulo="Quantidade total de linhas"
                   descricao="Quantidade total de linhas do Bloco B">
                <edicao valorPadrao="2"/><!--   C001 C990 -->
            </campo>
        </registro>

    </bloco>

    <bloco id="C" rotulo="DOCUMENTOS FISCAIS I - MERCADORIAS (ICMS/IPI)">

        <registro id="C001" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ABERTURA DO BLOCO C"
                  outros="[obrigatorioimportacao=true]">


            <edicao exibir="false"/>
            <gravador-sessao id="SESSAO_C001"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “C001”">
                <valores-validos valores="C001"/>
            </campo>
            <campo n="2" id="IND_MOV" tipo="C" tamanho="1" obrigatorio="1" rotulo="Indicador de movimento"
                   descricao="Indicador de movimento">
                <valores-validos valores="0=Bloco com dados informados;1=Bloco sem dados informados"/>
                <edicao valorPadrao="1"/>
            </campo>

            <registro id="C100" nivel="2" ocorrencia="2" obrigatorio="0"
                      chave="IND_EMIT,IND_OPER,NUM_DOC,COD_MOD,COD_SIT,SER,CHV_NFE,COD_PART"
                      outros="[modelos=01,1B,04,55,65;defineoperacao=true;definemodelo=true;naousachavenaduplicidade=true]"
                      rotulo="NF, NF Avulsa, NF Produtor E NF-e">

                <gravador-sessao id="SESSAO_C100"/>
                <persistencia indices="COD_PART"/>

                <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_C100_EMISSAO_PROPRIA" tipo="6"/>
                <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_C100_EMISSAO_TERCEIROS" tipo="6"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC_C100" tipo="2" campoMsg="DT_DOC"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_ES" tipo="2" campoMsg="DT_E_S"/>
                <validador id="REGRA_DT_E_S_MAIOR_IGUAL_DT_DOC" tipo="2" campoMsg="DT_E_S"
                           outrosCamposEnvolvidosValidacao="DT_DOC"/>
                <validador id="REGRA_OBRIGATORIO_DT_E_S" tipo="2" campoMsg="DT_E_S"
                           outrosCamposEnvolvidosValidacao="DT_DOC;IND_OPER"/>
                <validador id="REGRA_VL_MERC_C170" tipo="6"/>
                <validador id="REGRA_VL_IPI_C190" tipo="6"/>
                <validador id="REGRA_COERENCIA_CFOP_C170" tipo="6"/>
                <validador id="REGRA_COERENCIA_CFOP_C185" tipo="6"/>
                <validador id="REGRA_VL_BC_ICMS_ANALIT" tipo="6"/>
                <validador id="REGRA_VL_ICMS_ANALIT" tipo="6"/>
                <validador id="REGRA_OBRIGATORIO_C110_14001_V1" tipo="6"/>
                <validador id="REGRA_VL_BC_ICMS_ST_ANALIT" tipo="6"/>
                <validador id="REGRA_VL_ICMS_ST_ANALIT" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_DOC" tipo="6"/>
                <validador id="REGRA_VALIDA_DESC_DOC_ITEM" tipo="6"/>
                <validador id="REGRA_COMPARA_CNPJ_NFE_CTE_12001_V1" tipo="2" campoMsg="CHV_NFE"
                           outrosCamposEnvolvidosValidacao="COD_MOD;IND_EMIT;COD_SIT"/>
                <validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE_C100_V4" tipo="2" campoMsg="CHV_NFE"
                           outrosCamposEnvolvidosValidacao="NUM_DOC"/>
                <validador id="REGRA_COMPARA_UF_NFE_CTE_13001_V1" tipo="2" campoMsg="CHV_NFE"/>
                <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_NFE"/>
                <validador id="REGRA_COMPARA_CODIGO_MODELO" tipo="2" campoMsg="CHV_NFE"/>
                <validador id="REGRA_VALIDA_SITUACAO_PARA_NFE_A7E2V1" tipo="2" campoMsg="COD_SIT"
                           outrosCamposEnvolvidosValidacao="COD_MOD"/>
                <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_A13E1V2" tipo="2" campoMsg="CHV_NFE"
                           outrosCamposEnvolvidosValidacao="COD_MOD;IND_EMIT"/>
                <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_TERCEIROS_12001_V1" tipo="2" campoMsg="CHV_NFE"
                           outrosCamposEnvolvidosValidacao="COD_MOD;IND_EMIT"/>
                <validador id="REGRA_IND_EMIT" tipo="2" campoMsg="IND_EMIT" outrosCamposEnvolvidosValidacao="IND_OPER"/>
                <validador id="REGRA_DOCUMENTO_NORMAL_DT_ES" tipo="2" campoMsg="COD_SIT"
                           outrosCamposEnvolvidosValidacao="IND_OPER;DT_E_S;DT_DOC"/>
                <validador id="REGRA_DOCUMENTO_EXTEMPORANEO_DT_E_S" tipo="2" campoMsg="COD_SIT"
                           outrosCamposEnvolvidosValidacao="IND_OPER;DT_E_S;DT_DOC"/>
                <validador id="REGRA_OBRIGATORIO_COD_PART" tipo="2" campoMsg="COD_PART"
                           outrosCamposEnvolvidosValidacao="COD_SIT;IND_EMIT"/>
                <!-- REGRA EXCLUIDA PARA LEIAUTE V <validador id="REGRA_CANCELA_DOC_TERCEIRO" tipo="2" campoMsg="COD_SIT" outrosCamposEnvolvidosValidacao="IND_EMIT;IND_OPER"/> -->
                <validador id="REGRA_CHAVE_REGIME_ESPECIAL_NFE" tipo="2" campoMsg="CHV_NFE"
                           outrosCamposEnvolvidosValidacao="IND_OPER;IND_EMIT;COD_MOD;COD_SIT"/>
                <validador id="REGRA_OBRIGATORIO_CHVE_NFCE_A7E2V1" tipo="2" campoMsg="CHV_NFE"
                           outrosCamposEnvolvidosValidacao="COD_MOD"/>
                <validador id="REGRA_IND_EMIT_NFCE" tipo="2" campoMsg="IND_EMIT"
                           outrosCamposEnvolvidosValidacao="COD_MOD"/>
                <validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_NFE"/>
                <validador id="REGRA_COMPARA_CNPJ_NFE_PARTICIPANTE_12001_V1" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_ABAT_NT" tipo="6"/>
                <validador id="REGRA_MULTIPLAS_OCORRENCIAS_C100" tipo="6"/>
                <validador id="REGRA_VL_ICMS_MAIOR_VL_DOC_C100" tipo="6"/>

                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_INUTILIZADA_A12E1V2"/>
                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_CANCELADA_14001_V1"/>
                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_COMPLEMENTAR_17001_V2"/>
                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_ESP_14001V1"/>
                <modificador-obrigatoriedade id="REGRA_NFE_EMITIDA_15001_V1"/>
                <modificador-obrigatoriedade id="REGRA_NFE_CONSUMIDOR_14001V1"/>


                <edicao>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>

                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                        <botao id="BOTAO_GERAR_REGISTRO_ANALITICO" icone="/icones/analitico.gif"
                               tooltip="Gerar Registros Analíticos"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.gerarregistros.action.ActionGerarRegistrosAnaliticosDeUmRegistro"
                               x="0" y="40"/>
                    </painel-botoes>

                    <painel-registro>
                        <botao id="BOTAO_ABRIR_CADASTRO_ITENS" texto="Cadastrar Itens"
                               tooltip="Abre a tela de cadastro dos Itens da Nota Fiscal"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionAbrirCadastroDeItens"
                               x="0" y="0" largura="1"/>
                    </painel-registro>

                    <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_SIT_POR_COD_MOD_17001_V2"
                                             campoObservado="COD_SIT"/>

                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “C100”">
                    <edicao exibir="false"/>
                    <valores-validos valores="C100"/>
                </campo>
                <campo n="2" id="IND_OPER" tipo="C" tamanho="1" habilitadoEdicao="false" obrigatorio="1"
                       rotulo="Tipo de operação" descricao="Indicador do tipo de operação"
                       outros="[obrigatorioimportacao=true]">
                    <validador id="REGRA_IND_OPER_NFCE_12001_V1" tipo="0" outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <valores-validos valores="0=Entrada;1=Saída"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="IND_EMIT" tipo="C" tamanho="1" obrigatorio="1" rotulo="Emitente"
                       descricao="Indicador do emitente do documento fiscal">
                    <valores-validos valores="0=Emissão própria;1=Terceiros"/>
                    <edicao x="0" y="1" largura="4"/>
                </campo>
                <campo n="4" id="COD_PART" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do participante"
                       descricao="Código do participante (campo 02 do Registro 0150): - do emitente do documento ou do remetente das mercadorias, no caso de entradas; - do adquirente, no caso de saídas"
                       referenciaPesquisa="0150;COD_PART">
                    <valores-validos datasource="COD_PART_0150_SV"/>
                    <edicao x="0" y="2" largura="4"/>
                </campo>
                <campo n="5" id="COD_MOD" tipo="C" tamanho="[2]" habilitadoEdicao="false" obrigatorio="1"
                       rotulo="Código do modelo do documento"
                       descricao="Código do modelo do documento fiscal, conforme a tabela de Codificação dos Documentos"
                       outros="[obrigatorioimportacao=true]">
                    <valores-validos
                            valores="01=Nota Fiscal;1B=Nota Fiscal Avulsa;04=Nota Fiscal de Produtor;55=Nota Fiscal Eletrônica;65=NF Eletrônica para consumidor final"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="6" id="COD_SIT" tipo="N" tamanho="[2]" obrigatorio="1"
                       rotulo="Código da situação do documento"
                       descricao="Código da situação do documento fiscal, conforme a Tabela Situação do Documento">
                    <valores-validos datasource="COD_SIT" outros="[codigos=00,01,02,03,04,05,06,07,08]"/>
                    <edicao x="0" y="0" largura="4" valorPadrao="00"/>
                </campo>
                <campo n="7" id="SER" tipo="C" tamanho="3" obrigatorio="0" rotulo="Série"
                       descricao="Série do documento fiscal">
                    <edicao x="1" y="3" largura="1"/>
                </campo>
                <campo n="8" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número do documento"
                       descricao="Número do documento fiscal">
                    <edicao x="0" y="3" largura="1" componente="107"/>
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                </campo>
                <campo n="9" id="CHV_NFE" tipo="N" tamanho="[44]" obrigatorio="0" rotulo="Chave da NFe"
                       descricao="Chave da Nota Fiscal Eletrônica">
                    <validador id="REGRA_CHVDFE_MODELO_12001_V1" tipo="1" outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <edicao x="0" y="7" largura="3" componente="113"/>
                </campo>
                <campo n="10" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                       descricao="Data da emissão do documento fiscal (DDMMAAAA)">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="0" y="4" largura="1" componente="103"/>
                </campo>
                <campo n="11" id="DT_E_S" tipo="D" tamanho="[8]" outros="[obrigatorioEntrada=true]"
                       rotulo="Data da entrada ou saída" descricao="Data da entrada ou da saída">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="1" y="4" largura="1" componente="103"/>
                </campo>
                <campo n="12" id="VL_DOC" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor total do documento"
                       descricao="Valor total do documento fiscal">
                    <validador id="REGRA_VL_DOC_GRANDE" tipo="1"/>
                    <edicao x="0" y="10" largura="1" componente="104"/>
                </campo>
                <campo n="13" id="IND_PGTO" tipo="C" tamanho="1" obrigatorio="1" rotulo="Tipo de pagamento"
                       descricao="Indicador do tipo de pagamento">
                    <valores-validos valores="0=A vista;1=A prazo;2=Outros"/>
                    <edicao x="0" y="5" largura="4"/>
                </campo>
                <campo n="14" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do desconto"
                       descricao="Valor total do desconto">
                    <edicao x="0" y="11" largura="1" componente="104"/>
                </campo>
                <campo n="15" id="VL_ABAT_NT" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Abatimento não tributado"
                       descricao="Abatimento não tributado e não comercial Ex. desconto ICMS nas remessas para ZFM">
                    <edicao x="1" y="11" largura="1" componente="104"/>
                </campo>
                <campo n="16" id="VL_MERC" tipo="N" casasdecimais="2" outros="[obrigatorioEntrada=true]"
                       rotulo="Valor das mercadorias" descricao="Valor das mercadorias constantes no documento fiscal">
                    <edicao x="1" y="10" largura="1" componente="104"/>
                </campo>
                <campo n="17" id="IND_FRT" tipo="C" tamanho="1" obrigatorio="1" rotulo="Tipo do frete"
                       descricao="Indicador do tipo do frete">
                    <valores-validos
                            valores="0=Contratação do Frete por conta do Remetente(CIF);1=Contratação do Frete por conta do destinatário(FOB);2=Contratação do Frete por conta de terceiros;3=Transporte Próprio por conta do Rementente;4=Transporte Próprio por conta do Destinatário;9=Sem Ocorrência de Transporte"/>
                    <edicao x="0" y="6" largura="4" valorPadrao="2"/>

                </campo>
                <campo n="18" id="VL_FRT" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do frete"
                       descricao="Valor do frete indicado no documento fiscal">
                    <edicao x="0" y="12" largura="1" componente="104"/>
                </campo>
                <campo n="19" id="VL_SEG" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do seguro"
                       descricao="Valor do seguro indicado no documento fiscal">
                    <edicao x="1" y="12" largura="1" componente="104"/>
                </campo>
                <campo n="20" id="VL_OUT_DA" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor de outras despesas" descricao="Valor de outras despesas acessórias">
                    <edicao x="0" y="13" largura="1" componente="104"/>
                </campo>
                <campo n="21" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Base de cálculo do ICMS" descricao="Valor da base de cálculo do ICMS">
                    <edicao x="0" y="8" largura="1" componente="104"/>
                </campo>
                <campo n="22" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                       descricao="Valor do ICMS">
                    <edicao x="1" y="8" largura="1" componente="104"/>
                </campo>
                <campo n="23" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Base de cálculo do ICMS ST"
                       descricao="Valor da base de cálculo do ICMS substituição tributária">
                    <edicao x="0" y="9" largura="1" componente="104"/>
                </campo>
                <campo n="24" id="VL_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="ICMS retido por ST"
                       descricao="Valor do ICMS retido por substituição tributária">
                    <edicao x="1" y="9" largura="1" componente="104"/>
                </campo>
                <campo n="25" id="VL_IPI" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do IPI"
                       descricao="Valor total do IPI">
                    <edicao x="1" y="13" largura="1" componente="104"/>
                </campo>
                <campo n="26" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                       descricao="Valor total do PIS">
                    <edicao x="0" y="14" largura="1" componente="104"/>
                </campo>
                <campo n="27" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                       descricao="Valor total da COFINS">
                    <edicao x="0" y="15" largura="1" componente="104"/>
                </campo>
                <campo n="28" id="VL_PIS_ST" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="PIS retido por ST"
                       descricao="Valor total do PIS retido por substituição tributária">
                    <edicao x="1" y="14" largura="1" componente="104"/>
                </campo>
                <campo n="29" id="VL_COFINS_ST" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="COFINS retido por ST"
                       descricao="Valor total da COFINS retido por substituição tributária">
                    <edicao x="1" y="15" largura="1" componente="104"/>
                </campo>

                <registro id="C101" nivel="3" ocorrencia="1" obrigatorio="0" outros="[modelos=55]"
                          descricao="Informação complementar dos documentos fiscais quando das operações interestaduais destinadas a consumidor final não contribuinte EC 87/15 (Código 55)"
                          rotulo="Valor da obrigação recolhida ou a recolher - diferencial de alíquota - UF origem/destino EC87/15">
                    <validador id="REGRA_SOMENTE_INFORMAR_SE_OIE_V2" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C101”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C101"/>
                    </campo>
                    <campo n="2" id="VL_FCP_UF_DEST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total relativo ao Fundo de Combate à Pobreza (FCP)"
                           descricao="Valor total relativo ao Fundo de Combate à Pobreza (FCP) da UF de destino se for operação de entrada ou da UF de origem de se for operação de saída"/>
                    <campo n="3" id="VL_ICMS_UF_DEST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total do ICMS interestadual para a UF de destino"
                           descricao="Valor total do ICMS interestadual para a UF de destino"/>
                    <campo n="4" id="VL_ICMS_UF_REM" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total do ICMS interestadual para a UF do remetente"
                           descricao="Valor total do ICMS interestadual para a UF do remetente"/>
                </registro>

                <registro id="C105" nivel="3" ocorrencia="1" obrigatorio="2" outros="[modelos=55]"
                          descricao="Operações Com ICMS ST Recolhido Para UF Diversa Do Destinatário Do Documento Fiscal"
                          rotulo="ICMS ST p/UF Diversa">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C105”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C105"/>
                    </campo>
                    <campo n="2" id="OPER" tipo="N" tamanho="[1]" obrigatorio="1" rotulo="Tipo de operação"
                           descricao="Indicador do tipo de operação: 0-Combustíveis e Lubrificantes; 1-Leasing de veículos ou faturamento direto; 2-Recusa de recebimento (de acordo com as condições descritas nas instruções do Registro)">
                        <valores-validos
                                valores="0=Combustíveis e Lubrificantes;1=Leasing de veículos ou faturamento direto;2=Recusa de recebimento (de acordo com as condições descritas nas instruções do Registro)"/>
                    </campo>
                    <campo n="3" id="COD_UF" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="UF"
                           descricao="Sigla da UF de destino do ICMS_ST">
                        <valores-validos datasource="UF_SIGLA_NOME"/>
                    </campo>
                </registro>

                <registro id="C110" nivel="3" ocorrencia="2" obrigatorio="2" chave="COD_INF"
                          outros="[modelos=01,1B,55,04]" descricao="Informação Complementar" rotulo="Complemento">
                    <validador id="REGRA_EXISTE_COD_INF_V2" tipo="6"/>
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <edicao posicao="7"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C110”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C110"/>
                    </campo>
                    <campo n="2" id="COD_INF" tipo="C" tamanho="6" obrigatorio="1"
                           rotulo="Código inf complementar (doc fiscal)"
                           descricao="Código da informação complementar do documento fiscal (campo 02 do Registro 0450)"
                           referenciaPesquisa="0450;COD_INF">
                        <valores-validos datasource="COD_INF_0450_SV"/>
                    </campo>
                    <campo n="3" id="TXT_COMPL" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                           descricao="Descrição complementar do código de referência">
                    </campo>

                    <registro id="C111" nivel="4" ocorrencia="2" obrigatorio="0" chave="NUM_PROC"
                              outros="[modelos=01,1B,55]" rotulo="Processo" descricao="Processo Referenciado">
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C111”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C111"/>
                        </campo>
                        <campo n="2" id="NUM_PROC" tipo="C" tamanho="60" obrigatorio="1"
                               rotulo="Identificação do processo"
                               descricao="Identificação do processo ou ato concessório">
                        </campo>
                        <campo n="3" id="IND_PROC" tipo="C" tamanho="1" obrigatorio="1" rotulo="Origem do processo"
                               descricao="Indicador da origem do processo">
                            <valores-validos
                                    valores="0=Sefaz;1=Justiça Federal;2=Justiça Estadual;3=Secex/SRF;9=Outros"/>
                        </campo>
                    </registro>

                    <registro id="C112" nivel="4" ocorrencia="2" obrigatorio="0" outros="[modelos=01,1B,55]"
                              rotulo="Doc. Arrecadação" descricao="Documento de arrecadação referenciado">
                        <validador id="REGRA_OBRIGATORIO_COD_AUT" tipo="2" campoMsg="COD_AUT"
                                   outrosCamposEnvolvidosValidacao="NUM_DA"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C112”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C112"/>
                        </campo>
                        <campo n="2" id="COD_DA" tipo="C" tamanho="1" obrigatorio="1" rotulo="Modelo do documento"
                               descricao="Código do modelo do documento de arrecadação">
                            <valores-validos valores="0=documento estadual de arrecadação;1=GNRE"/>
                        </campo>
                        <campo n="3" id="UF" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="UF beneficiária"
                               descricao="Unidade federada beneficiária do recolhimento">
                            <valores-validos datasource="UF_SIGLA_NOME"/>
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="4" id="NUM_DA" tipo="C" obrigatorio="0" rotulo="Número do documento"
                               descricao="Número do documento de arrecadação">
                            <edicao x="0" y="1" largura="2"/>
                        </campo>
                        <campo n="5" id="COD_AUT" tipo="C" obrigatorio="0" rotulo="Código autenticação bancária"
                               descricao="Código completo da autenticação bancária">
                            <edicao x="0" y="2" largura="2"/>
                        </campo>
                        <campo n="6" id="VL_DA" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor total do documento"
                               descricao="Valor do total do documento de arrecadação (principal, atualização monetária, juros e multa)">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="0" y="3" largura="2" componente="104"/>
                        </campo>
                        <campo n="7" id="DT_VCTO" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data de vencimento"
                               descricao="Data de vencimento do documento de arrecadação">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="0" y="4" largura="1" componente="103"/>
                        </campo>
                        <campo n="8" id="DT_PGTO" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data de pagamento"
                               descricao="Data de pagamento do documento de arrecadação, ou data do vencimento, no caso de ICMS antecipado a recolher">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="1" y="4" largura="1" componente="103"/>
                        </campo>
                    </registro>

                    <registro id="C113" nivel="4" ocorrencia="2" obrigatorio="0"
                              chave="IND_EMIT,NUM_DOC,COD_MOD,SER,COD_PART"
                              outros="[modelos=01,1B,04,55;naousachavenaduplicidade=true]" rotulo="Doc. Fiscal"
                              descricao="Documento fiscal referenciado">

                        <persistencia indices="COD_PART"/>

                        <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                        <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_C113_EMISSAO_PROPRIA" tipo="6"/>
                        <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_C113_EMISSAO_TERCEIROS" tipo="6"/>
                        <validador id="REGRA_DATA_MENOR_IGUAL_DT_DOC_C100_C113" tipo="6"/>
                        <validador id="REGRA_IND_EMIT" tipo="2" campoMsg="IND_EMIT"
                                   outrosCamposEnvolvidosValidacao="IND_OPER"/>
                        <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_A13E1V2" tipo="2" campoMsg="CHV_DOCE"
                                   outrosCamposEnvolvidosValidacao="COD_MOD;IND_EMIT"/>
                        <validador id="REGRA_PREENCHER_CHV_NFE_CTE_A13E1V2" tipo="2" campoMsg="CHV_DOCE"
                                   outrosCamposEnvolvidosValidacao="COD_MOD"/>
                        <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_DOCE"/>
                        <validador id="REGRA_VALIDA_CNPJ_NFE_14001_V1" tipo="2" campoMsg="CHV_DOCE"/>
                        <validador id="REGRA_VALIDA_UF_NFE_CTE_V2" tipo="2" campoMsg="CHV_DOCE"/>
                        <validador id="REGRA_COMPARA_CNPJ_DOCE_PARTICIPANTE_12001_V6" tipo="6"/>
                        <validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE" tipo="2" campoMsg="CHV_DOCE"
                                   outrosCamposEnvolvidosValidacao="NUM_DOC"/>
                        <validador id="REGRA_COMPARA_CODIGO_MODELO" tipo="2" campoMsg="CHV_DOCE"/>
                        <validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_DOCE"/>
                        <validador id="REGRA_OBRIGATORIO_COD_PART_14002_V1" tipo="2" campoMsg="COD_PART"
                                   outrosCamposEnvolvidosValidacao="COD_MOD"/>

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C113”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C113"/>
                        </campo>
                        <campo n="2" id="IND_OPER" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Tipo de operação"
                               descricao="Indicador do tipo de operação">
                            <valores-validos valores="0=Entrada;1=Saída"/>
                            <edicao x="0" y="1" largura="6"/>
                        </campo>
                        <campo n="3" id="IND_EMIT" tipo="C" tamanho="[1]" obrigatorio="1"
                               rotulo="Emitente do Documento Fiscal"
                               descricao="Indicador do emitente do Documento Fiscal">
                            <valores-validos valores="0=Emissão Própria;1=Terceiros"/>
                            <edicao x="0" y="2" largura="6"/>
                        </campo>
                        <campo n="4" id="COD_PART" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do participante"
                               descricao="Código do participante emitente (campo 02 do Registro 0150) do documento referenciado"
                               referenciaPesquisa="0150;COD_PART">
                            <valores-validos datasource="COD_PART_0150_SV"/>
                            <edicao x="0" y="3" largura="6"/>
                        </campo>
                        <campo n="5" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1"
                               rotulo="Código do documento fiscal"
                               descricao="Código do documento fiscal, conforme a tabela de Codificação dos Documentos">
                            <valores-validos datasource="COD_MOD_ECF"/>
                            <edicao x="0" y="0" largura="6"/>
                        </campo>
                        <campo n="6" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série"
                               descricao="Série do documento fiscal">
                            <edicao x="1" y="4" largura="1"/>
                        </campo>
                        <campo n="7" id="SUB" tipo="N" tamanho="3" obrigatorio="0" rotulo="Subsérie"
                               descricao="Subsérie do documento fiscal">
                            <edicao x="2" y="4" largura="1" componente="107"/>
                        </campo>
                        <campo n="8" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número do documento"
                               descricao="Número do documento fiscal">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="0" y="4" largura="1" componente="107"/>
                        </campo>
                        <campo n="9" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                               descricao="Data da emissão do documento fiscal">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="0" y="5" largura="1" componente="103"/>
                        </campo>
                        <campo n="10" id="CHV_DOCE" tipo="N" tamanho="[44]" obrigatorio="0"
                               rotulo="Chave do documento eletrônico" descricao="Chave do documento eletrônico">
                            <edicao componente="113"/>
                        </campo>
                    </registro>

                    <registro id="C114" nivel="4" ocorrencia="2" obrigatorio="0" chave="NUM_DOC,DT_DOC,ECF_FAB"
                              outros="[modelos=01,1B,55]" rotulo="Cupom Fiscal" descricao="Cupom fiscal referenciado">
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C114”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C114"/>
                        </campo>
                        <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1"
                               rotulo="Código do modelo do documento"
                               descricao="Código do modelo do documento fiscal, conforme a tabela de Codificação dos Documentos">
                            <valores-validos
                                    valores="02=Nota Fiscal de Venda a Consumidor;2D=Cupom Fiscal emitido por ECF;2E=Bilhete de Passagem emitido por ECF"/>
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="3" id="ECF_FAB" tipo="C" tamanho="21" obrigatorio="1"
                               rotulo="Série de fabricação do ECF" descricao="Número de série de fabricação do ECF">
                            <edicao x="0" y="1" largura="1"/>
                        </campo>
                        <campo n="4" id="ECF_CX" tipo="N" tamanho="3" obrigatorio="1" rotulo="Caixa atribuído ao ECF"
                               descricao="Número do caixa atribuído ao ECF">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="1" y="1" largura="1" componente="107"/>
                        </campo>
                        <campo n="5" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número do documento"
                               descricao="Número do documento fiscal">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="0" y="2" largura="1" componente="107"/>
                        </campo>
                        <campo n="6" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                               descricao="Data da emissão do documento fiscal">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="1" y="2" largura="1" componente="103"/>
                        </campo>
                    </registro>

                    <registro id="C115" nivel="4" ocorrencia="2" obrigatorio="2" outros="[modelos=01,1B,04]"
                              rotulo="Local Coleta/Entrega" descricao="Local Coleta/Entrega">
                        <validador id="REGRA_VALIDA_IE_COD_MUN_COL_V2" tipo="2" campoMsg="IE_COL"
                                   outrosCamposEnvolvidosValidacao="COD_MUN_COL"/>
                        <validador id="REGRA_VALIDA_IE_COD_MUN_ENTG_V2" tipo="2" campoMsg="IE_ENTG"
                                   outrosCamposEnvolvidosValidacao="COD_MUN_ENTG"/>
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C115”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C115"/>
                        </campo>
                        <campo n="2" id="IND_CARGA" tipo="N" tamanho="1" outros="[obrigatorioSaida=true]"
                               rotulo="Tipo de carga" descricao="Indicador do tipo de transporte da carga coletada">
                            <valores-validos
                                    valores="0=Rodoviário;1=Ferroviário;2=Rodo-Ferroviário;3=Aquaviário;4=Dutoviário;5=Aéreo;9=Outros"/>
                            <edicao x="0" y="0" largura="6"/>
                        </campo>
                        <campo n="3" id="CNPJ_COL" tipo="N" tamanho="[14]" obrigatorio="0" rotulo="CNPJ (coleta)"
                               descricao="Número do CNPJ do contribuinte do local de coleta">
                            <validador id="REGRA_DIGITO_CNPJ" tipo="1"/>
                            <edicao x="0" y="1" largura="1" componente="102"/>
                        </campo>
                        <campo n="4" id="IE_COL" tipo="C" tamanho="14" obrigatorio="0" rotulo="IE (coleta)"
                               descricao="Inscrição Estadual do contribuinte do local de coleta">
                            <edicao x="2" y="1" largura="1"/>
                        </campo>
                        <campo n="5" id="CPF_COL" tipo="N" tamanho="[11]" obrigatorio="0" rotulo="CPF (coleta)"
                               descricao="CPF do contribuinte do local de coleta das mercadorias">
                            <validador id="REGRA_DIGITO_CPF" tipo="1"/>
                            <edicao x="1" y="1" largura="1" componente="101"/>
                        </campo>
                        <campo n="6" id="COD_MUN_COL" tipo="N" tamanho="[7]" obrigatorio="0"
                               rotulo="Código do Município (coleta)"
                               descricao="Código do Município do local de coleta conforme tabela IBGE">
                            <valores-validos datasource="COD_MUN"/>
                            <edicao x="0" y="2" largura="6"/>
                        </campo>
                        <campo n="7" id="CNPJ_ENTG" tipo="N" tamanho="[14]" obrigatorio="0" rotulo="CNPJ (entrega)"
                               descricao="Número do CNPJ do contribuinte do local de entrega">
                            <validador id="REGRA_DIGITO_CNPJ" tipo="1"/>
                            <edicao x="0" y="3" largura="1" componente="102"/>
                        </campo>
                        <campo n="8" id="IE_ENTG" tipo="C" tamanho="14" obrigatorio="0" rotulo="IE (entrega)"
                               descricao="Inscrição Estadual do contribuinte do local de entrega">
                            <edicao x="2" y="3" largura="1"/>
                        </campo>
                        <campo n="9" id="CPF_ENTG" tipo="N" tamanho="[11]" obrigatorio="0" rotulo="CPF (entrega)"
                               descricao="CPF do contribuinte do local de entrega">
                            <validador id="REGRA_DIGITO_CPF" tipo="1"/>
                            <edicao x="1" y="3" largura="1" componente="101"/>
                        </campo>
                        <campo n="10" id="COD_MUN_ENTG" tipo="N" tamanho="[7]" obrigatorio="0"
                               rotulo="Código do Município (entrega)"
                               descricao="Código do Município do local de entrega conforme tabela do IBGE">
                            <valores-validos datasource="COD_MUN"/>
                            <edicao x="0" y="4" largura="6"/>
                        </campo>
                    </registro>

                    <registro id="C116" nivel="4" ocorrencia="2" obrigatorio="2" chave="NR_SAT,NUM_CFE"
                              outros="[modelos=01,1B,55]" rotulo="Cupom Fiscal Eletrônico"
                              descricao="Cupom Fiscal Eletrônico - CF-e referenciado">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_CFE"/>
                        <validador id="REGRA_COMPARA_CNPJ_CFE" tipo="2" campoMsg="CHV_CFE"/>
                        <validador id="REGRA_COMPARA_UF_CFE" tipo="2" campoMsg="CHV_CFE"/>
                        <validador id="REGRA_COMPARA_COD_MOD_DFE" tipo="2" camposMsg="CHV_CFE"/>
                        <validador id="REGRA_COMPARA_SERIE_SAT_CFE" tipo="2" camposMsg="CHV_CFE"/>
                        <validador id="REGRA_COMPARA_NUMERO_CFE" tipo="2" camposMsg="CHV_CFE"/>
                        <validador id="REGRA_COMPARA_MES_ANO_DFE" tipo="2" camposMsg="DT_DOC"/>


                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C116”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C116"/>
                        </campo>
                        <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1"
                               rotulo="Código do modelo de documento fiscal"
                               descricao="Código do modelo de Documento Fiscal">
                            <valores-validos valores="59=Cupom Fiscal Eletrônico - CF-e"/>
                            <edicao x="0" y="0" largura="2"/>
                        </campo>
                        <campo n="3" id="NR_SAT" tipo="N" tamanho="9" obrigatorio="1"
                               rotulo="Número de Série do Equipamento SAT"
                               descricao="Número de série do Equipamento SAT">
                            <edicao x="0" y="1" largura="6"/>
                        </campo>
                        <campo n="4" id="CHV_CFE" tipo="N" tamanho="[44]" obrigatorio="1"
                               rotulo="Chave do cupom fiscal Eletrônico" descricao="Chave do Cupom Fiscal Eletrônico">
                            <edicao x="0" y="2" largura="6" componente="117"/>
                        </campo>
                        <campo n="5" id="NUM_CFE" tipo="N" tamanho="6" obrigatorio="1"
                               rotulo="Número do cupom fiscal eletrônico" descricao="Número do cupom fiscal eletrônico">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="0" y="3" largura="6"/>
                        </campo>
                        <campo n="6" id="DT_DOC" tipo="N" tamanho="[8]" obrigatorio="1"
                               rotulo="Data de Emissão do Documento Fiscal"
                               descricao="Data de Emissão do Documento Fiscal">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="0" y="4" largura="6" componente="103"/>
                        </campo>
                    </registro>
                </registro>

                <registro id="C120" nivel="3" ocorrencia="2" obrigatorio="2" chave="NUM_DOC_IMP,NUM_ACDRAW"
                          outros="[modelos=01,55]" rotulo="Importação" descricao="Operações de importação">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C120”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C120"/>
                    </campo>
                    <campo n="2" id="COD_DOC_IMP" tipo="C" tamanho="1" outros="[obrigatorioEntrada=true]"
                           rotulo="Documento de importação" descricao="Documento de importação">
                        <valores-validos valores="0=Declaração de Importação;1=Declaração Simplificada de Importação"/>
                        <edicao x="0" y="0" largura="6"/>
                    </campo>
                    <campo n="3" id="NUM_DOC_IMP" tipo="C" tamanho="15" outros="[obrigatorioEntrada=true]"
                           rotulo="Número do documento" descricao="Número do documento de Importação">
                        <edicao x="0" y="1" largura="1"/>
                    </campo>
                    <campo n="4" id="PIS_IMP" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor pago de PIS"
                           descricao="Valor pago de PIS na importação">
                        <edicao x="1" y="1" largura="1" componente="104"/>
                    </campo>
                    <campo n="5" id="COFINS_IMP" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor pago de COFINS" descricao="Valor pago de COFINS na importação">
                        <edicao x="2" y="1" largura="1" componente="104"/>
                    </campo>
                    <campo n="6" id="NUM_ACDRAW" tipo="C" tamanho="20" obrigatorio="0"
                           rotulo="Número do Ato Concessório do regime Drawback"
                           descricao="Número do Ato Concessório do regime Drawback">
                    </campo>
                </registro>

                <registro id="C130" nivel="3" ocorrencia="1" obrigatorio="2" outros="[modelos=01,1B,04]"
                          rotulo="ISS, IR e Previdência" descricao="ISSQN, IRRF e Previdência Social">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C130”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C130"/>
                    </campo>
                    <campo n="2" id="VL_SERV_NT" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor dos serviços NT"
                           descricao="Valor dos serviços sob não-incidência ou não-tributados pelo ICMS">
                        <edicao x="0" y="0" largura="1" componente="104"/>
                    </campo>
                    <campo n="3" id="VL_BC_ISSQN" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base cálculo do ISSQN" descricao="Valor da base de cálculo do ISSQN">
                        <edicao x="0" y="1" largura="1" componente="104"/>
                    </campo>
                    <campo n="4" id="VL_ISSQN" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ISSQN"
                           descricao="Valor do ISSQN">
                        <edicao x="1" y="1" largura="1" componente="104"/>
                    </campo>
                    <campo n="5" id="VL_BC_IRRF" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base cálculo do IRRF"
                           descricao="Valor da base de cálculo do Imposto de Renda Retido na Fonte">
                        <edicao x="0" y="2" largura="1" componente="104"/>
                    </campo>
                    <campo n="6" id="VL_IRRF" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do IRRF"
                           descricao="Valor do Imposto de Renda Retido na Fonte">
                        <edicao x="1" y="2" largura="1" componente="104"/>
                    </campo>
                    <campo n="7" id="VL_BC_PREV" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base cálculo Previdência Social"
                           descricao="Valor da base de cálculo de retenção da Previdência Social">
                        <edicao x="0" y="3" largura="1" componente="104"/>
                    </campo>
                    <campo n="8" id="VL_PREV" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor retido Previdência Social"
                           descricao="Valor destacado para retenção da Previdência Social">
                        <edicao x="1" y="3" largura="1" componente="104"/>
                    </campo>
                </registro>


                <registro id="C140" nivel="3" ocorrencia="1" obrigatorio="2" outros="[modelos=01]" rotulo="Fatura"
                          descricao="Fatura">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <edicao posicao="5"/>
                    <validador id="REGRA_QTD_PARC_C140" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C140”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C140"/>
                    </campo>
                    <campo n="2" id="IND_EMIT" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Emitente do título"
                           descricao="Indicador do emitente do título">
                        <valores-validos valores="0=Emissão própria;1=Terceiros"/>
                        <edicao x="0" y="0" largura="6"/>
                    </campo>
                    <campo n="3" id="IND_TIT" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="Tipo do título"
                           descricao="Tipo de título de crédito">
                        <valores-validos
                                valores="00=Duplicata;01=Cheque;02=Promissória;03=Recibo;99=Outros (descrever)"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="DESC_TIT" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                           descricao="Descrição complementar do título de crédito">
                        <edicao x="0" y="2" largura="6"/>
                    </campo>
                    <campo n="5" id="NUM_TIT" tipo="C" obrigatorio="1" rotulo="Número do título"
                           descricao="Número do título de crédito">
                        <edicao x="0" y="3" largura="1"/>
                    </campo>
                    <campo n="6" id="QTD_PARC" tipo="N" tamanho="2" obrigatorio="1" rotulo="Quantidade de parcelas"
                           descricao="Quantidade de parcelas a receber/pagar">
                        <edicao x="1" y="3" largura="1" componente="107"/>
                    </campo>
                    <campo n="7" id="VL_TIT" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor total"
                           descricao="Valor total dos títulos de créditos">
                        <edicao x="2" y="3" largura="1" componente="104"/>
                    </campo>

                    <registro id="C141" nivel="4" ocorrencia="2" obrigatorio="1" chave="NUM_PARC" outros="[modelos=01]"
                              rotulo="Vencimento" descricao="Vencimento">
                        <validador id="REGRA_DATA_MAIOR_IGUAL_DT_DOC_C100" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C141”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C141"/>
                        </campo>
                        <campo n="2" id="NUM_PARC" tipo="N" tamanho="2" obrigatorio="1" rotulo="Número da parcela"
                               descricao="Número da parcela a receber/pagar">
                            <edicao x="0" y="0" largura="1"/>
                        </campo>
                        <campo n="3" id="DT_VCTO" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data de vencimento"
                               descricao="Data de vencimento da parcela">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="0" y="1" largura="1" componente="103"/>
                        </campo>
                        <campo n="4" id="VL_PARC" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor da parcela"
                               descricao="Valor da parcela a receber/pagar">
                            <edicao x="0" y="2" largura="1" componente="104"/>
                        </campo>
                    </registro>

                </registro>

                <registro id="C160" nivel="3" ocorrencia="1" obrigatorio="2" outros="[modelos=01,04]"
                          rotulo="Vol. Transportado" descricao="Volumes Transportados">

                    <persistencia indices="COD_PART"/>

                    <edicao posicao="6"/>
                    <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C160”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C160"/>
                    </campo>
                    <campo n="2" id="COD_PART" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do participante"
                           descricao="Código do participante (campo 02 do Registro 0150): - transportador, se houver"
                           referenciaPesquisa="0150;COD_PART">
                        <valores-validos datasource="COD_PART_0150_SV"/>
                        <edicao x="0" y="0" largura="6"/>
                    </campo>
                    <campo n="3" id="VEIC_ID" tipo="C" tamanho="[7]" obrigatorio="0" rotulo="Placa do veículo"
                           descricao="Placa de identificação do veículo">
                        <edicao x="0" y="2" largura="1"/>
                    </campo>
                    <campo n="4" id="QTD_VOL" tipo="N" outros="[obrigatorioSaida=true]" rotulo="Quantidade de volumes"
                           descricao="Quantidade de volumes transportados">
                        <edicao x="0" y="1" largura="1" componente="107"/>
                    </campo>
                    <campo n="5" id="PESO_BRT" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Peso bruto" descricao="Peso bruto dos volumes transportados (em Kg)">
                        <edicao x="1" y="1" largura="1" componente="106"/>
                    </campo>
                    <campo n="6" id="PESO_LIQ" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Peso líquido" descricao="Peso líquido dos volumes transportados (em Kg)">
                        <edicao x="2" y="1" largura="1" componente="106"/>
                    </campo>
                    <campo n="7" id="UF_ID" tipo="C" tamanho="2" obrigatorio="0"
                           rotulo="Sigla da UF da placa do veículo" descricao="Sigla da UF da placa do veículo">
                        <valores-validos datasource="UF_SIGLA_NOME"/>
                        <edicao x="1" y="2" largura="4"/>
                    </campo>
                </registro>

                <registro id="C165" nivel="3" ocorrencia="2" obrigatorio="2" chave="COD_PART,VEIC_ID"
                          outros="[modelos=01]" rotulo="Ope. Combustível" descricao="Operações com combustíveis">

                    <persistencia indices="COD_PART"/>

                    <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C165”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C165"/>
                    </campo>
                    <campo n="2" id="COD_PART" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do participante"
                           descricao="Código do participante (campo 02 do Registro 0150): - transportador, se houver"
                           referenciaPesquisa="0150;COD_PART">
                        <valores-validos datasource="COD_PART_0150_SV"/>
                        <edicao x="0" y="0" largura="6"/>
                    </campo>
                    <campo n="3" id="VEIC_ID" tipo="C" tamanho="[7]" obrigatorio="1" rotulo="Placa do veículo"
                           descricao="Placa de identificação do veículo">
                        <edicao x="0" y="5" largura="1"/>
                    </campo>
                    <campo n="4" id="COD_AUT" tipo="C" obrigatorio="0" rotulo="Código da autorização/SEFAZ"
                           descricao="Código da autorização fornecido pela SEFAZ (combustíveis)">
                        <edicao x="0" y="1" largura="1"/>
                    </campo>
                    <campo n="5" id="NR_PASSE" tipo="C" obrigatorio="0" rotulo="Número do Passe Fiscal"
                           descricao="Número do Passe Fiscal">
                        <edicao x="1" y="1" largura="1"/>
                    </campo>
                    <campo n="6" id="HORA" tipo="N" tamanho="[6]" outros="[obrigatorioSaida=true]"
                           rotulo="Hora da saída" descricao="Hora da saída das mercadorias">
                        <edicao x="0" y="2" largura="1" componente="110"/>
                    </campo>
                    <campo n="7" id="TEMPER" tipo="N" casasdecimais="1" obrigatorio="0"
                           rotulo="Temperatura em graus Celsius"
                           descricao="Temperatura em graus Celsius utilizada para quantificação do volume de combustível">
                        <edicao x="1" y="2" largura="1" componente="106"/>
                    </campo>
                    <campo n="8" id="QTD_VOL" tipo="N" obrigatorio="1" rotulo="Quantidade de volumes"
                           descricao="Quantidade de volumes transportados">
                        <edicao x="2" y="2" largura="1" componente="107"/>
                    </campo>
                    <campo n="9" id="PESO_BRT" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Peso bruto"
                           descricao="Peso bruto dos volumes transportados (em Kg)">
                        <edicao x="0" y="3" largura="1" componente="106"/>
                    </campo>
                    <campo n="10" id="PESO_LIQ" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Peso líquido"
                           descricao="Peso líquido dos volumes transportados (em Kg)">
                        <edicao x="1" y="3" largura="1" componente="106"/>
                    </campo>
                    <campo n="11" id="NOM_MOT" tipo="C" tamanho="60" obrigatorio="0" rotulo="Nome do motorista"
                           descricao="Nome do motorista">
                        <edicao x="1" y="4" largura="4"/>
                    </campo>
                    <campo n="12" id="CPF" tipo="N" tamanho="[11]" obrigatorio="0" rotulo="CPF do motorista"
                           descricao="CPF do motorista">
                        <validador id="REGRA_DIGITO_CPF" tipo="1"/>
                        <edicao x="0" y="4" largura="1" componente="101"/>
                    </campo>
                    <campo n="13" id="UF_ID" tipo="C" tamanho="2" obrigatorio="0"
                           rotulo="Sigla da UF da placa do veículo" descricao="Sigla da UF da placa do veículo">
                        <valores-validos datasource="UF_SIGLA_NOME"/>
                        <edicao x="1" y="5" largura="4"/>
                    </campo>
                </registro>

                <registro id="C170" nivel="3" ocorrencia="2" obrigatorio="2" chave="NUM_ITEM"
                          outros="[modelos=01,1B,04,55]" rotulo="Itens" descricao="Itens">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <persistencia indices="COD_ITEM;COD_NAT;UNID"/>
                    <validador id="REGRA_EXISTE_COD_NAT_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                    <validador id="REGRA_CFOP_C100" tipo="6"/>
                    <!-- <validador id="REGRA_NUM_ITEM_SEQ" tipo="6"/> Remoção de acordo com Relato 1890490 em 4/10/2019 (ALM)-->
                    <!-- as regras antigas permanecem e funcionarão até abril-->
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS_C170" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ST_COM_COD_SIT_C170" tipo="6"/>
                    <!-- as regras antigas permanecem e funcionarão até abril-->
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS_C170_V3" tipo="2"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ST_COM_COD_SIT_C170_V2" tipo="2"/>
                    <validador id="REGRA_ALIQ_ICMS_C170" tipo="6"/>
                    <validador id="REGRA_VALIDA_CST_IPI" tipo="2" camposMsg="CST_IPI"
                               outrosCamposEnvolvidosValidacao="CFOP"/>
                    <validador id="REGRA_MAIOR_ZERO_CONDICAO_COD_SIT" camposMsg="QTD" tipo="2"/>
                    <validador id="REGRA_COMPLEMENTO_NFE_EMITIDA_15001_V1_C176_C177_C180_C181" tipo="6"/>
                    <validador id="REGRA_VALIDA_UNID_CONVERSAO_17001_V1" tipo="6"/>

                    <edicao posicao="1">

                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP" campoObservado="CFOP"/>

                        <painel-botoes exibirBotaoExcluir="false">
                            <botao id="BOTAO_EXCLUIR_COM_REGISTROS_ANALITICOS" icone="/icones/cadastro_menos.gif"
                                   tooltip="Excluir"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionExcluirRegistroeGerarAnaliticos"
                                   x="0" y="20"/>
                        </painel-botoes>

                        <painel-registro exibirBotaoSalvar="false">
                            <botao id="BOTAO_NOVOS_ITENS" texto="Novo" tooltip="Abre um novo item para inserção"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirNovoItem"
                                   x="0" y="0" largura="1"/>
                            <botao id="BOTAO_SALVAR_COM_REGISTROS_ANALITICOS" texto="Salvar" tooltip="Salvar Registro"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionSalvarRegistroeGerarAnaliticos"
                                   x="1" y="0" largura="1" insets="10,10,10,10"/>
                        </painel-registro>


                    </edicao>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C170”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C170"/>
                    </campo>
                    <campo n="2" id="NUM_ITEM" tipo="N" tamanho="3" obrigatorio="1" rotulo="Número seqüencial"
                           descricao="Número seqüencial do item no documento fiscal">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao x="0" y="0" largura="1" componente="107"/>
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do item"
                           descricao="Código do item (campo 02 do Registro 0200)" referenciaPesquisa="0200;COD_ITEM">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="DESCR_COMPL" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                           descricao="Descrição complementar do item como adotado no documento fiscal">
                        <edicao x="0" y="2" largura="6"/>
                    </campo>
                    <campo n="5" id="QTD" tipo="N" casasdecimais="5" obrigatorio="1" rotulo="Quantidade do item"
                           descricao="Quantidade do item">
                        <edicao x="0" y="8" largura="1" componente="106"/>
                    </campo>
                    <campo n="6" id="UNID" tipo="C" tamanho="6" obrigatorio="1" rotulo="Código da unidade de medida"
                           descricao="Código da unidade de medida do item(Campo 02 do registro 0190)"
                           referenciaPesquisa="0190;UNID">
                        <valores-validos datasource="UNID_0190_SV"/>
                        <edicao x="0" y="6" largura="6"/>
                    </campo>
                    <campo n="7" id="VL_ITEM" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor total do item"
                           descricao="Valor total do item">
                        <edicao x="1" y="8" largura="1" componente="104"/>
                    </campo>
                    <campo n="8" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do desconto"
                           descricao="Valor do desconto comercial">
                        <edicao x="2" y="8" largura="1" componente="104"/>
                    </campo>
                    <campo n="9" id="IND_MOV" tipo="C" tamanho="1" obrigatorio="1" rotulo="Movimentação física"
                           descricao="Movimentação física do ITEM/PRODUTO">
                        <valores-validos valores="0=Sim;1=Não"/>
                        <edicao x="0" y="7" largura="6"/>
                    </campo>
                    <campo n="10" id="CST_ICMS" tipo="N" tamanho="[3]" obrigatorio="1" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária, referente ao ICMS, conforme Tabela Código da Situação Tributária - CST (ICMS)">
                        <valores-validos datasource="CST_ICMS"/>
                        <edicao x="0" y="4" largura="6"/>
                    </campo>
                    <campo n="11" id="CFOP" tipo="N" tamanho="[4]" obrigatorio="1" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                        <edicao x="0" y="5" largura="6"/>
                    </campo>
                    <campo n="12" id="COD_NAT" tipo="C" tamanho="10" obrigatorio="0"
                           rotulo="Código da Natureza da operação"
                           descricao="Código da natureza da operação (campo 02 do registro 0400)"
                           referenciaPesquisa="0400;COD_NAT">
                        <valores-validos datasource="COD_NAT_0400_SV"/>
                        <edicao x="0" y="3" largura="6"/>
                    </campo>
                    <campo n="13" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo do ICMS" descricao="Valor da base de cálculo do ICMS">
                        <validador id="REGRA_VALIDA_CST_VL_BC_ICMS_C170" tipo="1"/>
                        <edicao x="1" y="9" largura="1" componente="104"/>
                    </campo>
                    <campo n="14" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <validador id="REGRA_VALIDA_CST_ALIQ_ICMS_C170" tipo="1"/>
                        <edicao x="0" y="9" largura="1" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="15" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                           descricao="Valor do ICMS creditado/debitado">
                        <edicao x="2" y="9" largura="1" componente="104"/>
                    </campo>
                    <campo n="16" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo do ICMS ST"
                           descricao="Valor da base de cálculo referente à substituição tributária">
                        <validador id="REGRA_VALIDA_CST_VL_BC_ICMS_ST_C170" tipo="1"/>
                        <edicao x="1" y="12" largura="1" componente="104"/>
                    </campo>
                    <campo n="17" id="ALIQ_ST" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS ST(%)"
                           descricao="Alíquota do ICMS da substituição tributária na unidade da federação de destino">
                        <validador id="REGRA_VALIDA_CST_ALIQ_ST_C170" tipo="1"/>
                        <edicao x="0" y="12" largura="1" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="18" id="VL_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS ST"
                           descricao="Valor do ICMS referente à substituição tributária">
                        <edicao x="2" y="12" largura="1" componente="104"/>
                    </campo>
                    <campo n="19" id="IND_APUR" tipo="C" tamanho="[1]" obrigatorio="0" rotulo="Período apuração do IPI"
                           descricao="Indicador de período de apuração do IPI">
                        <valores-validos valores="0=Mensal;1=Decendial"/>
                        <edicao x="0" y="13" largura="6"/>
                    </campo>
                    <campo n="20" id="CST_IPI" tipo="C" tamanho="[2]" obrigatorio="0" rotulo="CST/IPI"
                           descricao="Código da Situação Tributária referente ao IPI, conforme Tabela Código de Tributação do IPI – CST_IPI: Tabela publicada pela RFB">
                        <valores-validos datasource="CST_IPI"/>
                        <edicao x="0" y="14" largura="6"/>
                    </campo>
                    <campo n="21" id="COD_ENQ" tipo="C" tamanho="[3]" obrigatorio="0"
                           rotulo="Código de enquadramento do IPI"
                           descricao="Código de enquadramento legal do IPI, conforme Tabela Código de Enquadramento Legal do IPI – Tabela publicada pela RFB">
                        <valores-validos datasource="COD_ENQ"/>
                        <edicao x="0" y="15" largura="6"/>
                    </campo>
                    <campo n="22" id="VL_BC_IPI" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo do IPI" descricao="Valor da base de cálculo do IPI">
                        <edicao x="1" y="16" largura="1" componente="104"/>
                    </campo>
                    <campo n="23" id="ALIQ_IPI" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do IPI(%)" descricao="Alíquota do IPI">
                        <edicao x="0" y="16" largura="1" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="24" id="VL_IPI" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do IPI"
                           descricao="Valor do IPI creditado/debitado">
                        <edicao x="2" y="16" largura="1" componente="104"/>
                    </campo>
                    <campo n="25" id="CST_PIS" tipo="N" tamanho="[2]" obrigatorio="0" rotulo="CST/PIS"
                           descricao="Código da Situação Tributária referente ao PIS, conforme Tabela Código de Situação Tributária do PIS – Tabela publicada pela RFB">
                        <valores-validos datasource="CST_PIS"/>
                        <edicao x="0" y="19" largura="6"/>
                    </campo>
                    <campo n="26" id="VL_BC_PIS" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo do PIS" descricao="Valor da base de cálculo do PIS">
                        <edicao x="0" y="21" largura="1" componente="104"/>
                    </campo>
                    <campo n="27" id="ALIQ_PIS_PERC" tipo="N" tamanho="8" casasdecimais="4" obrigatorio="0"
                           rotulo="Alíquota do PIS (%)" descricao="Alíquota do PIS (em percentual)">
                        <edicao x="0" y="20" largura="1" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="28" id="QUANT_BC_PIS" tipo="N" casasdecimais="3" obrigatorio="0"
                           rotulo="Qtde. base de cálculo do PIS" descricao="Quantidade – Base de cálculo PIS">
                        <edicao x="1" y="21" largura="1" componente="106"/>
                    </campo>
                    <campo n="29" id="ALIQ_PIS_REAIS" tipo="N" casasdecimais="4" obrigatorio="0"
                           rotulo="Alíquota do PIS (R$)" descricao="Alíquota do PIS (em reais)">
                        <edicao x="1" y="20" largura="1" componente="104"/>
                    </campo>
                    <campo n="30" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                           descricao="Valor do PIS">
                        <edicao x="2" y="21" largura="1" componente="104"/>
                    </campo>
                    <campo n="31" id="CST_COFINS" tipo="N" tamanho="[2]" obrigatorio="0" rotulo="CST/COFINS"
                           descricao="Código da Situação Tributária referente a COFINS, conforme Tabela Código de Situação Tributária da COFINS – Tabela publicada pela RFB">
                        <valores-validos datasource="CST_COFINS"/>
                        <edicao x="0" y="23" largura="6"/>
                    </campo>
                    <campo n="32" id="VL_BC_COFINS" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo da COFINS" descricao="Valor da base de cálculo da COFINS">
                        <edicao x="0" y="25" largura="1" componente="104"/>
                    </campo>
                    <campo n="33" id="ALIQ_COFINS_PERC" tipo="N" tamanho="8" casasdecimais="4" obrigatorio="0"
                           rotulo="Alíquota da COFINS (%)" descricao="Alíquota da COFINS (em percentual)">
                        <edicao x="0" y="24" largura="1" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="34" id="QUANT_BC_COFINS" tipo="N" casasdecimais="3" obrigatorio="0"
                           rotulo="Qtde. base de cálculo da COFINS" descricao="Quantidade – Base de cálculo COFINS">
                        <edicao x="1" y="25" largura="1" componente="106"/>
                    </campo>
                    <campo n="35" id="ALIQ_COFINS_REAIS" tipo="N" casasdecimais="4" obrigatorio="0"
                           rotulo="Alíquota da COFINS (R$)" descricao="Alíquota da COFINS (em reais)">
                        <edicao x="1" y="24" largura="1" componente="104"/>
                    </campo>
                    <campo n="36" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                           descricao="Valor da COFINS">
                        <edicao x="2" y="25" largura="1" componente="104"/>
                    </campo>
                    <campo n="37" id="COD_CTA" tipo="C" obrigatorio="0" rotulo="Código da conta analítica"
                           descricao="Código da conta analítica contábil debitada/creditada">
                    </campo>
                    <campo n="38" id="VL_ABAT_NT" tipo="N" obrigatorio="0" casasdecimais="2"
                           rotulo="Valor do abatimento não tributado e não comercial"
                           descricao="Valor do abatimento não tributado e não comercial">
                    </campo>

                    <registro id="C171" nivel="4" ocorrencia="2" obrigatorio="2" chave="NUM_TANQUE"
                              outros="[modelos=01,55]" rotulo="Combustível" descricao="Armazenamento de Combustíveis">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C171”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C171"/>
                        </campo>
                        <campo n="2" id="NUM_TANQUE" tipo="C" tamanho="3" outros="[obrigatorioEntrada=true]"
                               rotulo="Número do tanque" descricao="Tanque onde foi armazenado o combustível">
                        </campo>
                        <campo n="3" id="QTDE" tipo="N" casasdecimais="3" outros="[obrigatorioEntrada=true]"
                               rotulo="Quantidade armazenada" descricao="Quantidade ou volume armazenado">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao componente="106"/>
                        </campo>
                    </registro>

                    <registro id="C172" nivel="4" ocorrencia="1" obrigatorio="2" outros="[modelos=01]" rotulo="ISSQN"
                              descricao="Operações com ISSQN, por item">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C172”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C172"/>
                        </campo>
                        <campo n="2" id="VL_BC_ISSQN" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Base de cálculo do ISSQN" descricao="Valor da base de cálculo do ISSQN">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="3" id="ALIQ_ISSQN" tipo="N" tamanho="6" casasdecimais="2"
                               outros="[obrigatorioSaida=true]" rotulo="Alíquota do ISSQN(%)"
                               descricao="Alíquota do ISSQN">
                            <edicao componente="105"/>
                            <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                        </campo>
                        <campo n="4" id="VL_ISSQN" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Valor do ISSQN" descricao="Valor do ISSQN">
                            <edicao componente="104"/>
                        </campo>
                    </registro>

                    <registro id="C173" nivel="4" ocorrencia="2" obrigatorio="0" chave="LOTE_MED"
                              outros="[modelos=01,55]" rotulo="Medicamento" descricao="Medicamento">
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C173”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C173"/>
                        </campo>
                        <campo n="2" id="LOTE_MED" tipo="C" obrigatorio="1" rotulo="Número do lote de fabricação"
                               descricao="Número do lote de fabricação do medicamento">
                            <edicao x="0" y="0" largura="1"/>
                        </campo>
                        <campo n="3" id="QTD_ITEM" tipo="N" casasdecimais="3" obrigatorio="1"
                               rotulo="Quantidade de item por lote" descricao="Quantidade de item por lote">
                            <edicao x="1" y="0" largura="1" componente="106"/>
                        </campo>
                        <campo n="4" id="DT_FAB" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data de fabricação"
                               descricao="Data de fabricação do medicamento">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="0" y="1" largura="1" componente="103"/>
                        </campo>
                        <campo n="5" id="DT_VAL" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data de expiração"
                               descricao="Data de expiração da validade do medicamento">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="1" y="1" largura="1" componente="103"/>
                        </campo>
                        <campo n="6" id="IND_MED" tipo="C" tamanho="[1]" obrigatorio="1"
                               rotulo="Referência base cálculo ICMS ST"
                               descricao="Indicador de tipo de referência da base de cálculo do ICMS (ST) do produto farmacêutico">
                            <valores-validos
                                    valores="0=Base de cálculo referente ao preço tabelado ou preço máximo sugerido;1=Base cálculo – Margem de valor agregado;2=Base de cálculo referente à Lista Negativa;3=Base de cálculo referente à Lista Positiva;4=Base de cálculo referente à Lista Neutra"/>
                            <edicao x="0" y="2" largura="4"/>
                        </campo>
                        <campo n="7" id="TP_PROD" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Tipo de produto"
                               descricao="Tipo de produto">
                            <valores-validos valores="0=Similar;1=Genérico;2=Ético ou de marca"/>
                            <edicao x="0" y="3" largura="4"/>
                        </campo>
                        <campo n="8" id="VL_TAB_MAX" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Preço tabelado ou máximo" descricao="Preço tabelado ou máximo">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="0" y="4" largura="1" componente="104"/>
                        </campo>
                    </registro>

                    <registro id="C174" nivel="4" ocorrencia="2" obrigatorio="2" chave="NUM_ARM" outros="[modelos=01]"
                              rotulo="Arma de fogo" descricao="Arma de fogo">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C174”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C174"/>
                        </campo>
                        <campo n="2" id="IND_ARM" tipo="C" tamanho="1" outros="[obrigatorioSaida=true]"
                               rotulo="Tipo da arma" descricao="Indicador do tipo da arma de fogo">
                            <valores-validos valores="0=Uso permitido;1=Uso restrito"/>
                        </campo>
                        <campo n="3" id="NUM_ARM" tipo="C" outros="[obrigatorioSaida=true]" rotulo="Número de Série"
                               descricao="Numeração de série de fabricação da arma">
                        </campo>
                        <campo n="4" id="DESCR_COMPL" tipo="C" outros="[obrigatorioSaida=true]"
                               rotulo="Descrição da arma"
                               descricao="Descrição da arma, compreendendo: número do cano, calibre, marca, capacidade de cartuchos, tipo de funcionamento, quantidade de canos, comprimento, tipo de arma, quantidade e sentido das raias e demais elementos que permitam sua perfeita identificação">
                        </campo>
                    </registro>

                    <registro id="C175" nivel="4" ocorrencia="2" obrigatorio="0" chave="CHASSI_VEIC"
                              outros="[modelos=01,55]" rotulo="Veículo Novo" descricao="Veículo Novo">
                        <validador id="REGRA_OBRIGATORIO_CNPJ" tipo="2" campoMsg="CNPJ"
                                   outrosCamposEnvolvidosValidacao="IND_VEIC_OPER"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C175”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C175"/>
                        </campo>
                        <campo n="2" id="IND_VEIC_OPER" tipo="C" tamanho="1" obrigatorio="1"
                               rotulo="Tipo de operação com veículo"
                               descricao="Indicador do tipo de operação com veículo">
                            <valores-validos
                                    valores="0=Venda para concessionária;1=Faturamento direto;2=Venda direta;3=Venda da concessionária;9=Outros"/>
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="3" id="CNPJ" tipo="N" tamanho="[14]" obrigatorio="0" rotulo="CNPJ da Concessionária"
                               descricao="CNPJ da Concessionária">
                            <validador id="REGRA_DIGITO_CNPJ" tipo="1"/>
                            <edicao x="0" y="1" largura="2" componente="102"/>
                        </campo>
                        <campo n="4" id="UF" tipo="C" tamanho="[2]" obrigatorio="0" rotulo="UF da Concessionária"
                               descricao="Sigla da unidade da federação da Concessionária">
                            <valores-validos datasource="UF_SIGLA_NOME"/>
                            <edicao x="0" y="3" largura="4"/>
                        </campo>
                        <campo n="5" id="CHASSI_VEIC" tipo="C" tamanho="17" obrigatorio="1" rotulo="Chassi do veículo"
                               descricao="Chassi do veículo">
                            <edicao x="0" y="2" largura="2"/>
                        </campo>
                    </registro>

                    <registro id="C176" nivel="4" ocorrencia="2" obrigatorio="2" outros="[modelos=01,55]"
                              rotulo="Ressarcimento de ICMS e Fundo de combate à pobreza (FCP) em Operações com Substituição Tributária (Código 01 e 55)"
                              descricao="Ressarcimento de ICMS e Fundo de combate à pobreza (FCP) em Operações com Substituição Tributária (Código 01 e 55)">

                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <!-- <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_C176"/>
						conflita com a regra nfe_emitida nos novos moldes
						Observar as regras NFE_EMITIDA_13001_V1 e sua complementar  REGRA_COMPLEMENTO_NFE_EMITIDA_13001_V1_C176_C177
						pois À partir do descritor 13001, com ind emit = 0 e codmod=55 o c176 é obrigatório
						somente na INEXISTENCIA do C177. E vice versa-->
                        <persistencia indices="COD_PART_ULT_E"/>

                        <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                        <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_A13E1V2" tipo="2" campoMsg="CHAVE_NFE_ULT_E"
                                   outrosCamposEnvolvidosValidacao="COD_MOD_ULT_E;IND_EMIT"/>
                        <validador id="REGRA_PREENCHER_CHV_NFE_CTE_A13E1V2" tipo="2" campoMsg="CHAVE_NFE_ULT_E"
                                   outrosCamposEnvolvidosValidacao="COD_MOD_ULT_E"/>
                        <validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE" tipo="2" campoMsg="CHAVE_NFE_ULT_E"
                                   outrosCamposEnvolvidosValidacao="NUM_DOC_ULT_E"/>
                        <validador id="REGRA_COMPARA_CODIGO_MODELO" tipo="2" campoMsg="CHAVE_NFE_ULT_E"/>
                        <validador id="REGRA_DATA_MENOR_IGUAL_DT_DOC_C100_C176" tipo="6"/>
                        <validador id="REGRA_DOC_C176" tipo="6"/>
                        <validador id="REGRA_COMPARA_CNPJ_NFE_PARTICIPANTE_CHAVE_NFE_ULT_E_V3" tipo="6"/>
                        <validador id="REGRA_COMPARA_CNPJ_NFE_PARTICIPANTE_CHAVE_NFE_RET_12001_V1" tipo="6"/>

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C176”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C176"/>
                        </campo>
                        <campo n="2" id="COD_MOD_ULT_E" tipo="C" tamanho="2" obrigatorio="1"
                               rotulo="Código do modelo do documento"
                               descricao="Código do modelo do documento fiscal relativo à última entrada">
                            <valores-validos valores="01=Nota Fiscal;55=Nota Fiscal Eletrônica"/>
                            <edicao x="0" y="0" largura="6"/>
                        </campo>
                        <campo n="3" id="NUM_DOC_ULT_E" tipo="N" tamanho="9" obrigatorio="1"
                               rotulo="Número do documento"
                               descricao="Número do documento fiscal relativo à última entrada">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="0" y="1" largura="1" componente="107"/>
                        </campo>
                        <campo n="4" id="SER_ULT_E" tipo="C" tamanho="3" obrigatorio="0" rotulo="Série"
                               descricao="Série do documento fiscal relativa à última entrada">
                            <edicao x="1" y="1" largura="1"/>
                        </campo>
                        <campo n="5" id="DT_ULT_E" tipo="D" tamanho="[8]" obrigatorio="1"
                               rotulo="Data da última entrada" descricao="Data relativa à última entrada da mercadoria">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <edicao x="0" y="2" largura="1" componente="103"/>
                        </campo>
                        <campo n="6" id="COD_PART_ULT_E" tipo="C" tamanho="60" obrigatorio="1"
                               rotulo="Código do participante"
                               descricao="Código do participante (do emitente do documento relativo à última entrada)"
                               referenciaPesquisa="0150;COD_PART">
                            <valores-validos datasource="COD_PART_0150_SV"/>
                            <edicao x="0" y="3" largura="6"/>
                        </campo>
                        <campo n="7" id="QUANT_ULT_E" tipo="N" casasdecimais="3" obrigatorio="1"
                               rotulo="Quantidade do item" descricao="Quantidade do item relativa à última entrada">
                            <edicao x="0" y="4" largura="1" componente="106"/>
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <campo n="8" id="VL_UNIT_ULT_E" tipo="N" casasdecimais="3" obrigatorio="1"
                               rotulo="Vr. unitário mercadoria"
                               descricao="Valor unitário da mercadoria constante na NF relativo à última entrada inclusive despesas acessórias">
                            <edicao x="1" y="4" largura="1" componente="104"/>
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <campo n="9" id="VL_UNIT_BC_ST" tipo="N" casasdecimais="3" obrigatorio="1"
                               rotulo="Vr. unitário b. cálculo ICMS ST"
                               descricao="Valor unitário da base de cálculo do imposto pago por substituição">
                            <edicao x="2" y="4" largura="1" componente="104"/>
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <campo n="10" id="CHAVE_NFE_ULT_E" tipo="N" tamanho="[44]" obrigatorio="0" rotulo="Chave da NFe"
                               descricao="Número completo da chave da NFe relativo à última entrada">
                            <edicao x="0" y="5" largura="6" componente="113"/>
                            <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="1"/>
                        </campo>
                        <campo n="11" id="NUM_ITEM_ULT_E" tipo="N" tamanho="3" obrigatorio="0"
                               rotulo="Número sequencial ressarcimento"
                               descricao="Número sequencial do item na NF entrada que corresponde à mercadoria objeto de pedido de ressarcimento">
                            <edicao x="0" y="6" largura="1" componente="107"/>
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <campo n="12" id="VL_UNIT_BC_ICMS_ULT_E" tipo="N" casasdecimais="2"
                               outros="[obrigatorioSaida=true]" rotulo="Vr. unitário b. cálculo ICMS remetente"
                               descricao="Valor unitário da base de cálculo da operação própria do remetente sob o regime comum de tributação">
                            <edicao x="0" y="7" largura="1" componente="104"/>
                            <!--<validador id="REGRA_MAIOR_ZERO" tipo="1"/> removida Fiscal-3126297-8196/2022 -->
                        </campo>
                        <campo n="13" id="ALIQ_ICMS_ULT_E" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Alíquota do ICMS (%)"
                               descricao="Alíquota do ICMS aplicável à última entrada da mercadoria">
                            <edicao x="1" y="7" largura="1" componente="105"/>
                            <!--<validador id="REGRA_MAIOR_ZERO" tipo="1"/> removida Fiscal-3126297-8196/2022 -->
                        </campo>
                        <campo n="14" id="VL_UNIT_LIMITE_BC_ICMS_ULT_E" tipo="N" casasdecimais="2"
                               outros="[obrigatorioSaida=true]" rotulo="Vr. unitário b. cálculo ICMS retenção"
                               descricao="Valor unitário da base de cálculo do ICMS relativo à última entrada da mercadoria, limitado ao valor da BC da retenção (corresponde ao menor valor entre os campos VL_UNIT_BC_ST e VL_UNIT_BC_ICMS_ULT_E )">
                            <edicao x="2" y="7" largura="1" componente="104"/>
                            <validador id="REGRA_VALIDA_VL_UNIT_LIMITE_BC_ULT_E_V3" tipo="1"
                                       outrosCamposEnvolvidosValidacao="VL_UNIT_BC_ST;VL_UNIT_BC_ICMS_ULT_E"/>
                            <!--<validador id="REGRA_MAIOR_ZERO" tipo="1"/> removida Fiscal-3126297-8196/2022 -->
                        </campo>
                        <campo n="15" id="VL_UNIT_ICMS_ULT_E" tipo="N" casasdecimais="3"
                               outros="[obrigatorioSaida=true]" rotulo="Vr. unitário do crédito de ICMS"
                               descricao="Valor unitário do crédito de ICMS sobre operações próprias do remetente, relativo à última entrada da mercadoria, decorrente da quebra da ST – equivalente a multiplicação entre os campos 13 e 14">
                            <edicao x="0" y="8" largura="1" componente="104"/>
                            <validador id="REGRA_VALIDA_UNIT_ICMS_ULT_E" tipo="1"
                                       outrosCamposEnvolvidosValidacao="ALIQ_ICMS_ULT_E;VL_UNIT_LIMITE_BC_ICMS_ULT_E"/>
                            <!--<validador id="REGRA_MAIOR_ZERO" tipo="1"/> removida Fiscal-3126297-8196/2022 -->
                        </campo>
                        <campo n="16" id="ALIQ_ST_ULT_E" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Alíquota do ICMS ST (%)"
                               descricao="Alíquota do ICMS ST relativa à última entrada da mercadoria">
                            <edicao x="1" y="8" largura="1" componente="105"/>
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <campo n="17" id="VL_UNIT_RES" tipo="N" casasdecimais="3" obrigatorio="0"
                               rotulo="Vr. unitário ICMS ST ressarcimento"
                               descricao="Valor unitário do ressarcimento (parcial ou completo) de ICMS decorrente da quebra da ST">
                            <edicao x="2" y="8" componente="104"/>
                            <validador id="REGRA_VALIDA_VL_UNIT_RES" tipo="1"
                                       outrosCamposEnvolvidosValidacao="ALIQ_ST_ULT_E;VL_UNIT_BC_ST;VL_UNIT_ICMS_ULT_E"/>
                        </campo>
                        <campo n="18" id="COD_RESP_RET" tipo="N" tamanho="[1]" obrigatorio="0"
                               rotulo="Código retenção do ICMS-ST"
                               descricao="Código que indica o responsável pela retenção do ICMS-ST">
                            <edicao x="0" y="9" largura="6"/>
                            <valores-validos
                                    valores="1=Remetente Direto regime comum;2=Remetente Indireto;3=Próprio declarante;4=Remetente Direto Simples Nacional"/>
                            <!--  Regra excluída no projeto 1153223 -->
                            <!-- <validador id="REGRA_OBRIGATORIO_INFO_RET" tipo="1" outrosCamposEnvolvidosValidacao="CHAVE_NFE_RET;COD_PART_NFE_RET;SER_NFE_RET;NUM_NFE_RET"/>-->
                        </campo>
                        <campo n="19" id="COD_MOT_RES" tipo="N" tamanho="[1]" obrigatorio="0"
                               rotulo="Código do motivo do ressarcimento"
                               descricao="Código do motivo do ressarcimento:">
                            <edicao x="0" y="10" largura="6"/>
                            <valores-validos
                                    valores="1=Venda para outra UF;2=Saída amparada por isenção ou não incidência;3=Perda ou deterioração;4=Furto ou roubo;5=Exportação;6=Venda interna para Simples Nacional;9=Outros"/>
                        </campo>
                        <campo n="20" id="CHAVE_NFE_RET" tipo="C" tamanho="[44]" obrigatorio="0"
                               rotulo="Chave da NF-e emitida pelo substituto"
                               descricao="Número completo da chave da NF-e emitida pelo substituto, na qual consta o valor do ICMS-ST retido">
                            <edicao x="0" y="11" largura="6" componente="113"/>
                            <validador id="REGRA_SOMENTE_PREENCHER_COD_RESP_RET" tipo="1"
                                       outrosCamposEnvolvidosValidacao="COD_RESP_RET"/>
                            <validador id="REGRA_NAO_INFORMAR_SE_CHV" tipo="1"
                                       outrosCamposEnvolvidosValidacao="COD_PART_NFE_RET;SER_NFE_RET;NUM_NFE_RET"/>
                            <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="1"/>
                        </campo>
                        <campo n="21" id="COD_PART_NFE_RET" tipo="C" tamanho="60" obrigatorio="0"
                               rotulo="Código do participante ret. ICMS-ST"
                               descricao="Código do participante do emitente da NF-e em que houve a retenção do ICMS-ST – campo 02 do registro 0150"
                               referenciaPesquisa="0150;COD_PART">
                            <edicao x="0" y="12" largura="6"/>
                            <valores-validos datasource="COD_PART_0150_SV"/>
                            <validador id="REGRA_SOMENTE_PREENCHER_COD_RESP_RET" tipo="1"
                                       outrosCamposEnvolvidosValidacao="COD_RESP_RET"/>
                        </campo>
                        <campo n="22" id="SER_NFE_RET" tipo="C" tamanho="3" obrigatorio="0"
                               rotulo="Série retenção do ICMS-ST"
                               descricao="Série da NF-e em que houve a retenção do ICMS-ST">
                            <edicao x="1" y="13" largura="1"/>
                            <validador id="REGRA_OBRIGATORIO_SE_COD_PART_NFE_RET" tipo="1"
                                       outrosCamposEnvolvidosValidacao="COD_PART_NFE_RET"/>
                        </campo>
                        <campo n="23" id="NUM_NFE_RET" tipo="N" tamanho="9" obrigatorio="0"
                               rotulo="Número do documento ret. ICMS-ST"
                               descricao="Número da NF-e em que houve a retenção do ICMS-ST">
                            <edicao x="0" y="13" largura="1"/>
                            <validador id="REGRA_OBRIGATORIO_SE_COD_PART_NFE_RET" tipo="1"
                                       outrosCamposEnvolvidosValidacao="COD_PART_NFE_RET"/>
                        </campo>
                        <campo n="24" id="ITEM_NFE_RET" tipo="N" tamanho="3" obrigatorio="0"
                               rotulo="Número sequencial ret. ICMS-ST"
                               descricao="Número sequencial do item na NF-e em que houve a retenção do ICMS-ST, que corresponde à mercadoria objeto de pedido de ressarcimento">
                            <edicao x="2" y="13" largura="1"/>
                            <validador id="REGRA_OBRIGATORIO_ITEM_NFE_RET" tipo="1"
                                       outrosCamposEnvolvidosValidacao="CHAVE_NFE_RET;COD_PART_NFE_RET"/>
                        </campo>
                        <campo n="25" id="COD_DA" tipo="C" tamanho="[1]" obrigatorio="0"
                               rotulo="Código do modelo doc. arrecadação"
                               descricao="Código do modelo do documento de arrecadação">
                            <edicao x="0" y="14" largura="3"/>
                            <valores-validos valores="0=Documento estadual de arrecadação;1=GNRE"/>
                            <!--REGRA EXCLUÍDA Leiaute 16  <validador id="REGRA_OBRIG_COD_DA_RET" tipo="1" outrosCamposEnvolvidosValidacao="COD_RESP_RET"/> -->
                        </campo>
                        <campo n="26" id="NUM_DA" tipo="C" obrigatorio="0" rotulo="Número do documento de arrecadação"
                               descricao="Número do documento de arrecadação estadual, se houver">
                            <edicao x="2" y="14" largura="1"/>
                        </campo>
                        <campo n="27" id="VL_UNIT_RES_FCP_ST" tipo="N" obrigatorio="0" casasdecimais="3"
                               rotulo="Vr. unitário do ressarcimento de FCP"
                               descricao="Valor unitário do ressarcimento (parcial ou completo) de FCP decorrente da quebra da ST">
                            <edicao x="0" y="15" largura="10"/>
                        </campo>
                    </registro>

                    <registro id="C177" nivel="4" ocorrencia="1" obrigatorio="2" outros="[modelos=01,55]"
                              rotulo="Complemento de Item – Outras informações"
                              descricao="Complemento de Item – Outras informações">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C177”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C177"/>
                        </campo>
                        <campo n="2" id="COD_INF_ITEM" tipo="C" tamanho="[8]" obrigatorio="1"
                               rotulo="Código da informação adicional"
                               descricao="Código da informação adicional de acordo com tabela a ser publicada pelas SEFAZ, conforme tabela definida no item 5.6">
                            <valores-validos datasource="COD_INF_ITEM"/>
                        </campo>
                    </registro>

                    <registro id="C178" nivel="4" ocorrencia="1" obrigatorio="2" outros="[modelos=01]"
                              rotulo="IPI por Unidade ou Qtde"
                              descricao="Operações com produtos sujeitos a selo de controle do IPI">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C178”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C178"/>
                        </campo>
                        <campo n="2" id="CL_ENQ" tipo="C" tamanho="5" outros="[obrigatorioSaida=true]"
                               rotulo="Classe de enquadramento do IPI"
                               descricao="Código da classe de enquadramento do IPI, conforme Tabela de Códigos da Classe de Enquadramento do IPI">
                            <valores-validos datasource="CL_ENQ"/>
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="3" id="VL_UNID" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Valor por unidade padrão" descricao="Valor por unidade padrão de tributação">
                            <edicao x="1" y="1" largura="1" componente="104"/>
                        </campo>
                        <campo n="4" id="QUANT_PAD" tipo="N" casasdecimais="3" outros="[obrigatorioSaida=true]"
                               rotulo="Quantidade total na unidade padrão"
                               descricao="Quantidade total de produtos na unidade padrão de tributação">
                            <edicao x="0" y="1" largura="1" componente="106"/>
                        </campo>
                    </registro>

                    <registro id="C179" nivel="4" ocorrencia="1" obrigatorio="2" outros="[modelos=01]"
                              rotulo="Complemento ST" descricao="Informações Complementares ST">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C179”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C179"/>
                        </campo>
                        <campo n="2" id="BC_ST_ORIG_DEST" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Base de cálculo ST"
                               descricao="Valor da base de cálculo ST na origem/destino em operações interestaduais">
                            <edicao x="0" y="0" largura="1" componente="104"/>
                        </campo>
                        <campo n="3" id="ICMS_ST_REP" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor ICMS ST a repassar/deduzir"
                               descricao="Valor do ICMS-ST a repassar/deduzir em operações interestaduais">
                            <edicao x="1" y="0" largura="1" componente="104"/>
                        </campo>
                        <campo n="4" id="ICMS_ST_COMPL" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Valor ICMS ST a complementar"
                               descricao="Valor do ICMS-ST a complementar à UF de destino">
                            <edicao x="2" y="0" largura="1" componente="104"/>
                        </campo>
                        <campo n="5" id="BC_RET" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Valor da BC de retenção"
                               descricao="Valor da base de cálculo de retenção em remessa promovida por Substituído intermediário">
                            <edicao x="0" y="1" largura="1" componente="104"/>
                        </campo>
                        <campo n="6" id="ICMS_RET" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Valor parcela ICMS ST retido"
                               descricao="Valor da parcela do imposto retido em remessa promovida por substituído intermediário">
                            <edicao x="1" y="1" largura="1" componente="104"/>
                        </campo>
                    </registro>

                    <registro id="C180" nivel="4" ocorrencia="1" obrigatorio="2" outros="[modelos=01,1B,04,55]"
                              rotulo="Informações Complementares das Operações de Entrada de Mercadorias Sujeitas à Substituição Tributária(Código 01, 1B, 04 e 55)"
                              descricao="Informações Complementares das Operações de Entrada de Mercadorias Sujeitas à Substituição Tributária">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                        <validador id="REGRA_NAO_INFORMAR_REGISTRO_C180" tipo="6"/>
                        <validador id="REGRA_UNID_DIF_0200" tipo="6"/>
                        x="1" y="9" largura="1"
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C180”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C180"/>
                        </campo>
                        <campo n="2" id="COD_RESP_RET" tipo="N" tamanho="[1]" outros="[obrigatorioEntrada=true]"
                               rotulo="Código que indica o responsável pela retenção do ICMS-ST:"
                               descricao="Código que indica o responsável pela retenção do ICMS-ST:">

                            <valores-validos valores="1=Remetente Direto;2=Remetente Indireto;3=Próprio declarante"/>
                        </campo>
                        <campo n="3" id="QUANT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioEntrada=true]"
                               rotulo="Quantidade do item" descricao="Quantidade do item">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <campo n="4" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioEntrada=true]"
                               rotulo="Unidade adotada"
                               descricao="Unidade adotada para informar a quantidade do item (campo 03)"
                               referenciaPesquisa="0190;UNID">
                            <valores-validos datasource="UNID_0190_SV"/>
                        </campo>
                        <campo n="5" id="VL_UNIT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioEntrada=true]"
                               rotulo="Valor unitário da mercadoria"
                               descricao="Valor unitário da mercadoria, considerando a unidade utilizada para informar o campo “quantidade do item”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="6" id="VL_UNIT_ICMS_OP_CONV" tipo="N" casasdecimais="6"
                               outros="[obrigatorioEntrada=true]" rotulo="Valor unitário do ICMS operação própria"
                               descricao="Valor unitário do ICMS operação própria que o informante teria direito ao crédito caso a mercadoria estivesse sob o regime comum de tributação, considerando unidade utilizada para informar o campo “QUANT_CONV”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="7" id="VL_UNIT_BC_ICMS_ST_CONV" tipo="N" casasdecimais="6"
                               outros="[obrigatorioEntrada=true]" rotulo="Valor unitário BC ICMS ST"
                               descricao="Valor unitário da Base de Cálculo do ICMS ST">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="8" id="VL_UNIT_ICMS_ST_CONV" tipo="N" casasdecimais="6"
                               outros="[obrigatorioEntrada=true]" rotulo="Valor unitário de ICMS ST"
                               descricao="Valor unitário de ICMS ST">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="9" id="VL_UNIT_FCP_ST_CONV" tipo="N" obrigatorio="0" casasdecimais="6"
                               rotulo="Parcela de FCP ST que compõe o campo anterior"
                               descricao="Valor unitário da parcela do FCP_ST agregado ao valor informado no campo “VL_UNIT_ICMS_ST_CONV”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="10" id="COD_DA" tipo="C" tamanho="[1]" obrigatorio="0"
                               rotulo="Código do modelo do documento de arrecadação:"
                               descricao="Código do modelo do documento de arrecadação">
                            <valores-validos valores="0=Documento estadual de arrecadação;1=GNRE"/>
                        </campo>
                        <campo n="11" id="NUM_DA" tipo="C" obrigatorio="0"
                               rotulo="Número do documento de arrecadação estadual, se houver"
                               descricao="Número do documento de arrecadação estadual, se houver">

                        </campo>
                    </registro>

                    <registro id="C181" nivel="4" ocorrencia="2" obrigatorio="2" outros="[modelos=01,1B,04,55]"
                              rotulo="Informações Complementares das Operações de devolução de saídas de mercadorias sujeitas à Substituição Tributária (Código 01, 1B, 04 e 55)"
                              descricao="Informações Complementares das Operações de devolução de saídas de mercadorias sujeitas à Substituição Tributária (Código 01, 1B, 04 e 55)">


                        <edicao>
                            <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_MOT_REST_COMPL_PARA_REGISTROS"
                                                     campoObservado="COD_MOT_REST_COMPL"/>
                        </edicao>
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <validador id="REGRA_CHAVE_REGISTRO_C181_COD_MOD_SAIDA" tipo="6"/>
                        <validador id="REGRA_OBRIGATORIO_1255_POR_COD_MOT_REST_COMPL" tipo="6"/>
                        <validador id="REGRA_UNID_DIF_0200" tipo="6"/>
                        <validador id="REGRA_EXISTE_COD_MOD" tipo="3"/>
                        <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                        <validador id="REGRA_PREENCHIMENTO_E_OBRIGACAO_POR_COD_MOD_SAIDA_C181" tipo="2"/>
                        <modificador-obrigatoriedade id="REGRA_OBRIGATORIEDADE_COD_MOT_RESP_COMPL_17001_V1"/>
                        <!-- <modificador-obrigatoriedade id="REGRA_CONTROLE_PREENCHIMENTO_C181"/> -->


                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C181”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C181"/>
                        </campo>
                        <campo n="2" id="COD_MOT_REST_COMPL" tipo="C" tamanho="[5]" outros="[obrigatorioEntrada=true]"
                               rotulo="Código do motivo/restituição ou complementação, conforme Tabela 5.7"
                               descricao="Código do motivo da restituição ou complementação conforme Tabela 5.7">-->
                            <valores-validos datasource="COD_MOT_REST_COMPL"/>
                            <validador id="REGRA_VALIDA_COD_MOT_RESP_COMPL_5" tipo="1"/>
                        </campo>
                        <campo n="3" id="QUANT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioEntrada=true]"
                               rotulo="Quantidade do Item" descricao="Quantidade do Item">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao componente="106"/>
                        </campo>
                        <campo n="4" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioEntrada=true]"
                               rotulo="Unidade adotada para informar o campo Quantidade do Item (QUANT_CONV)"
                               descricao="Unidade adotada para informar o campo Quantidade do Item QUANT_CONV">
                            <valores-validos datasource="UNID_0190_SV"/>
                        </campo>
                        <campo n="5" id="COD_MOD_SAIDA" tipo="C" tamanho="[2]" outros="[obrigatorioEntrada=true]"
                               rotulo="Código modelo do doc. fiscal saída, conforme tabela item 4.1.1 "
                               descricao="Código do modelo do documento fiscal de saída, conforme a tabela indicada no item 4.1.1">
                            <valores-validos
                                    valores="01=Nota Fiscal;1B=Nota Fiscal Avulsa;02=Nota Fiscal de Venda a Consumidor;2D=Cupom Fiscal emitido por ECF;04=Nota Fiscal de Produtor;55=Nota Fiscal Eletrônica;59=Cupom Fiscal Eletrônico - CF-e;60=CF-e-ECF;65=NF Eletrônica para consumidor final"/>
                        </campo>
                        <campo n="6" id="SERIE_SAIDA" tipo="C" tamanho="3"
                               rotulo="Número de série do documento de saída em papel"
                               descricao="Número de série do documento de saída em papel">
                        </campo>
                        <campo n="7" id="ECF_FAB_SAIDA" tipo="C" tamanho="21"
                               rotulo="Número de série de fabricação do equipamento ECF"
                               descricao="Número de série de fabricação do equipamento ECF">
                            <edicao componente="107"/>
                        </campo>
                        <campo n="8" id="NUM_DOC_SAIDA" tipo="N" tamanho="9"
                               rotulo="Número do documento fiscal de saída"
                               descricao="Número do documento fiscal de saída">
                        </campo>
                        <campo n="9" id="CHV_DFE_SAIDA" tipo="N" tamanho="[44]"
                               rotulo="Chave do documento fiscal eletrônico de saída"
                               descricao="Chave do documento fiscal eletrônico de saída">
                            <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="1"/>
                            <edicao componente="113"/>
                        </campo>
                        <campo n="10" id="DT_DOC_SAIDA" tipo="D" tamanho="[8]" outros="[obrigatorioEntrada=true]"
                               rotulo="Data da emissão do documento fiscal de saída"
                               descricao="Data da emissão do documento fiscal de saída">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000" tipo="1"/>
                            <edicao componente="103"/>
                        </campo>
                        <campo n="11" id="NUM_ITEM_SAIDA" tipo="N" tamanho="3"
                               rotulo="Número do item informado na saída" descricao="Número do item informado na saída">
                            <edicao componente="107"/>
                        </campo>
                        <campo n="12" id="VL_UNIT_CONV_SAIDA" tipo="N" casasdecimais="6"
                               rotulo="Valor unit. da mercadoria informado na saída"
                               descricao="Valor unitário da mercadoria informado na saída">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="13" id="VL_UNIT_ICMS_OP_ESTOQUE_CONV_SAIDA" tipo="N" casasdecimais="6"
                               rotulo="Valor médio unit. do ICMS OP informado na saída"
                               descricao="Valor médio unitário do ICMS OP informado na saída">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="14" id="VL_UNIT_ICMS_ST_ESTOQUE_CONV_SAIDA" tipo="N" casasdecimais="6"
                               rotulo="Valor médio unit. do ICMS ST, incluindo FCP ST, em estoque informado na saída"
                               descricao="Valor médio unitário do ICMS ST, incluindo FCP ST, em estoque informado na saída">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="15" id="VL_UNIT_FCP_ICMS_ST_ESTOQUE_CONV_SAIDA" tipo="N" casasdecimais="6"
                               rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                               descricao="Parcela correspondente a FCP ST que compõe o campo anterior">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="16" id="VL_UNIT_ICMS_NA_OPERACAO_CONV_SAIDA" tipo="N" casasdecimais="6"
                               rotulo="Valor unit. para o ICMS na operação informado na saída"
                               descricao="Valor unitá para o ICMS na operação informado na saída">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="17" id="VL_UNIT_ICMS_OP_CONV_SAIDA" tipo="N" casasdecimais="6"
                               rotulo="Valor unit. de ICMS OP para desfazimento da ST informado na saída"
                               descricao="Valor unitário de ICMS OP para desfazimento da ST informado na saída">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="18" id="VL_UNIT_ICMS_ST_CONV_REST" tipo="N" casasdecimais="6"
                               rotulo="Valor unit. do estorno de complemento, incluindo FCP ST"
                               descricao="Valor unitário do estorno de complemento, incluindo FCP ST">
                            <validador id="REGRA_CALCULA_VL_UNIT_ICMS_ST_CONV_REST" tipo="1"/>
                            <edicao componente="104"/>
                        </campo>
                        <campo n="19" id="VL_UNIT_FCP_ST_CONV_REST" tipo="N" casasdecimais="6"
                               rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                               descricao="Parcela correspondente a FCP ST que compõe o campo anterior">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="20" id="VL_UNIT_ICMS_ST_CONV_COMPL" tipo="N" casasdecimais="6"
                               rotulo="Valor unit. do estorno do ressarc./rest., incluindo FCP ST"
                               descricao="Valor unitário do estorno do ressarcimento/restituição, incluindo FCP ST">
                            <validador id="REGRA_CALCULA_VL_UNIT_ICMS_ST_CONV_COMPL" tipo="1"/>
                            <edicao componente="104"/>
                        </campo>
                        <campo n="21" id="VL_UNIT_FCP_ST_CONV_COMPL" tipo="N" casasdecimais="6"
                               rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                               descricao="Parcela correspondente a FCP ST que compõe o campo anterior">
                            <edicao componente="104"/>
                        </campo>
                    </registro>
                </registro>

                <registro id="C185" nivel="3" ocorrencia="2" obrigatorio="2" chave="NUM_ITEM"
                          outros="[modelos=01,1B,04,55,65]"
                          rotulo="Informações Complementares Das Operações de Saída de Mercadorias Sujeitas à Substituição Tributária"
                          descricao="Informações Complementares Das Operações de Saída de Mercadorias Sujeitas à Substituição Tributária">

                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP" campoObservado="CFOP"/>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_MOT_REST_COMPL_PARA_REGISTROS"
                                                 campoObservado="COD_MOT_REST_COMPL"/>
                    </edicao>

                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <validador id="REGRA_OBRIGATORIO_1255_POR_COD_MOT_REST_COMPL" tipo="6"/>
                    <validador id="REGRA_UNID_DIF_0200" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                    <validador id="REGRA_CFOP_SAIDA_AMPLO" tipo="2" campoMsg="CFOP"/>
                    <validador id="REGRA_NAO_INFORMAR_REGISTRO_C185" tipo="6"/>
                    <modificador-obrigatoriedade
                            id="REGRA_OBRIGATORIO_COD_MOT_REST_COMPL_17001_V1"/><!-- ESTA REGRA INCLUI A REGRA_OBRIGATORIEDADE_COD_MOT_REST_COMPL   -->


                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C185”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C185"/>
                    </campo>
                    <campo n="2" id="NUM_ITEM" tipo="N" tamanho="3" outros="[obrigatorioSaida=true]"
                           rotulo="Número sequencial do item no documento fiscal" descricao="Quantidade do item">
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]"
                           rotulo="Código do item (campo 02 do Registro 0200)"
                           descricao="Código do item (campo 02 do Registro 0200)">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                    </campo>
                    <campo n="4" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]"
                           rotulo="Código da Situação Tributária referente ao ICMS"
                           descricao="Código da Situação Tributária referente ao ICMS">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="5" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]"
                           rotulo="Código Fiscal de Operação e Prestação"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <campo n="6" id="COD_MOT_REST_COMPL" tipo="C" tamanho="[5]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do motivo da restituição ou complementação"
                           descricao="Código do motivo da restituição ou complementação conforme Tabela 5.7">
                        <valores-validos datasource="COD_MOT_REST_COMPL"/>
                        <validador id="REGRA_VALIDA_COD_MOT_RESP_COMPL_0" tipo="1"/>
                    </campo>
                    <campo n="7" id="QUANT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioSaida=true]"
                           rotulo="Quantidade do item" descricao="Quantidade do item">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    </campo>
                    <campo n="8" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]"
                           descricao="Unidade adotada p/ o campo QUANT_CONV"
                           rotulo="Unidade adotada para informar o campo quantidade do item"
                           referenciaPesquisa="0190;UNID">
                        <valores-validos datasource="UNID_0190_SV"/>
                    </campo>
                    <campo n="9" id="VL_UNIT_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                           rotulo="Valor unitário da mercadoria"
                           descricao="Valor unitário da mercadoria, considerando a unidade utilizada para informar o campo “QUANT_CONV”">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="10" id="VL_UNIT_ICMS_NA_OPERACAO_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                           rotulo="Valor unitário para o ICMS na operação"
                           descricao="Valor unitário para o ICMS na operação, caso não houvesse a ST, considerando unidade utilizada para informar o campo “QUANT_CONV”">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="11" id="VL_UNIT_ICMS_OP_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                           rotulo="Valor unit. de ICMS OP para desfazimento da ST"
                           descricao="Valor unitário de ICMS Operações Próprias(OP) para desfazimento da Substituição Tributária(ST)">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="12" id="VL_UNIT_ICMS_OP_ESTOQUE_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                           rotulo="Valor unit. médio de ICMS OP"
                           descricao="Valor unitário médio de ICMS Operações Próprias">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="13" id="VL_UNIT_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                           rotulo="Valor unit. médio de ICMS ST, incluindo FCP ST"
                           descricao="Valor unitário médio de ICMS ST, incluindo FCP ST">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="14" id="VL_UNIT_FCP_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                           rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                           descricao="Parcela correspondente a FCP ST que compõe o campo “Valor unit. médio de ICMS ST, incluindo FCP ST”">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="15" id="VL_UNIT_ICMS_ST_CONV_REST" tipo="N" casasdecimais="6" obrigatorio="0"
                           rotulo="Valor unit. ICMS ST, incluindo FCP ST, a ser restituído/ressarcido"
                           descricao="Valor unitário do ICMS ST, incluindo FCP ST, a ser restituído/ressarcido">
                        <edicao componente="104"/>
                        <validador id="REGRA_VALIDA_VL_UNIT_ICMS_ST_CONV_REST_C185_V2" tipo="1"/>
                    </campo>
                    <campo n="16" id="VL_UNIT_FCP_ST_CONV_REST" tipo="N" casasdecimais="6" obrigatorio="0"
                           rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                           descricao="Parcela correspondente a FCP ST que compõe o campo “Valor unit. ICMS ST, incluindo FCP ST, a ser restituído/ressarcido”">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="17" id="VL_UNIT_ICMS_ST_CONV_COMPL" tipo="N" casasdecimais="6" obrigatorio="0"
                           rotulo="Valor unit. do complemento de ICMS ST, incluindo FCP ST"
                           descricao="Valor unitário do complemento do ICMS, incluindo FCP ST, considerando a unidade utilizada para informar o campo “Quantidade do Item”">
                        <edicao componente="104"/>
                        <validador id="REGRA_VALIDA_VL_UNIT_ICMS_ST_CONV_COMPL_C185_19001_V1" tipo="1"/>
                    </campo>
                    <campo n="18" id="VL_UNIT_FCP_ST_CONV_COMPL" tipo="N" casasdecimais="6" obrigatorio="0"
                           rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                           descricao="Valor unitário correspondente à parcela de FCP ST que compõe o campo acima, considerando unidade utilizada para informar o campo “Quantidade do Item”.">
                        <edicao componente="104"/>
                    </campo>

                </registro>
                <registro id="C186" nivel="3" ocorrencia="2" obrigatorio="2" outros="[modelos=01,1B,04,55]"
                          rotulo="Informações Complementares das Operações de Devolução de Entradas de Mercadorias Sujeitas à Substituição Tributária (Código 01, 1B, 04 e 55)"
                          descricao="Informações Complementares das Operações de devolução de Entradas de mercadorias sujeitas à Substituição Tributária (Código 01, 1B, 04 e 55)">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <!-- <modificador-obrigatoriedade id="REGRA_OBRIGATORIO_COD_MOT_REST_COMPL_15001_V1"/>-->
                    <!-- ESTA REGRA INCLUI A REGRA_OBRIGATORIO_COD_MOT_REST_COMPL   -->
                    <modificador-obrigatoriedade id="REGRA_COD_MOD_ENTRADA_NFE"/>
                    <validador id="REGRA_PREENCHIMENTO_E_OBRIGACAO_POR_COD_MOD_ENTRADA_C186" tipo="2"/>
                    <validador id="REGRA_CHAVE_REGISTRO_C186_COD_MOD_ENTRADA" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>

                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_MOT_REST_COMPL_PARA_REGISTROS"
                                                 campoObservado="COD_MOT_REST_COMPL"/>
                    </edicao>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C186”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C186"/>
                    </campo>
                    <campo n="2" id="NUM_ITEM" tipo="N" tamanho="3" outros="[obrigatorioSaida=true]"
                           rotulo="Número sequencial do item no documento fiscal"
                           descricao="Número sequencial do item no documento fiscal">
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]"
                           rotulo="Código do item (campo 02 do Registro 0200)"
                           descricao="Código do item (campo 02 do Registro 0200)">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                    </campo>
                    <campo n="4" id="CST_ICMS" tipo="C" tamanho="[3]" outros="[obrigatorioSaida=true]"
                           rotulo="Código da Situação Tributária referente ao ICMS"
                           descricao=" Código da Situação Tributária referente ao ICMS">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="5" id="CFOP" tipo="C" tamanho="[4]" outros="[obrigatorioSaida=true]"
                           rotulo="Código Fiscal de Operação e Prestação"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <campo n="6" id="COD_MOT_REST_COMPL" tipo="C" tamanho="[5]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do motivo da restituição ou complementação conforme Tabela 5.7"
                           descricao="Código do motivo da restituição ou complementação conforme Tabela 5.7">
                        <validador id="REGRA_VALIDA_COD_MOT_RESP_COMPL_4" tipo="1"/>
                        <valores-validos datasource="COD_MOT_REST_COMPL"/>
                    </campo>
                    <campo n="7" id="QUANT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioSaida=true]"
                           rotulo="Quantidade do item" descricao="Quantidade do item">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    </campo>
                    <campo n="8" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]"
                           rotulo="Unidade adotada para informar a quantidade do item"
                           descricao="Unidade adotada para informar a quantidade do item">
                        <valores-validos datasource="UNID_0190_SV"/>
                    </campo>
                    <campo n="9" id="COD_MOD_ENTRADA" tipo="C" tamanho="[2]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do modelo do documento fiscal de entrada, conforme a tabela indicada no item 4.1.1 "
                           descricao="Código do modelo do documento fiscal de entrada, conforme a tabela indicada no item 4.1.1">
                        <valores-validos
                                valores="01=Nota Fiscal;1B=Nota Fiscal Avulsa;04=Nota Fiscal de Produtor;55=Nota Fiscal Eletrônica"/>
                    </campo>
                    <campo n="10" id="SERIE_ENTRADA" tipo="C" tamanho="3"
                           rotulo="Número de série do documento de entrada em papel"
                           descricao="Número de série do documento de entrada em papel">
                    </campo>
                    <campo n="11" id="NUM_DOC_ENTRADA" tipo="N" tamanho="9"
                           rotulo="Número do documento fiscal de entrada"
                           descricao="Número do documento fiscal de entrada">
                    </campo>
                    <campo n="12" id="CHV_DFE_ENTRADA" tipo="N" tamanho="[44]"
                           rotulo="Chave do documento fiscal eletrônico de entrada"
                           descricao="Chave do documento fiscal eletrônico de entrada">
                        <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="1" campoMsg="CHV_DFE_ENTRADA"/>
                        <edicao componente="113"/>
                    </campo>
                    <campo n="13" id="DT_DOC_ENTRADA" tipo="D" tamanho="[8]" casasdecimais="6"
                           outros="[obrigatorioSaida=true]" rotulo="Data da emissão do documento fiscal de entrada"
                           descricao="Data da emissão do documento fiscal de entrada">
                        <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                        <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000" tipo="1"/>
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <edicao componente="103"/>
                    </campo>
                    <campo n="14" id="NUM_ITEM_ENTRADA" tipo="N" tamanho="3" outros="[obrigatorioSaida=true]"
                           rotulo="Número do item informado na entrada" descricao="Número do item informado na entrada">
                    </campo>
                    <campo n="15" id="VL_UNIT_CONV_ENTRADA" tipo="N" casasdecimais="6"
                           rotulo="Valor unit. da mercadoria informado na entrada"
                           descricao="VValor unitário da mercadoria informado na entrada">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="16" id="VL_UNIT_ICMS_OP_CONV_ENTRADA" tipo="N" casasdecimais="6"
                           rotulo="Valor unit. do ICMS OP informado na entrada"
                           descricao="Valor unitário do ICMS OP informado na entrada">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="17" id="VL_UNIT_BC_ICMS_ST_CONV_ENTRADA" tipo="N" casasdecimais="6"
                           rotulo="Valor unit. BC ICMS ST informado na entrada"
                           descricao="Valor unitário da Base de Cálculo do ICMS ST informado na entrada">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="18" id="VL_UNIT_ICMS_ST_CONV_ENTRADA" tipo="N" casasdecimais="6"
                           rotulo="Valor unit. ICMS ST informado na entrada"
                           descricao="Valor unitário ICMS ST informado na entrada">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="19" id="VL_UNIT_FCP_ST_CONV_ENTRADA" tipo="N" casasdecimais="6"
                           rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                           descricao="Parcela correspondente a FCP ST que compõe o campo anterior">
                        <edicao componente="104"/>
                    </campo>
                </registro>


                <registro id="C190" nivel="3" ocorrencia="2" obrigatorio="1" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=01,1B,04,55,65]" rotulo="Analítico" descricao="Registro Analítico">
                    <persistencia indices="COD_OBS"/>
                    <edicao posicao="2">
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP" campoObservado="CFOP"/>
                    </edicao>
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <validador id="REGRA_CFOP_C100" tipo="6"/>
                    <validador id="REGRA_VL_ICMS_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_VL_ICMS_ST_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_VL_BC_ICMS_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_VL_BC_ICMS_ST_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_CHAVE_EXISTE_NO_REGISTRO_ITEM_A8E1V1" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_RED_BC_COM_COD_SIT_C190" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS_C190" tipo="2"/>
                    <validador id="REGRA_CFOP_NFCE" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C190”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C190"/>
                    </campo>
                    <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" obrigatorio="1" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="3" id="CFOP" tipo="N" tamanho="[4]" obrigatorio="1" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação do agrupamento de itens">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor da operação"
                           descricao="Valor da operação na combinação de CST_ICMS, CFOP e alíquota do ICMS, correspondente ao somatório do valor das mercadorias, despesas acessórias (frete, seguros e outras despesas acessórias), ICMS_ST, FCP_ST e IPI">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Base de cálculo do ICMS"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ICMS” referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <validador id="REGRA_VALIDA_CST_VL_BC_ICMS_C190" tipo="1"/>
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ICMS"
                           descricao="Parcela correspondente ao “Valor do ICMS”, incluindo o FCP, quando aplicável, referente à combinação de CST_ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Base de cálculo do ICMS ST"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ICMS” da substituição tributária, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <validador id="REGRA_VALIDA_CST_VL_BC_ICMS_ST_C190" tipo="1"/>
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="VL_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ICMS ST"
                           descricao="Parcela correspondente ao valor creditado/debitado do ICMS da substituição tributária, incluindo o FCP_ ST, quando aplicável, referente à combinação de CST_ICMS, CFOP, e alíquota do ICMS">
                        <validador id="REGRA_VALIDA_CST_VL_ICMS_ST_C190" tipo="1"/>
                        <edicao componente="104"/>
                    </campo>
                    <campo n="10" id="VL_RED_BC" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor não tributado base do ICMS"
                           descricao="Valor não tributado em função da redução da base de cálculo do ICMS, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="11" id="VL_IPI" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do IPI"
                           descricao="Parcela correspondente ao “Valor do IPI” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="12" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0"
                           rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>
                    <registro id="C191" nivel="4" ocorrencia="1" obrigatorio="0" outros="[modelos=55,65]"
                              rotulo="Informações do Fundo de Combate à Pobreza – FCP – na NF-e (Código 55) e na NFC-e (Código 65)"
                              descricao="Informações do Fundo de Combate à Pobreza – FCP – na NF-e (Código 55) na NFC-e (Código 65)">
                        <validador id="REGRA_OBRIGATORIO_VALOR_C191" tipo="2"/>
                        <validador id="REGRA_PREENCHER_VL_FCP_OP" tipo="6"/>
                        <validador id="REGRA_PREENCHER_VL_FCP_ST" tipo="6"/>
                        <validador id="REGRA_PREENCHER_VL_FCP_RET" tipo="6"/>
                        <!-- A regra abaixo implementa as duas REGRAS - REGRA_VALIDA_VL_FCP_OP e REGRA_VALIDA_VL_FCP_ST -->
                        <validador id="REGRA_VALORES_FCP_C191" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C191”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C191"/>
                        </campo>
                        <campo n="2" id="VL_FCP_OP" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Valor do Fundo de Combate à Pobreza (FCP) vinculado à operação própria"
                               descricao="Valor do Fundo de Combate à Pobreza (FCP) vinculado à operação própria, na combinação de CST_ICMS, CFOP e alíquota do ICMS"/>
                        <campo n="3" id="VL_FCP_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Valor do Fundo de Combate à Pobreza (FCP) vinculado à operação de substituição tributária"
                               descricao="Valor do Fundo de Combate à Pobreza (FCP) vinculado à operação de substituição tributária, na combinação de CST_ICMS, CFOP e alíquota do ICMS"/>
                        <campo n="4" id="VL_FCP_RET" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Valor relativo ao Fundo de Combate à Pobreza (FCP) retido anteriormente nas operações com Substituição Tributárias"
                               descricao="Valor relativo ao Fundo de Combate à Pobreza (FCP) retido anteriormente nas operações com Substituição Tributárias, na combinação de CST_ICMS, CFOP e alíquota do ICMS"/>
                    </registro>
                </registro>

                <registro id="C195" nivel="3" ocorrencia="2" obrigatorio="0" chave="COD_OBS"
                          outros="[modelos=01,1B,04,55,65]" rotulo="Obs. Lanc. Fiscal"
                          descricao="Observações do lançamento fiscal (Código 01, 1B, 04, 55 e 65)">
                    <edicao posicao="3"/>
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C195”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C195"/>
                    </campo>
                    <campo n="2" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="1" rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>
                    <campo n="3" id="TXT_COMPL" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                           descricao="Descrição complementar do código de observação">
                    </campo>

                    <registro id="C197" nivel="4" ocorrencia="2" obrigatorio="0" chave="COD_AJ,COD_ITEM"
                              outros="[modelos=01,1B,55,04,65]" rotulo="Outras Obrigações"
                              descricao="Outras obrigações tributárias, ajustes e informações de valores provenientes de documento fiscal">

                        <persistencia indices="COD_ITEM"/>
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <validador id="REGRA_ITEM_INFORMADO_13001_V1" tipo="6"/>
                        <validador id="REGRA_VL_C197" tipo="2" campoMsg="VL_BC_ICMS"
                                   outrosCamposEnvolvidosValidacao="ALIQ_ICMS;VL_ICMS;VL_OUTROS"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C197”">
                            <valores-validos valores="C197"/>
                            <edicao exibir="false"/>
                        </campo>
                        <campo n="2" id="COD_AJ" tipo="C" tamanho="[10]" obrigatorio="1" rotulo="Código do Ajuste"
                               descricao="Código do ajuste/benefício/incentivo, conforme TABELA DE AJUSTES E INFORMAÇÕES DE VALORES PROVENIENTES DE DOCUMENTO FISCAL">
                            <valores-validos datasource="COD_AJ"/>
                            <edicao x="0" y="0" largura="6"/>
                        </campo>
                        <campo n="3" id="DESCR_COMPL_AJ" tipo="C" obrigatorio="0"
                               rotulo="Descrição complementar do ajuste do documento fiscal"
                               descricao="Descrição complementar do ajuste do documento fiscal">
                            <edicao x="0" y="1" largura="6"/>
                        </campo>
                        <campo n="4" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do item"
                               descricao="Código do item (campo 02 do Registro 0200)"
                               referenciaPesquisa="0200;COD_ITEM">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                            <edicao x="0" y="2" largura="6"/>
                        </campo>
                        <campo n="5" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Base de cálculo do ICMS" descricao="Base de cálculo do ICMS ou do ICMS ST">
                            <edicao x="1" y="3" largura="1" componente="104"/>
                        </campo>
                        <campo n="6" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                               rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                            <edicao x="0" y="3" largura="1" componente="105"/>
                            <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                        </campo>
                        <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                               descricao="Valor do ICMS ou ICMS ST">
                            <edicao x="2" y="3" largura="1" componente="104"/>
                        </campo>
                        <campo n="8" id="VL_OUTROS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Outros valores"
                               descricao="Outros valores">
                            <edicao x="0" y="4" largura="1" componente="104"/>
                        </campo>
                    </registro>

                </registro>

            </registro>

            <registro id="C300" nivel="2" ocorrencia="2" obrigatorio="2" chave="SER,SUB,NUM_DOC_INI,NUM_DOC_FIN"
                      outros="[modelos=02;definemodelo=true;naousachavenaduplicidade=true]"
                      rotulo="Resumo Diário das NF de Venda a Consumidor"
                      descricao="Resumo Diário das NF de Venda a Consumidor">

                <persistencia indices="SER,SUB;NUM_DOC_INI;NUM_DOC_FIN"/>

                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <validador id="REGRA_REGISTRO_OBRIGATORIO_C320" tipo="6"/>
                <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_C300_A9E1V1" tipo="6"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                <validador id="REGRA_VL_DOC_C300" tipo="6"/>
                <validador id="REGRA_NUMDOC" tipo="2" campoMsg="NUM_DOC_FIN"
                           outrosCamposEnvolvidosValidacao="NUM_DOC_INI"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “C300”">
                    <edicao exibir="false"/>
                    <valores-validos valores="C300"/>
                </campo>
                <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]"
                       outros="[obrigatorioSaida=true;obrigatorioimportacao=true]"
                       rotulo="Código do modelo do documento"
                       descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                    <valores-validos valores="02=Nota Fiscal de Venda a Consumidor;"/>
                    <edicao valorPadrao="02"/>
                </campo>
                <campo n="3" id="SER" tipo="C" tamanho="4" outros="[obrigatorioSaida=true]"
                       rotulo="Série do documento fiscal" descricao="Série do documento fiscal">
                    <edicao x="0" y="1" largura="1"/>
                </campo>
                <campo n="4" id="SUB" tipo="C" tamanho="3" obrigatorio="0" rotulo="Subsérie do documento fiscal"
                       descricao="Subsérie do documento fiscal">
                    <edicao x="1" y="1" largura="1" componente="107"/>
                </campo>
                <campo n="5" id="NUM_DOC_INI" tipo="N" tamanho="6" outros="[obrigatorioSaida=true]"
                       rotulo="Documento fiscal inicial" descricao="Número do documento fiscal inicial">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="0" largura="1" componente="107"/>
                </campo>
                <campo n="6" id="NUM_DOC_FIN" tipo="N" tamanho="6" outros="[obrigatorioSaida=true]"
                       rotulo="Documento fiscal final" descricao="Número do documento fiscal final">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1" componente="107"/>
                    <edicao x="1" y="0" largura="1"/>
                </campo>
                <campo n="7" id="DT_DOC" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                       rotulo="Data da emissão" descricao="Data da emissão dos documentos fiscais">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="0" y="2" largura="1" componente="103"/>
                </campo>
                <campo n="8" id="VL_DOC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor total dos documentos" descricao="Valor total dos documentos">
                    <validador id="REGRA_VL_DOC_GRANDE" tipo="1"/>
                    <edicao x="1" y="2" largura="1" componente="104"/>
                </campo>
                <campo n="9" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor total do PIS"
                       descricao="Valor total do PIS">
                    <edicao x="0" y="3" largura="1" componente="104"/>
                </campo>
                <campo n="10" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor total da COFINS"
                       descricao="Valor total da COFINS">
                    <edicao x="1" y="3" largura="1" componente="104"/>
                </campo>
                <campo n="11" id="COD_CTA" tipo="C" obrigatorio="0" rotulo="Código da conta analítica"
                       descricao="Código da conta analítica contábil debitada/creditada">
                    <edicao x="0" y="4" largura="4"/>
                </campo>

                <registro id="C310" nivel="3" ocorrencia="2" obrigatorio="0" chave="NUM_DOC_CANC" outros="[modelos=02]"
                          rotulo="Documentos Cancelados">
                    <validador id="REGRA_NUM_DOC_CANC_INTERVALO" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C310”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C310"/>
                    </campo>
                    <campo n="2" id="NUM_DOC_CANC" tipo="N" tamanho="6" outros="[obrigatorioSaida=true]"
                           rotulo="Número do documento fiscal" descricao="Número do documento fiscal cancelado">
                        <edicao componente="107"/>
                    </campo>
                </registro>

                <registro id="C320" nivel="3" ocorrencia="2" obrigatorio="0" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=02]" rotulo="Registro Analítico"
                          descricao="Registro analítico do resumo diário">

                    <persistencia indices="COD_OBS"/>

                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_SAIDA" campoObservado="CFOP"/>
                    </edicao>

                    <!--validador id="REGRA_REGISTRO_OBRIGATORIO_C321" tipo="6"/-->
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <validador id="REGRA_VL_BC_ICMS_C320" tipo="6"/>
                    <validador id="REGRA_VL_ICMS_C320" tipo="6"/>
                    <validador id="REGRA_CFOP_SAIDA" tipo="2" campoMsg="CFOP"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS" tipo="2" campoMsg="CST_ICMS"
                               outrosCamposEnvolvidosValidacao="VL_BC_ICMS;ALIQ_ICMS;VL_ICMS"/>
                    <validador id="REGRA_CST_ICMS_RED_BC" tipo="2" campoMsg="VL_RED_BC"
                               outrosCamposEnvolvidosValidacao="CST_ICMS"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C320”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C320"/>
                    </campo>
                    <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária referente ao ICMS, conforme Tabela Código da Situação Tributária - CST (ICMS)">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="3" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor total das operações"
                           descricao="Valor total acumulado das operações correspondentes à combinação de CST/ICMS, CFOP e alíquota do ICMS, incluídas as despesas acessórias e acréscimos">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base de cálculo do ICMS"
                           descricao="Valor acumulado da base de cálculo do ICMS, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do ICMS"
                           descricao="Valor acumulado do ICMS, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_RED_BC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor não tributado base do ICMS"
                           descricao="Valor não tributado em função da redução da base de cálculo do ICMS, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0" rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>

                    <registro id="C321" nivel="4" ocorrencia="2" obrigatorio="2" chave="COD_ITEM" outros="[modelos=02]"
                              rotulo="Itens" descricao="Itens do resumo diário">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>

                        <persistencia indices="UNID"/>
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C321”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C321"/>
                        </campo>
                        <campo n="2" id="COD_ITEM" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]"
                               rotulo="Código do item" descricao="Código do item (campo 02 do Registro 0200)"
                               referenciaPesquisa="0200;COD_ITEM">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                            <edicao x="0" y="0" largura="6"/>
                        </campo>
                        <campo n="3" id="QTD" tipo="N" casasdecimais="3" outros="[obrigatorioSaida=true]"
                               rotulo="Quantidade acumulada do item" descricao="Quantidade acumulada do item">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="0" y="2" largura="1" componente="106"/>
                        </campo>
                        <campo n="4" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]"
                               rotulo="Unidade do item" descricao="Unidade do item (Campo 02 do registro 0190)"
                               referenciaPesquisa="0190;UNID">
                            <valores-validos datasource="UNID_0190_SV"/>
                            <edicao x="0" y="1" largura="6"/>
                        </campo>
                        <campo n="5" id="VL_ITEM" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Valor acumulado do item" descricao="Valor acumulado do item">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="1" y="2" largura="1" componente="104"/>
                        </campo>
                        <campo n="6" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do desconto"
                               descricao="Valor do desconto acumulado">
                            <edicao x="2" y="2" largura="1" componente="104"/>
                        </campo>
                        <campo n="7" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Base de cálculo do ICMS" descricao="Valor acumulado da base de cálculo do ICMS">
                            <edicao x="0" y="3" largura="1" componente="104"/>
                        </campo>
                        <campo n="8" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                               descricao="Valor acumulado do ICMS debitado">
                            <edicao x="1" y="3" largura="1" componente="104"/>
                        </campo>
                        <campo n="9" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                               descricao="Valor acumulado do PIS">
                            <edicao x="0" y="4" largura="1" componente="104"/>
                        </campo>
                        <campo n="10" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                               descricao="Valor acumulado da COFINS">
                            <edicao x="1" y="4" largura="1" componente="104"/>
                        </campo>

                        <registro id="C330" nivel="5" ocorrencia="1" obrigatorio="2" outros="[modelos=02]"
                                  rotulo="Informações Complementares Das Operações De Saída De Mercadorias Sujeitas À Substituição Tributária"
                                  descricao="Informações Complementares Das Operações De Saída De Mercadorias Sujeitas À Substituição Tributária">
                            <edicao>
                                <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_MOT_REST_COMPL_PARA_REGISTROS"
                                                         campoObservado="COD_MOT_REST_COMPL"/>
                            </edicao>
                            <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                            <modificador-obrigatoriedade
                                    id="REGRA_OBRIGATORIO_COD_MOT_REST_COMPL_15001_V1"/><!-- ESTA REGRA INCLUI A REGRA_OBRIGATORIO_COD_MOT_REST_COMPL   -->
                            <validador id="REGRA_OBRIGATORIO_1255_POR_COD_MOT_REST_COMPL" tipo="6"/>
                            <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                            <validador id="REGRA_UNID_DIF_0200" tipo="6"/>
                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “C330”">
                                <edicao exibir="false"/>
                                <valores-validos valores="C330"/>
                            </campo>
                            <campo n="2" id="COD_MOT_REST_COMPL" tipo="C" tamanho="[5]" outros="[obrigatorioSaida=true]"
                                   rotulo="Código do motivo da restituição ou complementação"
                                   descricao="Código do motivo da restituição ou complementação conforme Tabela 5.7">
                                <valores-validos datasource="COD_MOT_REST_COMPL"/>
                                <validador id="REGRA_VALIDA_COD_MOT_RESP_COMPL_0" tipo="1"/>
                            </campo>
                            <campo n="3" id="QUANT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioSaida=true]"
                                   rotulo="Quantidade do item" descricao="Quantidade do item">
                                <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            </campo>
                            <campo n="4" id="UNID" tipo="C" tamanho="6" rotulo="Unidade adotada"
                                   descricao="Unidade adotada para informar o campo QUANT_CONV."
                                   referenciaPesquisa="0190;UNID">
                                <valores-validos datasource="UNID_0190_SV"/>
                            </campo>
                            <campo n="5" id="VL_UNIT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioSaida=true]"
                                   rotulo="Valor unitário da mercadoria"
                                   descricao="Valor unitário da mercadoria, considerando a unidade utilizada para informar o campo “QUANT_CONV”">
                                <edicao componente="104"/>
                            </campo>
                            <campo n="6" id="VL_UNIT_ICMS_NA_OPERACAO_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                                   rotulo="Valor unitário para o ICMS na operação"
                                   descricao="Valor unitário da mercadoria, considerando a unidade utilizada para informar o campo “QUANT_CONV”">
                                <edicao componente="104"/>
                            </campo>
                            <campo n="7" id="VL_UNIT_ICMS_OP_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                                   rotulo="Valor unit. de ICMS OP para desfazimento da ST"
                                   descricao="Valor unitário de ICMS Operações Próprias(OP) para desfazimento da Substituição Tributária(ST)">
                                <edicao componente="104"/>
                            </campo>
                            <campo n="8" id="VL_UNIT_BC_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                                   rotulo="Valor unit. médio de ICMS ST, incluindo FCP ST"
                                   descricao="Valor unitário médio de ICMS ST, incluindo FCP ST">
                                <edicao componente="104"/>
                            </campo>
                            <campo n="9" id="VL_UNIT_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                                   rotulo="Valor unit. médio de ICMS ST, incluindo FCP ST"
                                   descricao="Valor unitário médio de ICMS ST, incluindo FCP ST">
                                <edicao componente="104"/>
                            </campo>
                            <campo n="10" id="VL_UNIT_FCP_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6"
                                   obrigatorio="0" rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                                   descricao="Parcela correspondente a FCP ST que compõe o campo “Valor unit. médio de ICMS ST, incluindo FCP ST”">
                                <edicao componente="104"/>
                            </campo>
                            <campo n="11" id="VL_UNIT_ICMS_ST_CONV_REST" tipo="N" casasdecimais="6" obrigatorio="0"
                                   rotulo="Valor unit. ICMS ST, incluindo FCP ST, a ser restituído/ressarcido"
                                   descricao="Valor unitário do ICMS ST, incluindo FCP ST, a ser restituído/ressarcido">
                                <edicao componente="104"/>
                                <validador id="REGRA_VALIDA_VL_UNIT_ICMS_ST_CONV_REST" tipo="1"/>
                            </campo>
                            <campo n="12" id="VL_UNIT_FCP_ST_CONV_REST" tipo="N" casasdecimais="6" obrigatorio="0"
                                   rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                                   descricao="Parcela correspondente a FCP ST que compõe o campo “Valor unit. ICMS ST, incluindo FCP ST, a ser restituído/ressarcido”">
                                <edicao componente="104"/>
                            </campo>
                            <campo n="13" id="VL_UNIT_ICMS_ST_CONV_COMPL" tipo="N" casasdecimais="6" obrigatorio="0"
                                   rotulo="Valor unit. do complemento de ICMS ST, incluindo FCP ST"
                                   descricao="Valor unitário do complemento do ICMS, incluindo FCP ST, considerando a unidade utilizada para informar o campo “Quantidade do Item”">
                                <edicao componente="104"/>
                                <validador id="REGRA_VALIDA_VL_UNIT_ICMS_ST_CONV_COMPL" tipo="1"/>
                            </campo>
                            <campo n="14" id="VL_UNIT_FCP_ST_CONV_COMPL" tipo="N" casasdecimais="6" obrigatorio="0"
                                   rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                                   descricao="Valor unitário correspondente à parcela de FCP ST que compõe o campo acima, considerando unidade utilizada para informar o campo “Quantidade do Item”.">
                                <edicao componente="104"/>
                            </campo>

                        </registro>

                    </registro>
                </registro>
            </registro>

            <registro id="C350" nivel="2" ocorrencia="2" obrigatorio="2" chave="NUM_DOC,SER,SUB_SER"
                      outros="[modelos=02;definemodelo=true]" rotulo="NF de venda a consumidor"
                      descricao="Nota Fiscal de Venda a Consumidor">
                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                <!-- Removida - o validador agora vai no proprio campo
				<validador id="REGRA_VALIDA_CNPJ_CPF" tipo="2" campoMsg="CNPJ_CPF"/> -->

                <edicao>

                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                    </painel-botoes>

                    <painel-registro>
                        <botao id="BOTAO_ABRIR_CADASTRO_ITENS" texto="Cadastrar Itens"
                               tooltip="Abre a tela de cadastro dos Itens da Nota Fiscal"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionAbrirCadastroDeItens"
                               x="0" y="0" largura="1"/>
                    </painel-registro>

                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “C350”">
                    <edicao exibir="false"/>
                    <valores-validos valores="C350"/>
                </campo>
                <campo n="2" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série"
                       descricao="Série do documento fiscal">
                    <edicao x="1" y="0" largura="1"/>
                </campo>
                <campo n="3" id="SUB_SER" tipo="C" tamanho="3" obrigatorio="0" rotulo="Subsérie"
                       descricao="Subsérie do Documento Fiscal">
                    <edicao x="2" y="0" largura="1"/>
                </campo>
                <campo n="4" id="NUM_DOC" tipo="N" tamanho="6" outros="[obrigatorioSaida=true]"
                       rotulo="Número do documento" descricao="Número do documento fiscal">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="0" largura="1"/>
                </campo>
                <campo n="5" id="DT_DOC" tipo="D" tamanho="8" outros="[obrigatorioSaida=true]"
                       rotulo="Data da emissão do documento fiscal" descricao="Data da emissão do documento fiscal">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <edicao x="0" y="2" largura="1" componente="103"/>
                </campo>
                <campo n="6" id="CNPJ_CPF" tipo="C" tamanho="14" obrigatorio="0" rotulo="CNPJ ou CPF do destinatário"
                       descricao="CNPJ ou CPF do destinatário">
                    <validador id="REGRA_VALIDA_CPF_CNPJ_CAMPO" tipo="1"/>
                    <edicao x="0" y="1" largura="6" componente="115"/>
                </campo>
                <campo n="7" id="VL_MERC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor das mercadorias" descricao="Valor das mercadorias constantes no documento fiscal">
                    <edicao x="1" y="3" largura="1" componente="104"/>
                </campo>
                <campo n="8" id="VL_DOC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor Total do Documento Fiscal" descricao="Valor Total do Documento Fiscal">
                    <validador id="REGRA_VL_DOC_GRANDE" tipo="1"/>
                    <edicao x="0" y="3" largura="1" componente="104"/>
                </campo>
                <campo n="9" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor Total do desconto"
                       descricao="Valor Total do desconto">
                    <edicao x="2" y="3" largura="1" componente="104"/>
                </campo>
                <campo n="10" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor Total do PIS"
                       descricao="Valor Total do PIS">
                    <edicao x="0" y="4" largura="1" componente="104"/>
                </campo>
                <campo n="11" id="VL_COFIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor Total da COFIS"
                       descricao="Valor Total da COFIS">
                    <edicao x="1" y="4" largura="1" componente="104"/>
                </campo>
                <campo n="12" id="COD_CTA" tipo="C" obrigatorio="0" rotulo="Código da Conta Analítica"
                       descricao="Código da Conta Analítica Contábil creditada/Debitada">
                    <edicao x="0" y="5" largura="6"/>
                </campo>

                <registro id="C370" nivel="3" ocorrencia="2" obrigatorio="1" chave="NUM_ITEM,COD_ITEM"
                          outros="[modelos=02]" rotulo="Itens" descricao="Itens da nota fiscal de venda ao consumidor">
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                    <validador id="REGRA_NUM_ITEM_SEQ_C370" tipo="6"/>
                    <validador id="REGRA_COERENCIA_CFOP_C380" tipo="6"/>
                    <edicao>

                        <painel-registro>
                            <botao id="BOTAO_NOVOS_ITENS" texto="Novo" tooltip="Abre um novo item para inserção"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirNovoItem"
                                   x="0" y="0" largura="1"/>
                        </painel-registro>

                    </edicao>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C370”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C370"/>
                    </campo>
                    <campo n="2" id="NUM_ITEM" tipo="N" tamanho="3" outros="[obrigatorioSaida=true]"
                           rotulo="Número Sequencial" descricao="Número Sequencial do item no documento fiscal">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao x="0" y="0" largura="1"/>
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]"
                           rotulo="Código do Item" descricao="Código do Item (Campo 02 do Registro 0200)"
                           referenciaPesquisa="0200;COD_ITEM">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="QTD" tipo="N" casasdecimais="3" outros="[obrigatorioSaida=true]"
                           rotulo="Quantidade" descricao="Quantidade do Item">
                        <edicao x="0" y="3" largura="1"/>
                    </campo>
                    <campo n="5" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]"
                           rotulo="Unidade do item" descricao="Unidade do Item (campo 02 do Registro 0190)"
                           referenciaPesquisa="0190;UNID">
                        <valores-validos datasource="UNID_0190_SV"/>
                        <edicao x="0" y="2" largura="6"/>
                    </campo>
                    <campo n="6" id="VL_ITEM" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor total do item" descricao="Valor total do item">
                        <validador id="REGRA_MAIOR_IGUAL_ZERO" tipo="1"/>
                        <edicao x="1" y="3" largura="1" componente="104"/>
                    </campo>
                    <campo n="7" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do desconto"
                           descricao="Valor total do desconto no item">
                        <edicao x="2" y="3" largura="1" componente="104"/>
                    </campo>
                    <registro id="C380" nivel="4" ocorrencia="2" obrigatorio="2" outros="[modelos=02]"
                              rotulo="Informações Complementares Das Operações De Saída De Mercadorias Sujeitas À Substituição Tributária"
                              descricao="Informações Complementares Das Operações De Saída De Mercadorias Sujeitas À Substituição Tributária(Código 02)">

                        <edicao>
                            <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP" campoObservado="CFOP"/>
                            <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_MOT_REST_COMPL_PARA_REGISTROS"
                                                     campoObservado="COD_MOT_REST_COMPL"/>
                        </edicao>
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <modificador-obrigatoriedade
                                id="REGRA_OBRIGATORIO_COD_MOT_REST_COMPL_15001_V1"/><!-- ESTA REGRA INCLUI A REGRA_OBRIGATORIO_COD_MOT_REST_COMPL   -->
                        <validador id="REGRA_OBRIGATORIO_1255_POR_COD_MOT_REST_COMPL" tipo="6"/>
                        <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                        <validador id="REGRA_UNID_DIF_0200" tipo="6"/>
                        <validador id="REGRA_CFOP_SAIDA_AMPLO" tipo="2" campoMsg="CFOP"/>

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C380”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C380"/>
                        </campo>
                        <campo n="2" id="COD_MOT_REST_COMPL" tipo="C" tamanho="[5]" outros="[obrigatorioSaida=true]"
                               rotulo="Código do motivo da restituição ou complementação"
                               descricao="Código do motivo da restituição ou complementação conforme Tabela 5.7">
                            <valores-validos datasource="COD_MOT_REST_COMPL"/>
                            <validador id="REGRA_VALIDA_COD_MOT_RESP_COMPL_0" tipo="1"/>
                        </campo>
                        <campo n="3" id="QUANT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioSaida=true]"
                               rotulo="Quantidade do item" descricao="Quantidade do item">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <campo n="4" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]"
                               rotulo="Unidade adotada" descricao="Unidade adotada para informar o campo QUANT_CONV."
                               referenciaPesquisa="0190;UNID">
                            <valores-validos datasource="UNID_0190_SV"/>
                        </campo>
                        <campo n="5" id="VL_UNIT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioSaida=true]"
                               rotulo="Valor unitário da mercadoria"
                               descricao="Valor unitário da mercadoria, considerando a unidade utilizada para informar o campo “QUANT_CONV”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="6" id="VL_UNIT_ICMS_NA_OPERACAO_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unitário para o ICMS na operação"
                               descricao="Valor unitário da mercadoria, considerando a unidade utilizada para informar o campo “QUANT_CONV”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="7" id="VL_UNIT_ICMS_OP_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. de ICMS OP para desfazimento da ST"
                               descricao="Valor unitário de ICMS Operações Próprias(OP) para desfazimento da Substituição Tributária(ST)">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="8" id="VL_UNIT_BC_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. médio de ICMS OP"
                               descricao="Valor unitário médio de ICMS Operações Próprias">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="9" id="VL_UNIT_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. médio de ICMS ST, incluindo FCP ST"
                               descricao="Valor unitário médio de ICMS ST, incluindo FCP ST">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="10" id="VL_UNIT_FCP_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                               descricao="Parcela correspondente a FCP ST que compõe o campo “Valor unit. médio de ICMS ST, incluindo FCP ST”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="11" id="VL_UNIT_ICMS_ST_CONV_REST" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. ICMS ST, incluindo FCP ST, a ser restituído/ressarcido"
                               descricao="Valor unitário do ICMS ST, incluindo FCP ST, a ser restituído/ressarcido">
                            <edicao componente="104"/>
                            <validador id="REGRA_VALIDA_VL_UNIT_ICMS_ST_CONV_REST" tipo="1"/>
                        </campo>
                        <campo n="12" id="VL_UNIT_FCP_ST_CONV_REST" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                               descricao="Parcela correspondente a FCP ST que compõe o campo “Valor unit. ICMS ST, incluindo FCP ST, a ser restituído/ressarcido”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="13" id="VL_UNIT_ICMS_ST_CONV_COMPL" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. do complemento de ICMS ST, incluindo FCP ST"
                               descricao="Valor unitário do complemento do ICMS, incluindo FCP ST, considerando a unidade utilizada para informar o campo “Quantidade do Item”">
                            <edicao componente="104"/>
                            <validador id="REGRA_VALIDA_VL_UNIT_ICMS_ST_CONV_COMPL" tipo="1"/>
                        </campo>
                        <campo n="14" id="VL_UNIT_FCP_ST_CONV_COMPL" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                               descricao="Valor unitário correspondente à parcela de FCP ST que compõe o campo acima, considerando unidade utilizada para informar o campo “Quantidade do Item”.">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="15" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]"
                               rotulo="Código da Situação Tributária referente ao ICMS"
                               descricao="Código da Situação Tributária referente ao ICMS">
                            <valores-validos datasource="CST_ICMS"/>
                        </campo>
                        <campo n="16" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]"
                               rotulo="Código Fiscal de Operação e Prestação"
                               descricao="Código Fiscal de Operação e Prestação">
                            <valores-validos datasource="CFOP"/>
                        </campo>
                    </registro>
                </registro>

                <registro id="C390" nivel="3" ocorrencia="2" obrigatorio="1" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=02]" rotulo="Analítico"
                          descricao="Registro analítico dos itens da nota fiscal de venda ao consumidor">
                    <persistencia indices="COD_OBS"/>
                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_SAIDA" campoObservado="CFOP"/>
                    </edicao>
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS" tipo="2" campoMsg="CST_ICMS"
                               outrosCamposEnvolvidosValidacao="VL_BC_ICMS;ALIQ_ICMS;VL_ICMS"/>
                    <validador id="REGRA_CFOP_SAIDA" tipo="2" campoMsg="CFOP"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C390”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C390"/>
                    </campo>
                    <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="3" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS" descricao="Alíquota do ICMS">
                        <edicao componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor total"
                           descricao="Valor total acumulado das operações correspondentes à combinação de CST_ICMS, CFOP e alíquota do ICMS, incluídas as despesas acessórias e acréscimos">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor acumulado da base de cálculo"
                           descricao="Valor acumulado da base de cálculo do ICMS, referente à combinação de CST_ICMS, CFOP, e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor acumulado do ICMS"
                           descricao="Valor acumulado do ICMS, referente à combinação de CST_ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_RED_BC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor não tributado"
                           descricao="Valor não tributado em função da redução da base de cálculo do ICMS, referente à combinação de CST_ICMS, CFOP, e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0"
                           rotulo="Código da observação do lançamento fiscal"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>
                </registro>

            </registro>

            <registro id="C400" nivel="2" ocorrencia="2" obrigatorio="2" chave="COD_MOD,ECF_MOD,ECF_FAB"
                      outros="[modelos=2D,02,60;definemodelo=true]" rotulo="Equipamento ECF">
                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <edicao>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>

                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                    </painel-botoes>
                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “C400”">
                    <edicao exibir="false"/>
                    <valores-validos valores="C400"/>
                </campo>
                <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]"
                       outros="[obrigatorioSaida=true;obrigatorioimportacao=true]" rotulo="Código do modelo"
                       descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                    <valores-validos
                            valores="02=Nota Fiscal de Venda a Consumidor;2D=Cupom Fiscal emitido por ECF;60=CF-e-ECF"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="ECF_MOD" tipo="C" tamanho="20" outros="[obrigatorioSaida=true]"
                       rotulo="Modelo do equipamento" descricao="Modelo do equipamento">
                </campo>
                <campo n="4" id="ECF_FAB" tipo="C" tamanho="21" outros="[obrigatorioSaida=true]"
                       rotulo="Número de série" descricao="Número de série de fabricação do ECF">
                </campo>
                <campo n="5" id="ECF_CX" tipo="N" tamanho="3" outros="[obrigatorioSaida=true]" rotulo="Número do caixa"
                       descricao="Número do caixa atribuído ao ECF">
                    <edicao componente="107"/>
                </campo>

                <registro id="C405" nivel="3" ocorrencia="2" obrigatorio="1" chave="DT_DOC,CRO,CRZ"
                          outros="[modelos=2D,02,60]" rotulo="Redução Z">

                    <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                    <validador id="REGRA_VENDA_BRUTA_A4_E5_V2" tipo="6"/>
                    <validador id="REGRA_GRANDE_TOTAL_FINAL" tipo="2" campoMsg="GT_FIN"
                               outrosCamposEnvolvidosValidacao="VL_BRT"/>
                    <validador id="REGRA_OBRIGATORIO_C490_V2" tipo="6"/>
                    <validador id="REGRA_VALIDA_CUPOM_FISCAL_CANCELADO" tipo="6"/>
                    <modificador-obrigatoriedade id="REGRA_VL_BRT_ZERO"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="0" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C405”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C405"/>
                    </campo>
                    <campo n="2" id="DT_DOC" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                           rotulo="Data da Redução Z" descricao="Data do movimento a que se refere a Redução Z">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                        <edicao x="0" y="0" largura="1" componente="103"/>
                    </campo>
                    <campo n="3" id="CRO" tipo="N" tamanho="3" outros="[obrigatorioSaida=true]" rotulo="Posição do CRO"
                           descricao="Posição do Contador de Reinício de Operação">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao x="0" y="1" largura="1" componente="107"/>
                    </campo>
                    <campo n="4" id="CRZ" tipo="N" tamanho="6" outros="[obrigatorioSaida=true]" rotulo="Posição do CRZ"
                           descricao="Posição do Contador de Redução Z">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao x="1" y="1" largura="1" componente="107"/>
                    </campo>
                    <campo n="5" id="NUM_COO_FIN" tipo="N" tamanho="9" outros="[obrigatorioSaida=true]"
                           rotulo="COO da Redução Z"
                           descricao="Número do Contador de Ordem de Operação do último documento emitido no dia. (Número do COO na Redução Z)">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao x="2" y="1" largura="1" componente="107"/>
                    </campo>
                    <campo n="6" id="GT_FIN" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="GT final" descricao="Valor do Grande Total final">
                        <edicao x="0" y="2" largura="1" componente="104"/>
                    </campo>
                    <campo n="7" id="VL_BRT" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor da venda bruta" descricao="Valor da venda bruta">
                        <edicao x="1" y="2" largura="1" componente="104"/>
                    </campo>

                    <registro id="C410" nivel="4" ocorrencia="1" obrigatorio="2" outros="[modelos=2D,02]"
                              rotulo="PIS/COFINS" descricao="PIS e COFINS totalizados no dia">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C410”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C410"/>
                        </campo>
                        <campo n="2" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor total do PIS"
                               descricao="Valor total do PIS">
                            <edicao x="0" y="0" largura="1" componente="104"/>
                        </campo>
                        <campo n="3" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Valor total da COFINS" descricao="Valor total da COFINS">
                            <edicao x="1" y="0" largura="1" componente="104"/>
                        </campo>
                    </registro>

                    <registro id="C420" nivel="4" ocorrencia="2" obrigatorio="1" chave="COD_TOT_PAR,NR_TOT"
                              outros="[modelos=2D,02,60]" rotulo="Totalizador Parcial"
                              descricao="Totalizados parcial da Redução Z">

                        <validador id="REGRA_REGISTRO_OBRIGATORIO_C425_A8E1V1" tipo="6"/>
                        <validador id="REGRA_VL_ITEM_C425" tipo="6"/>
                        <validador id="REGRA_NR_TOT_A003E001V4" tipo="2" campoMsg="NR_TOT"
                                   outrosCamposEnvolvidosValidacao="COD_TOT_PAR"/>
                        <validador id="REGRA_DESCR_NR_TOT" tipo="2" campoMsg="DESCR_NR_TOT"
                                   outrosCamposEnvolvidosValidacao="NR_TOT"/>
                        <validador id="REGRA_VLR_TOTALIZADOR" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C420”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C420"/>
                        </campo>
                        <campo n="2" id="COD_TOT_PAR" tipo="C" tamanho="7" outros="[obrigatorioSaida=true]"
                               rotulo="Código do totalizador"
                               descricao="Código do totalizador, conforme Tabela de Códigos dos Totalizadores Parciais da REDUÇÃO Z">
                            <validador id="REGRA_EXISTE_COD_TOT_PAR" tipo="1"/>
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="3" id="VLR_ACUM_TOT" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Valor acumulado no totalizador"
                               descricao="Valor acumulado no totalizador, relativo à respectiva Redução Z">
                            <edicao x="1" y="1" largura="1" componente="104"/>
                        </campo>
                        <campo n="4" id="NR_TOT" tipo="N" tamanho="2" obrigatorio="0" rotulo="Número do totalizador"
                               descricao="Número do totalizador quando ocorrer mais de uma situação com a mesma carga tributária efetiva">
                            <edicao x="0" y="1" largura="1" componente="107"/>
                        </campo>
                        <campo n="5" id="DESCR_NR_TOT" tipo="C" obrigatorio="0"
                               rotulo="Descrição da situação tributária"
                               descricao="Descrição da situação tributária relativa ao totalizador parcial do campo anterior">
                            <edicao x="0" y="2" largura="4"/>
                        </campo>

                        <registro id="C425" nivel="5" ocorrencia="2" obrigatorio="2" chave="COD_ITEM"
                                  outros="[modelos=2D,02]" rotulo="Resumo dos Itens"
                                  descricao="Resumo dos itens do movimento diário">
                            <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                            <persistencia indices="UNID"/>
                            <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                            <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                            <validador id="REGRA_NAO_INFORMAR_C425" tipo="6"/>
                            <validador id="REGRA_COERENCIA_CFOP_C430" tipo="6"/>
                            <validador id="REGRA_VALIDA_UNID_CONVERSAO_17001_V1" tipo="6"/>

                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “C425”">
                                <edicao exibir="false"/>
                                <valores-validos valores="C425"/>
                            </campo>
                            <campo n="2" id="COD_ITEM" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]"
                                   rotulo="Código do item" descricao="Código do item (campo 02 do Registro 0200)"
                                   referenciaPesquisa="0200;COD_ITEM">
                                <valores-validos datasource="COD_ITEM_0200_SV"/>
                                <edicao x="0" y="0" largura="4"/>
                            </campo>
                            <campo n="3" id="QTD" tipo="N" casasdecimais="3" outros="[obrigatorioSaida=true]"
                                   rotulo="Quantidade acumulada do item" descricao="Quantidade acumulada do item">
                                <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                                <edicao x="0" y="2" largura="1" componente="106"/>
                            </campo>
                            <campo n="4" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]"
                                   rotulo="Unidade do item" descricao="Unidade do item (Campo 02 do registro 0190)"
                                   referenciaPesquisa="0190;UNID">
                                <valores-validos datasource="UNID_0190_SV"/>
                                <edicao x="0" y="1" largura="4"/>
                            </campo>
                            <campo n="5" id="VL_ITEM" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                                   rotulo="Valor acumulado do item" descricao="Valor acumulado do item">
                                <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                                <edicao x="1" y="2" largura="1" componente="104"/>
                            </campo>
                            <campo n="6" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                                   descricao="Valor do PIS">
                                <edicao x="0" y="3" largura="1" componente="104"/>
                            </campo>
                            <campo n="7" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0"
                                   rotulo="Valor da COFINS" descricao="Valor da COFINS">
                                <edicao x="1" y="3" largura="1" componente="104"/>
                            </campo>

                            <registro id="C430" nivel="6" ocorrencia="2" obrigatorio="2" outros="[modelos=2D,02,60]"
                                      rotulo="Informações Complementares das Operações de Saída de Mercadorias Sujeitas à Substituição Tributária"
                                      descricao="Informações Complementares das Operações de Saída de Mercadorias Sujeitas à Substituição Tributária (Código 02, 2D e 60)">
                                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>

                                <edicao>
                                    <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_AMPLO" campoObservado="CFOP"/>
                                    <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_MOT_REST_COMPL_PARA_REGISTROS"
                                                             campoObservado="COD_MOT_REST_COMPL"/>
                                </edicao>
                                <validador id="REGRA_OBRIGATORIO_1255_POR_COD_MOT_REST_COMPL" tipo="6"/>
                                <validador id="REGRA_UNID_DIF_0200" tipo="6"/>
                                <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                                <validador id="REGRA_CFOP_SAIDA_AMPLO" tipo="2" campoMsg="CFOP"/>
                                <modificador-obrigatoriedade
                                        id="REGRA_OBRIGATORIO_COD_MOT_REST_COMPL_15001_V1"/><!-- ESTA REGRA INCLUI A REGRA_OBRIGATORIO_COD_MOT_REST_COMPL   -->

                                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                       descricao="Texto fixo contendo “C430”">
                                    <edicao exibir="false"/>
                                    <valores-validos valores="C430"/>
                                </campo>
                                <campo n="2" id="COD_MOT_REST_COMPL" tipo="C" tamanho="[5]"
                                       outros="[obrigatorioSaida=true]"
                                       rotulo="Código do motivo da restituição ou complementação"
                                       descricao="Código do motivo da restituição ou complementação conforme Tabela 5.7">
                                    <valores-validos datasource="COD_MOT_REST_COMPL"/>
                                    <validador id="REGRA_VALIDA_COD_MOT_RESP_COMPL_0" tipo="1"/>
                                </campo>
                                <campo n="3" id="QUANT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioSaida=true]"
                                       rotulo="Quantidade do item" descricao="Quantidade do item">
                                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                                </campo>
                                <campo n="4" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]"
                                       rotulo="Unidade adotada"
                                       descricao="Unidade adotada para informar o campo QUANT_CONV."
                                       referenciaPesquisa="0190;UNID">
                                    <valores-validos datasource="UNID_0190_SV"/>
                                </campo>
                                <campo n="5" id="VL_UNIT_CONV" tipo="N" casasdecimais="6"
                                       outros="[obrigatorioSaida=true]" rotulo="Valor unitário da mercadoria"
                                       descricao="Valor unitário da mercadoria, considerando a unidade utilizada para informar o campo “QUANT_CONV”">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="6" id="VL_UNIT_ICMS_NA_OPERACAO_CONV" tipo="N" casasdecimais="6"
                                       obrigatorio="0" rotulo="Valor unitário para o ICMS na operação"
                                       descricao="Valor unitário da mercadoria, considerando a unidade utilizada para informar o campo “QUANT_CONV”">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="7" id="VL_UNIT_ICMS_OP_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                                       rotulo="Valor unit. de ICMS OP para desfazimento da ST"
                                       descricao="Valor unitário de ICMS Operações Próprias(OP) para desfazimento da Substituição Tributária(ST)">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="8" id="VL_UNIT_BC_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6"
                                       obrigatorio="0" rotulo="Valor unit. médio de ICMS OP"
                                       descricao="Valor unitário médio de ICMS Operações Próprias">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="9" id="VL_UNIT_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6"
                                       obrigatorio="0" rotulo="Valor unit. médio de ICMS ST, incluindo FCP ST"
                                       descricao="Valor unitário médio de ICMS ST, incluindo FCP ST">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="10" id="VL_UNIT_FCP_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6"
                                       obrigatorio="0"
                                       rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                                       descricao="Parcela correspondente a FCP ST que compõe o campo “Valor unit. médio de ICMS ST, incluindo FCP ST”">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="11" id="VL_UNIT_ICMS_ST_CONV_REST" tipo="N" casasdecimais="6" obrigatorio="0"
                                       rotulo="Valor unit. ICMS ST, incluindo FCP ST, a ser restituído/ressarcido"
                                       descricao="Valor unitário do ICMS ST, incluindo FCP ST, a ser restituído/ressarcido">
                                    <edicao componente="104"/>
                                    <validador id="REGRA_VALIDA_VL_UNIT_ICMS_ST_CONV_REST" tipo="1"/>
                                </campo>
                                <campo n="12" id="VL_UNIT_FCP_ST_CONV_REST" tipo="N" casasdecimais="6" obrigatorio="0"
                                       rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                                       descricao="Parcela correspondente a FCP ST que compõe o campo “Valor unit. ICMS ST, incluindo FCP ST, a ser restituído/ressarcido”">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="13" id="VL_UNIT_ICMS_ST_CONV_COMPL" tipo="N" casasdecimais="6" obrigatorio="0"
                                       rotulo="Valor unit. do complemento de ICMS ST, incluindo FCP ST"
                                       descricao="Valor unitário do complemento do ICMS, incluindo FCP ST, considerando a unidade utilizada para informar o campo “Quantidade do Item”">
                                    <edicao componente="104"/>
                                    <validador id="REGRA_VALIDA_VL_UNIT_ICMS_ST_CONV_COMPL" tipo="1"/>
                                </campo>
                                <campo n="14" id="VL_UNIT_FCP_ST_CONV_COMPL" tipo="N" casasdecimais="6" obrigatorio="0"
                                       rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                                       descricao="Valor unitário correspondente à parcela de FCP ST que compõe o campo acima, considerando unidade utilizada para informar o campo “Quantidade do Item”.">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="15" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]"
                                       rotulo="Código da Situação Tributária referente ao ICMS"
                                       descricao="Código da Situação Tributária referente ao ICMS">
                                    <valores-validos datasource="CST_ICMS"/>
                                </campo>
                                <campo n="16" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]"
                                       rotulo="Código Fiscal de Operação e Prestação"
                                       descricao="Código Fiscal de Operação e Prestação">
                                    <valores-validos datasource="CFOP"/>
                                </campo>
                            </registro>
                        </registro>
                    </registro>

                    <registro id="C460" nivel="4" ocorrencia="2" obrigatorio="2" chave="COD_MOD,NUM_DOC,DT_DOC"
                              outros="[modelos=2D,02,60]" rotulo="Doc. Fiscal"
                              descricao="Documento fiscal emitido por ECF">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_C460_A8E1V1"/>
                        <validador id="REGRA_VL_DOC_C470" tipo="6"/>
                        <!-- Vide comentário análogo c350 <validador id="REGRA_VALIDA_CPF_CNPJ_A6E1V2" tipo="2" campoMsg="CPF_CNPJ"/> -->
                        <modificador-obrigatoriedade id="REGRA_CUPOM_FISCAL_CANCELADO"/>
                        <edicao>

                            <painel-registro>
                                <botao id="BOTAO_ABRIR_CADASTRO_ITENS" texto="Cadastrar Itens"
                                       tooltip="Abre a tela de cadastro dos Itens da Nota Fiscal"
                                       action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionAbrirCadastroDeItens"
                                       x="0" y="0" largura="1"/>
                            </painel-registro>

                            <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_SIT_POR_COD_MOD_17001_V2"
                                                     campoObservado="COD_SIT"/>

                        </edicao>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C460”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C460"/>
                        </campo>
                        <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]" outros="[obrigatorioSaida=true]"
                               rotulo="Código do modelo"
                               descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                            <valores-validos
                                    valores="02=Nota Fiscal de Venda a Consumidor;2D=Cupom Fiscal emitido por ECF;60=CF-e-ECF"/>
                            <edicao x="0" y="1" largura="6"/>
                        </campo>
                        <campo n="3" id="COD_SIT" tipo="N" tamanho="[2]" outros="[obrigatorioSaida=true]"
                               rotulo="Código da situação"
                               descricao="Código da situação do documento fiscal, conforme a Tabela Situação do Documento">
                            <valores-validos datasource="COD_SIT" outros="[codigos=00,01,02]"/>
                            <edicao x="0" y="0" largura="6" valorPadrao="00"/>
                        </campo>
                        <campo n="4" id="NUM_DOC" tipo="N" tamanho="9" outros="[obrigatorioSaida=true]"
                               rotulo="Número do documento fiscal (COO)" descricao="Número do documento fiscal (COO)">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="0" y="2" largura="1" componente="107"/>
                        </campo>
                        <campo n="5" id="DT_DOC" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                               rotulo="Data da emissão" descricao="Data da emissão do documento fiscal">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="1" y="2" largura="1" componente="103"/>
                        </campo>
                        <campo n="6" id="VL_DOC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Valor total" descricao="Valor total do documento fiscal">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <validador id="REGRA_VL_DOC_GRANDE" tipo="1"/>
                            <edicao x="2" y="2" largura="1" componente="104"/>
                        </campo>
                        <campo n="7" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                               descricao="Valor do PIS">
                            <edicao x="0" y="3" largura="1" componente="104"/>
                        </campo>
                        <campo n="8" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                               descricao="Valor da COFINS">
                            <edicao x="1" y="3" largura="1" componente="104"/>
                        </campo>
                        <campo n="9" id="CPF_CNPJ" tipo="C" tamanho="14" obrigatorio="0" rotulo="CPF/CNPJ do adquirente"
                               descricao="CPF ou CNPJ do adquirente">
                            <validador id="REGRA_VALIDA_CPF_CNPJ_CAMPO" tipo="1"/>
                            <edicao x="0" y="4" largura="1" componente="115"/>
                        </campo>
                        <campo n="10" id="NOME_ADQ" tipo="C" tamanho="60" obrigatorio="0" rotulo="Nome do adquirente"
                               descricao="Nome do adquirente">
                            <edicao x="1" y="4" largura="1"/>
                        </campo>

                        <registro id="C465" nivel="5" ocorrencia="1" obrigatorio="1" chave="CHV_CFE"
                                  outros="[modelos=60]" rotulo="Complemento"
                                  descricao="Complemento do Cupom Fiscal Eletrônico emitido por ECF – CF-e-ECF (Código 60)">
                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “C465”">
                                <edicao exibir="false"/>
                                <valores-validos valores="C465"/>
                            </campo>
                            <campo n="2" id="CHV_CFE" tipo="N" tamanho="[44]" outros="[obrigatorioSaida=true]"
                                   rotulo="Chave do CFe" descricao="Chave do Cupom Fiscal Eletrônico">
                                <validador id="REGRA_DIGITO_CHV_CFE_ECF" tipo="1"/>
                                <edicao x="0" y="0" largura="1" componente="117"/>
                            </campo>
                            <campo n="3" id="NUM_CCF" tipo="N" tamanho="9" outros="[obrigatorioSaida=true]"
                                   rotulo="Número do Contador do Cupom Fiscal"
                                   descricao="Número do Contador do Cupom Fiscal">
                                <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                                <edicao x="0" y="1" largura="1"/>
                            </campo>
                        </registro>

                        <registro id="C470" nivel="5" ocorrencia="2" obrigatorio="1" outros="[modelos=2D,02]"
                                  rotulo="Itens" descricao="Itens do documento fiscal emitido por ECF">

                            <persistencia indices="COD_ITEM;UNID"/>
                            <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                            <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                            <validador id="REGRA_NR_CANC" tipo="2" campoMsg="QTD_CANC"
                                       outrosCamposEnvolvidosValidacao="QTD"/>
                            <validador id="REGRA_CFOP_SAIDA" tipo="2" campoMsg="CFOP"/>
                            <validador id="REGRA_COERENCIA_CFOP_C480" tipo="6"/>

                            <edicao>
                                <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_SAIDA" campoObservado="CFOP"/>

                                <painel-registro>
                                    <botao id="BOTAO_NOVOS_ITENS" texto="Novo" tooltip="Abre um novo item para inserção"
                                           action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirNovoItem"
                                           x="0" y="0" largura="1"/>
                                </painel-registro>

                            </edicao>

                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “C470”">
                                <edicao exibir="false"/>
                                <valores-validos valores="C470"/>
                            </campo>
                            <campo n="2" id="COD_ITEM" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]"
                                   rotulo="Código do item" descricao="Código do item (campo 02 do Registro 0200)"
                                   referenciaPesquisa="0200;COD_ITEM">
                                <valores-validos datasource="COD_ITEM_0200_SV"/>
                                <edicao x="0" y="0" largura="6"/>
                            </campo>
                            <campo n="3" id="QTD" tipo="N" casasdecimais="3" outros="[obrigatorioSaida=true]"
                                   rotulo="Quantidade do item" descricao="Quantidade do item">
                                <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                                <edicao x="0" y="5" largura="1" componente="106"/>
                            </campo>
                            <campo n="4" id="QTD_CANC" tipo="N" casasdecimais="3" obrigatorio="0"
                                   rotulo="Quantidade cancelada"
                                   descricao="Quantidade cancelada, no caso de cancelamento parcial de item">
                                <edicao x="1" y="5" largura="1" componente="106"/>
                            </campo>
                            <campo n="5" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]"
                                   rotulo="Unidade do item" descricao="Unidade do item (Campo 02 do registro 0190)"
                                   referenciaPesquisa="0190;UNID">
                                <valores-validos datasource="UNID_0190_SV"/>
                                <edicao x="0" y="4" largura="6"/>
                            </campo>
                            <campo n="6" id="VL_ITEM" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                                   rotulo="Valor do item" descricao="Valor do item">
                                <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                                <edicao x="2" y="5" largura="1" componente="104"/>
                            </campo>
                            <campo n="7" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]"
                                   rotulo="CST/ICMS" descricao="Código da Situação Tributária referente ao ICMS">
                                <valores-validos datasource="CST_ICMS"/>
                                <edicao x="0" y="1" largura="6"/>
                            </campo>
                            <campo n="8" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                                   descricao="Código Fiscal de Operação e Prestação">
                                <valores-validos datasource="CFOP"/>
                                <edicao x="0" y="2" largura="6"/>
                            </campo>
                            <campo n="9" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                                   rotulo="Carga tributária ICMS(%)"
                                   descricao="Alíquota do ICMS – Carga tributária efetiva em percentual">
                                <edicao x="0" y="3" largura="1" componente="105"/>
                                <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                            </campo>
                            <campo n="10" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                                   descricao="Valor do PIS">
                                <edicao x="0" y="6" largura="1" componente="104"/>
                            </campo>
                            <campo n="11" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0"
                                   rotulo="Valor da COFINS" descricao="Valor da COFINS">
                                <edicao x="1" y="6" largura="1" componente="104"/>
                            </campo>

                            <registro id="C480" nivel="6" ocorrencia="2" obrigatorio="2" outros="[modelos=2D,02,60]"
                                      rotulo="Informações Complementares das Operações de Saída de Mercadorias Sujeitas à Substituição Tributária"
                                      descricao="Informações Complementares das Operações de Saída de Mercadorias Sujeitas à Substituição Tributária">

                                <edicao>
                                    <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_AMPLO" campoObservado="CFOP"/>
                                    <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_MOT_REST_COMPL_PARA_REGISTROS"
                                                             campoObservado="COD_MOT_REST_COMPL"/>
                                </edicao>
                                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                                <validador id="REGRA_OBRIGATORIO_1255_POR_COD_MOT_REST_COMPL" tipo="6"/>
                                <validador id="REGRA_UNID_DIF_0200" tipo="6"/>
                                <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                                <validador id="REGRA_CFOP_SAIDA_AMPLO" tipo="2" campoMsg="CFOP"/>

                                <modificador-obrigatoriedade
                                        id="REGRA_OBRIGATORIO_COD_MOT_REST_COMPL_15001_V1"/><!-- ESTA REGRA INCLUI A REGRA_OBRIGATORIO_COD_MOT_REST_COMPL   -->

                                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                       descricao="Texto fixo contendo “C430”">
                                    <edicao exibir="false"/>
                                    <valores-validos valores="C480"/>
                                </campo>
                                <campo n="2" id="COD_MOT_REST_COMPL" tipo="C" tamanho="[5]"
                                       outros="[obrigatorioSaida=true]"
                                       rotulo="Código do motivo da restituição ou complementação"
                                       descricao="Código do motivo da restituição ou complementação conforme Tabela 5.7">
                                    <valores-validos datasource="COD_MOT_REST_COMPL"/>
                                    <validador id="REGRA_VALIDA_COD_MOT_RESP_COMPL_0" tipo="1"/>
                                </campo>
                                <campo n="3" id="QUANT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioSaida=true]"
                                       rotulo="Quantidade do item" descricao="Quantidade do item">
                                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                                </campo>
                                <campo n="4" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]"
                                       rotulo="Unidade adotada"
                                       descricao="Unidade adotada para informar o campo QUANT_CONV."
                                       referenciaPesquisa="0190;UNID">
                                    <valores-validos datasource="UNID_0190_SV"/>
                                </campo>
                                <campo n="5" id="VL_UNIT_CONV" tipo="N" casasdecimais="6"
                                       outros="[obrigatorioSaida=true]" rotulo="Valor unitário da mercadoria"
                                       descricao="Valor unitário da mercadoria, considerando a unidade utilizada para informar o campo “QUANT_CONV”">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="6" id="VL_UNIT_ICMS_NA_OPERACAO_CONV" tipo="N" casasdecimais="6"
                                       obrigatorio="0" rotulo="Valor unitário para o ICMS na operação"
                                       descricao="Valor unitário da mercadoria, considerando a unidade utilizada para informar o campo “QUANT_CONV”">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="7" id="VL_UNIT_ICMS_OP_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                                       rotulo="Valor unit. de ICMS OP para desfazimento da ST"
                                       descricao="Valor unitário de ICMS Operações Próprias(OP) para desfazimento da Substituição Tributária(ST)">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="8" id="VL_UNIT_BC_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6"
                                       obrigatorio="0" rotulo="Valor unit. médio de ICMS OP"
                                       descricao="Valor unitário médio de ICMS Operações Próprias">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="9" id="VL_UNIT_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6"
                                       obrigatorio="0" rotulo="Valor unit. médio de ICMS ST, incluindo FCP ST"
                                       descricao="Valor unitário médio de ICMS ST, incluindo FCP ST">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="10" id="VL_UNIT_FCP_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6"
                                       obrigatorio="0"
                                       rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                                       descricao="Parcela correspondente a FCP ST que compõe o campo “Valor unit. médio de ICMS ST, incluindo FCP ST”">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="11" id="VL_UNIT_ICMS_ST_CONV_REST" tipo="N" casasdecimais="6" obrigatorio="0"
                                       rotulo="Valor unit. ICMS ST, incluindo FCP ST, a ser restituído/ressarcido"
                                       descricao="Valor unitário do ICMS ST, incluindo FCP ST, a ser restituído/ressarcido">
                                    <edicao componente="104"/>
                                    <validador id="REGRA_VALIDA_VL_UNIT_ICMS_ST_CONV_REST" tipo="1"/>
                                </campo>
                                <campo n="12" id="VL_UNIT_FCP_ST_CONV_REST" tipo="N" casasdecimais="6" obrigatorio="0"
                                       rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                                       descricao="Parcela correspondente a FCP ST que compõe o campo “Valor unit. ICMS ST, incluindo FCP ST, a ser restituído/ressarcido”">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="13" id="VL_UNIT_ICMS_ST_CONV_COMPL" tipo="N" casasdecimais="6" obrigatorio="0"
                                       rotulo="Valor unit. do complemento de ICMS ST, incluindo FCP ST"
                                       descricao="Valor unitário do complemento do ICMS, incluindo FCP ST, considerando a unidade utilizada para informar o campo “Quantidade do Item”">
                                    <edicao componente="104"/>
                                    <validador id="REGRA_VALIDA_VL_UNIT_ICMS_ST_CONV_COMPL" tipo="1"/>
                                </campo>
                                <campo n="14" id="VL_UNIT_FCP_ST_CONV_COMPL" tipo="N" casasdecimais="6" obrigatorio="0"
                                       rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                                       descricao="Valor unitário correspondente à parcela de FCP ST que compõe o campo acima, considerando unidade utilizada para informar o campo “Quantidade do Item”.">
                                    <edicao componente="104"/>
                                </campo>
                                <campo n="15" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]"
                                       rotulo="Código da Situação Tributária referente ao ICMS"
                                       descricao="Código da Situação Tributária referente ao ICMS">
                                    <valores-validos datasource="CST_ICMS"/>
                                </campo>
                                <campo n="16" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]"
                                       rotulo="Código Fiscal de Operação e Prestação"
                                       descricao="Código Fiscal de Operação e Prestação">
                                    <valores-validos datasource="CFOP"/>
                                </campo>
                            </registro>

                        </registro>

                    </registro>

                    <registro id="C490" nivel="4" ocorrencia="2" obrigatorio="0" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                              outros="[modelos=2D,02,60]" rotulo="Registro Analítico">

                        <persistencia indices="COD_OBS"/>

                        <edicao>
                            <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_SAIDA" campoObservado="CFOP"/>
                        </edicao>
                        <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                        <validador id="REGRA_NAO_INFORMAR_C490" tipo="6"/>
                        <validador id="REGRA_VL_BC_ICMS_C470" tipo="6"/>
                        <validador id="REGRA_ALIQ_C420_C490_2011_4004" tipo="6"/>
                        <validador id="REGRA_CST_ICMS_CAMPOS_ICMS" tipo="2" campoMsg="CST_ICMS"
                                   outrosCamposEnvolvidosValidacao="VL_BC_ICMS;ALIQ_ICMS;VL_ICMS"/>
                        <validador id="REGRA_CHAVE_EXISTE_NO_REGISTRO_ITEM_A8E1V1" tipo="6"/>
                        <validador id="REGRA_VALIDA_CALCULO_VL_ICMS" tipo="2" campoMsg="VL_ICMS"
                                   outrosCamposEnvolvidosValidacao="VL_BC_ICMS;ALIQ_ICMS"/>
                        <validador id="REGRA_CFOP_SAIDA" tipo="2" campoMsg="CFOP"/>

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C490”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C490"/>
                        </campo>
                        <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]"
                               rotulo="CST/ICMS"
                               descricao="Código da Situação Tributária, conforme Tabela Código da Situação Tributária - CST (ICMS)">
                            <valores-validos datasource="CST_ICMS"/>
                        </campo>
                        <campo n="3" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                               descricao="Código Fiscal de Operação e Prestação">
                            <valores-validos datasource="CFOP"/>
                        </campo>
                        <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                               rotulo="Carga tributária ICMS(%)" descricao="Carga tributária efetiva">
                            <edicao componente="105"/>
                            <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                        </campo>
                        <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Valor da operação"
                               descricao="Valor da operação correspondente à combinação de CST/ICMS, CFOP e carga tributária do ICMS, incluido acréscimo e excluído desconto">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Base de cálculo do ICMS"
                               descricao="Valor acumulado da base de cálculo do ICMS, referente à combinação de CST/ICMS, CFOP e carga tributária do ICMS">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Valor acumulado do ICMS"
                               descricao="Valor do ICMS, referente à combinação de CST/ICMS, CFOP e carga tributária do ICMS">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="8" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0"
                               rotulo="Código observação lançamento"
                               descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                               referenciaPesquisa="0460;COD_OBS">
                            <valores-validos datasource="COD_OBS_0460_SV"/>
                        </campo>
                    </registro>

                </registro>

            </registro>

            <!--  Registro C495 removido em função do projeto 162 598 - à partir do descritor 8001 -->
            <!-- <registro id="C495" nivel="2" ocorrencia="2" obrigatorio="2" chave="COD_ITEM,ALIQ_ICMS"  outros="[modelos=02;definemodelo=true]" rotulo="Resumo Mensal por Item" descricao="Resumo mensal por item do ECF por estabelecimento">

				<persistencia indices="COD_ITEM;UNID"/>

				<obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_C495"/>
				<campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro" descricao="Texto fixo contendo “C495”">
				  <edicao exibir="false"/>
				  <valores-validos valores="C495"/>
				</campo>
				<campo n="2" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0" rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
					<edicao x="0" y="1" largura="1" componente="105"/>
					<validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
				</campo>
				<campo n="3" id="COD_ITEM" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]" rotulo="Código do item" descricao="Código do item (campo 02 do Registro 0200)" referenciaPesquisa="0200;COD_ITEM">
					<valores-validos datasource="COD_ITEM_0200"/>
					<edicao x="0" y="0" largura="6"/>
				</campo>
				<campo n="4" id="QTD" tipo="N" casasdecimais="3" outros="[obrigatorioSaida=true]" rotulo="Quantidade acumulada do item" descricao="Quantidade acumulada do item">
					<validador id="REGRA_MAIOR_ZERO" tipo="1"/>
					<edicao x="0" y="3" largura="1" componente="106"/>
				</campo>
				<campo n="5" id="QTD_CANC" tipo="N" casasdecimais="3" obrigatorio="0" rotulo="Quantidade cancelada acumulada" descricao="Quantidade cancelada acumulada, no caso de cancelamento parcial de item">
					<edicao x="0" y="4" largura="1" componente="106"/>
				</campo>
				<campo n="6" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]" rotulo="Unidade do item" descricao="Unidade do item (Campo 02 do registro 0190)">
					<valores-validos datasource="UNID_0190"/>
					<edicao x="0" y="2" largura="6"/>
				</campo>
				<campo n="7" id="VL_ITEM" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]" rotulo="Valor acumulado do item" descricao="Valor acumulado do item">
					<validador id="REGRA_MAIOR_ZERO" tipo="1"/>
					<edicao x="1" y="3" largura="1" componente="104"/>
				</campo>
				<campo n="8" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor acumulado dos descontos" descricao="Valor acumulado dos descontos">
					<edicao x="0" y="6" largura="1" componente="104"/>
				</campo>
				<campo n="9" id="VL_CANC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor acumulado dos cancelamentos" descricao="Valor acumulado dos cancelamentos">
					<edicao x="1" y="4" largura="1" componente="104"/>
				</campo>
				<campo n="10" id="VL_ACMO" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor acumulado dos acréscimos" descricao="Valor acumulado dos acréscimos">
					<edicao x="1" y="6" largura="1" componente="104"/>
				</campo>
				<campo n="11" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor acumulado base cálculo ICMS" descricao="Valor acumulado da base de cálculo do ICMS">
					<edicao x="0" y="5" largura="1" componente="104"/>
				</campo>
				<campo n="12" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor acumulado do ICMS" descricao="Valor acumulado do ICMS">
					<edicao x="1" y="5" largura="1" componente="104"/>
				</campo>
				<campo n="13" id="VL_ISEN" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor das saídas isentas do ICMS" descricao="Valor das saídas isentas do ICMS">
					<edicao x="2" y="6" largura="1" componente="104"/>
				</campo>
				<campo n="14" id="VL_NT" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor das saídas NI/NT ICMS" descricao="Valor das saídas sob não-incidência ou não-tributadas pelo ICMS">
					<edicao x="0" y="7" largura="1" componente="104"/>
				</campo>
				<campo n="15" id="VL_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Saídas merc. adquiridas com ST ICMS" descricao="Valor das saídas de mercadorias adquiridas com substituição tributária do ICMS">
					<edicao x="1" y="7" largura="1" componente="104"/>
				</campo>
			</registro> -->

            <registro id="C500" nivel="2" ocorrencia="2" obrigatorio="2"
                      chave="IND_OPER,IND_EMIT,COD_PART,COD_MOD,SER,NUM_DOC,DT_DOC,CHV_DOCE"
                      outros="[modelos=06,28,29,66;defineoperacao=true;definemodelo=true]"
                      rotulo="Nota Fiscal/Conta de Energia Elétrica (06), Nota Fiscal/Conta de Fornecimento de Gás Canalizado (28), Nota Fiscal/Conta de Fornecimento de Água Canalizada (29) e Nota Fiscal/Conta de Energia Elétrica Eletrônica - NF3e (66)">

                <gravador-sessao id="SESSAO_C500"/>
                <persistencia indices="COD_PART;COD_INF"/>
                <!-- <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_16001_V1"/> -->

                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_C500"/>

                <validador id="REGRA_EXISTE_COD_INF_V2" tipo="6"/>

                <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_14001_V1" tipo="2" campoMsg="CHV_DOCE"
                           outrosCamposEnvolvidosValidacao="COD_MOD"/>
                <validador id="REGRA_PREENCHER_CHV_NFE_CTE_14001_V1" tipo="2" campoMsg="CHV_DOCE"
                           outrosCamposEnvolvidosValidacao="COD_MOD"/>
                <validador id="REGRA_VALIDA_CNPJ_NFE_14001_V1" tipo="2" campoMsg="CHV_DOCE"/>
                <validador id="REGRA_VALIDA_UF_NFE_CTE_V2" tipo="2" campoMsg="CHV_DOCE"/>
                <validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_DOCE"/>
                <validador id="REGRA_COMPARA_CNPJ_DOCE_PARTICIPANTE_C500" tipo="6"/>
                <validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE" tipo="2" campoMsg="CHV_DOCE"
                           outrosCamposEnvolvidosValidacao="NUM_DOC"/>
                <validador id="REGRA_COMPARA_CODIGO_MODELO" tipo="2" campoMsg="CHV_DOCE"/>
                <validador id="REGRA_MES_ANO_VALIDO_MES_DOC_REF" tipo="2" campoMsg="MES_DOC_REF"/>

                <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                <validador id="REGRA_VL_ICMS_ANALIT" tipo="6"/>
                <validador id="REGRA_VL_ICMS_ST_ANALIT" tipo="6"/>
                <validador id="REGRA_VL_BC_ICMS_ST_ANALIT" tipo="6"/>
                -->
                <validador id="REGRA_IND_EMIT" tipo="2" campoMsg="IND_EMIT" outrosCamposEnvolvidosValidacao="IND_OPER"/>
                <validador id="REGRA_COERENCIA_CFOP_C510" tipo="6"/>
                <validador id="REGRA_DT_E_S_MAIOR_IGUAL_DT_DOC" tipo="2" campoMsg="DT_E_S"
                           outrosCamposEnvolvidosValidacao="DT_DOC"/>
                <validador id="REGRA_DOCUMENTO_NORMAL_DT_ES" tipo="2" campoMsg="COD_SIT"
                           outrosCamposEnvolvidosValidacao="IND_OPER;DT_E_S;DT_DOC"/>
                <validador id="REGRA_DOCUMENTO_EXTEMPORANEO_DT_E_S" tipo="2" campoMsg="COD_SIT"
                           outrosCamposEnvolvidosValidacao="IND_OPER;DT_E_S;DT_DOC"/>
                <validador id="REGRA_OBRIGATORIO_ENERGIA_ELETRICA_TP_LIGACAO" tipo="2" campoMsg="TP_LIGACAO"
                           outrosCamposEnvolvidosValidacao="IND_OPER;COD_MOD"/>
                <validador id="REGRA_OBRIGATORIO_ENERGIA_ELETRICA_COD_GRUPO_TENSAO" tipo="2" campoMsg="COD_GRUPO_TENSAO"
                           outrosCamposEnvolvidosValidacao="IND_OPER;COD_MOD"/>
                <validador id="REGRA_CANCELA_DOC_TERCEIRO" tipo="2" campoMsg="COD_SIT"
                           outrosCamposEnvolvidosValidacao="IND_EMIT;IND_OPER"/>
                <validador id="REGRA_OBRIGATORIO_DADOS_DOC_REF" tipo="2" campoMsg="COD_MOD_DOC_REF"
                           outrosCamposEnvolvidosValidacao="HASH_DOC_REF;SER_DOC_REF;NUM_DOC_REF;MES_DOC_REF"/>
                <validador id="REGRA_EXCLUSIVO_DADOS_DOC_REF" tipo="2" campoMsg="HASH_DOC_REF"
                           outrosCamposEnvolvidosValidacao="SER_DOC_REF;NUM_DOC_REF;MES_DOC_REF"/>
                <validador id="REGRA_EXISTE_COD_MOD" tipo="3"/>

                <!-- <modificador-obrigatoriedade id="REGRA_CONTROLE_ENTRADA_SAIDA_COD_MUN_DEST_IND_DEST"/>
				<modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_INUTILIZADA_A12E1V2"/>
				<modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_CANCELADA_14001_V1"/>
				<modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_ESP_14001V1"/>
				<modificador-obrigatoriedade id="REGRA_NAO_INFORMAR_NF3E"/> -->
                <!--  Esse registro teve modificações em obrigatoriedade para o leiaute 16. Vide classe REGRA_REGISTRO_OBRIGATORIO_C500-->
                <!--  regra criada para controlar a aparição de campos e filhos do c500 - tudo foi colocado em uma regra para evitar sobreposição de modificadores, o que faz valer somente o último chamado -->
                <modificador-obrigatoriedade id="REGRA_CONTROLE_OBRIGATORIEDADE_CAMPOS_FILHOS_C500_V3"/>
                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_COMPLEMENTAR_17001_V1"/>

                <edicao>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO_V2"/>

                    <painel-registro>
                        <botao id="BOTAO_ABRIR_CADASTRO_ITENS" texto="Cadastrar Itens"
                               tooltip="Abre a tela de cadastro dos Itens da Nota Fiscal"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionAbrirCadastroDeItens"
                               x="0" y="0" largura="1" insets="10,10,10,10"/>
                    </painel-registro>

                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                        <botao id="BOTAO_GERAR_REGISTRO_ANALITICO" icone="/icones/analitico.gif"
                               tooltip="Gerar Registros Analíticos"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.gerarregistros.action.ActionGerarRegistrosAnaliticosDeUmRegistro"
                               x="0" y="40"/>
                    </painel-botoes>

                    <!-- o atributo "campoObservado" deveria ser COD_MOD, mas como ele não aparece em tela,
					está sendo utilizado um campo qualquer (COD_SIT no caso) e o conteúdo do COD_MOD é pegado dentro do observador -->
                    <observador-edicao-campo id="OBSERVADOR_HABILITACAO_CAMPOS_DOCE" campoObservado="IND_EMIT"
                                             camposObservadores="CHV_DOCE;FIN_DOCE;CHV_DOCE_REF"/>
                    <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_SIT_POR_COD_MOD_17001_V2"
                                             campoObservado="COD_SIT"/>
                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “C500”">
                    <edicao exibir="false"/>
                    <valores-validos valores="C500"/>
                </campo>
                <campo n="2" id="IND_OPER" tipo="C" tamanho="1" obrigatorio="1" rotulo="Tipo de operação"
                       descricao="Indicador do tipo de operação" outros="[obrigatorioimportacao=true]">
                    <valores-validos valores="0=Entrada;1=Saída"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="IND_EMIT" tipo="C" tamanho="1" obrigatorio="1" rotulo="Emitente"
                       descricao="Indicador do emitente do documento fiscal">
                    <valores-validos valores="0=Emissão própria;1=Terceiros"/>
                    <edicao x="0" y="1" largura="6"/>
                </campo>
                <campo n="4" id="COD_PART" tipo="C" tamanho="60" outros="[obrigatorioEntrada=true]"
                       rotulo="Código do participante"
                       descricao="Código do participante (campo 02 do Registro 0150): - do adquirente, no caso das saídas; - do fornecedor no caso de entradas"
                       referenciaPesquisa="0150;COD_PART">
                    <validador id="REGRA_OBRIGATORIO_COD_PART_C500_V2" tipo="1"
                               outrosCamposEnvolvidosValidacao="IND_OPER;COD_MOD;IND_DEST"/>
                    <validador id="REGRA_NAO_INFORMAR_COD_PART_C500" tipo="1"
                               outrosCamposEnvolvidosValidacao="IND_OPER;COD_MOD;IND_DEST"/>
                    <valores-validos datasource="COD_PART_0150_SV"/>
                    <edicao x="0" y="2" largura="6"/>
                </campo>
                <campo n="5" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="Código do modelo do documento"
                       descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS"
                       outros="[obrigatorioimportacao=true]">
                    <valores-validos
                            valores="06=Nota Fiscal/Conta de Energia Elétrica;28=Nota Fiscal/Conta de Fornecimento de Gás Canalizado;29=Nota Fiscal/Conta de Fornecimento de Água Canalizada;66=Nota Fiscal/Conta de Energia Elétrica Eletrônica - NF3e"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="6" id="COD_SIT" tipo="N" tamanho="[2]" obrigatorio="1"
                       rotulo="Código da situação do documento"
                       descricao="Código da situação do documento fiscal, conforme a Tabela Situação do Documento">
                    <valores-validos datasource="COD_SIT" outros="[codigos=00,01,02,03,06,07,08]"/>
                    <edicao x="0" y="0" largura="6" valorPadrao="00"/>
                </campo>
                <campo n="7" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série"
                       descricao="Série do documento fiscal">
                    <edicao x="1" y="3" largura="1"/>
                </campo>
                <campo n="8" id="SUB" tipo="N" tamanho="3" obrigatorio="0" rotulo="Subsérie"
                       descricao="Subsérie do documento fiscal">
                    <edicao x="2" y="3" largura="1" componente="107"/>
                </campo>
                <campo n="9" id="COD_CONS" tipo="N" tamanho="[2]" outros="[obrigatorioSaida=true]"
                       rotulo="Classe de consumo energia/gás/água"
                       descricao="Código de classe de consumo de energia elétrica, conforme a Tabela de Faixa de Consumo de Energia Elétrica, ou Código de Consumo de Fornecimento D´água conforme Tabela de Classes de Consumo de Água Canalizada ou Código da classe de consumo de gás canalizado conforme Tabela de Classes de Consumo de Gás Canalizado">
                    <valores-validos datasource="COD_CONS"/>
                    <edicao x="0" y="5" largura="6"/>
                </campo>
                <campo n="10" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número do documento"
                       descricao="Número do documento fiscal">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="3" largura="1" componente="107"/>
                </campo>
                <campo n="11" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                       descricao="Data da emissão do documento fiscal">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="0" y="4" largura="1" componente="103"/>
                </campo>
                <campo n="12" id="DT_E_S" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da entrada/saída"
                       descricao="Data da entrada ou da saída">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="1" y="4" largura="1" componente="103"/>
                </campo>
                <campo n="13" id="VL_DOC" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor total do documento fiscal" descricao="Valor total do documento fiscal">
                    <validador id="REGRA_VL_DOC_GRANDE" tipo="1"/>
                    <edicao x="0" y="8" largura="1" componente="104"/>
                </campo>
                <campo n="14" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor total do desconto"
                       descricao="Valor total do desconto">
                    <edicao x="0" y="9" largura="1" componente="104"/>
                </campo>
                <campo n="15" id="VL_FORN" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor total fornecido/consumido" descricao="Valor total fornecido/consumido">
                    <edicao x="1" y="8" largura="1" componente="104"/>
                </campo>
                <campo n="16" id="VL_SERV_NT" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor serviços não-tributados pelo ICMS"
                       descricao="Valor total dos serviços não-tributados pelo ICMS">
                    <edicao x="0" y="10" largura="1" componente="104"/>
                </campo>
                <campo n="17" id="VL_TERC" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor cobrado para terceiros" descricao="Valor total cobrado em nome de terceiros">
                    <edicao x="1" y="10" largura="1" componente="104"/>
                </campo>
                <campo n="18" id="VL_DA" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor de despesas acessórias"
                       descricao="Valor total de despesas acessórias indicadas no documento fiscal">
                    <edicao x="1" y="9" largura="1" componente="104"/>
                </campo>
                <campo n="19" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Base de cálculo do ICMS" descricao="Valor acumulado da base de cálculo do ICMS">
                    <edicao x="0" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="20" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                       descricao="Valor acumulado do ICMS">
                    <edicao x="1" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="21" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Base de cálculo do ICMS ST"
                       descricao="Valor acumulado da base de cálculo do ICMS substituição tributária">
                    <edicao x="0" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="22" id="VL_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS ST"
                       descricao="Valor acumulado do ICMS retido por substituição tributária">
                    <edicao x="1" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="23" id="COD_INF" tipo="C" tamanho="6" obrigatorio="0"
                       rotulo="Código inf complementar (doc fiscal)"
                       descricao="Código da informação complementar do documento fiscal (campo 02 do Registro 0450)"
                       referenciaPesquisa="0450;COD_INF">
                    <valores-validos datasource="COD_INF_0450_SV"/>
                    <edicao x="0" y="12" largura="6"/>
                </campo>
                <campo n="24" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                       descricao="Valor do PIS">
                    <edicao x="0" y="11" largura="1" componente="104"/>
                </campo>
                <campo n="25" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                       descricao="Valor da COFINS">
                    <edicao x="1" y="11" largura="1" componente="104"/>
                </campo>
                <campo n="26" id="TP_LIGACAO" tipo="N" tamanho="[1]" obrigatorio="0" rotulo="Código de tipo de Ligação"
                       descricao="Código de tipo de Ligação">
                    <valores-validos valores="1=Monofásico;2=Bifásico;3=Trifásico"/>
                    <edicao x="0" y="13" largura="6"/>
                </campo>
                <campo n="27" id="COD_GRUPO_TENSAO" tipo="N" tamanho="[2]" obrigatorio="0"
                       rotulo="Código de grupo de tensão" descricao="Código de grupo de tensão">
                    <valores-validos
                            valores="01=A1 - Alta Tensão (230kV ou mais);02=A2 - Alta Tensão (88 a 138kV);03=A3 - Alta Tensão (69kV);04=A3a - Alta Tensão (30kV a 44kV);05=A4 - Alta Tensão (2,3kV a 25kV);06=AS - Alta Tensão Subterrâneo 06;07=B1 - Residencial 07;08=B1 - Residencial Baixa Renda 08;09=B2 - Rural 09;10=B2 - Cooperativa de Eletrificação Rural;11=B2 - Serviço Público de Irrigação;12=B3 - Demais Classes;13=B4a - Iluminação Pública - rede de distribuição;14=B4b - Iluminação Pública - bulbo de lâmpada"/>
                    <edicao x="0" y="14" largura="6"/>
                </campo>
                <campo n="28" id="CHV_DOCE" tipo="N" tamanho="[44]" obrigatorio="0"
                       rotulo="Chave da Nota Fiscal de Energia Elétrica Eletrônica"
                       descricao="Chave da Nota Fiscal de Energia Elétrica Eletrônica">
                    <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="1" campoMsg="CHV_DOCE_REF"/>
                    <edicao x="0" y="15" componente="113"/>
                </campo>
                <campo n="29" id="FIN_DOCE" tipo="N" tamanho="[1]" obrigatorio="0"
                       rotulo="Finalidade da emissão do documento eletrônico"
                       descricao="Finalidade da emissão do documento eletrônico">
                    <validador id="REGRA_OBRIGATORIO_FIN_DOCE_V2" tipo="1" outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <validador id="REGRA_NAO_INFORMAR_FIN_DOCE" tipo="1" outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <valores-validos valores="1=Normal;2=Substituição;3=Normal com ajuste"/>
                    <edicao x="0" y="16" largura="6"/>
                </campo>
                <campo n="30" id="CHV_DOCE_REF" tipo="N" tamanho="[44]" obrigatorio="0"
                       rotulo="Chave da nota referenciada, substituída ou ajustada"
                       descricao="Chave da nota referenciada, substituída ou ajustada">
                    <validador id="REGRA_OBRIGATORIO_CHV_DOCE_REF_V3" tipo="1"
                               outrosCamposEnvolvidosValidacao="FIN_DOCE;COD_MOD_DOC_REF"/>
                    <validador id="REGRA_NAO_PREENCHER_CHV_DOCE_REF_V2" tipo="1"
                               outrosCamposEnvolvidosValidacao="FIN_DOCE;COD_MOD_DOC_REF"/>
                    <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="1" campoMsg="CHV_DOCE_REF"/>
                    <edicao x="0" y="17" componente="113"/>
                </campo>
                <campo n="31" id="IND_DEST" tipo="N" tamanho="[1]"
                       outros="[obrigatorioSaida=true;obrigatorioEntrada=false]"
                       rotulo="Indicador do Destinatário/Acessante" descricao="Indicador do Destinatário/Acessante">
                    <valores-validos
                            valores="1=Contribuinte do ICMS;2=Contribuinte Isento de Inscrição no Cadastro de Contribuintes do ICMS;9=Não contribuinte"/>
                    <edicao x="0" y="18" largura="4"/>
                </campo>
                <campo n="32" id="COD_MUN_DEST" tipo="N" tamanho="[7]"
                       outros="[obrigatorioSaida=true;obrigatorioEntrada=false]"
                       rotulo="Código do Município do destinatário conforme a tabela do IBGE"
                       descricao="Código do Município do destinatário conforme a tabela do IBGE">
                    <valores-validos datasource="COD_MUN"/>
                    <edicao x="0" y="19" largura="4"/>
                </campo>
                <campo n="33" id="COD_CTA" tipo="C" obrigatorio="0"
                       rotulo="Código da conta analítica contábil debitada/creditada"
                       descricao="Código da conta analítica contábil debitada/creditada">
                    <edicao x="0" y="20" largura="6"/>
                </campo>
                <campo n="34" id="COD_MOD_DOC_REF" tipo="" tamanho="[2]" obrigatorio="0"
                       rotulo="Código modelo documento referenciado"
                       descricao="Código do modelo do documento fiscal referenciado, conforme a Tabela 4.1.1">
                    <validador id="REGRA_NAO_INFORMAR_COD_MOD_REF" tipo="1" outrosCamposEnvolvidosValidacao="FIN_DOCE"/>
                    <validador id="REGRA_OBRIGATORIO_COD_MOD_REF" tipo="1" outrosCamposEnvolvidosValidacao="FIN_DOCE"/>
                    <valores-validos
                            valores="06=Nota Fiscal/Conta de Energia Elétrica;66=Nota Fiscal/Conta de Energia Elétrica Eletrônica - NF3e"/>
                    <edicao x="0" y="23" largura="4"/>
                </campo>
                <campo n="35" id="HASH_DOC_REF" tipo="C" tamanho="32" obrigatorio="0"
                       rotulo="Código de autenticação digital do registro (Convênio 115/2003)"
                       descricao=" Código de autenticação digital do registro (Convênio 115/2003)">
                    <validador id="REGRA_NAO_INFORMAR_CAMPO_DOC_REF" tipo="1"
                               outrosCamposEnvolvidosValidacao="COD_MOD_DOC_REF"/>
                    <edicao x="0" y="24" largura="12"/>
                </campo>
                <campo n="36" id="SER_DOC_REF" tipo="C" tamanho="4" obrigatorio="0"
                       rotulo="Série documento referenciado" descricao="Série do documento fiscal referenciado">
                    <validador id="REGRA_NAO_INFORMAR_CAMPO_DOC_REF" tipo="1"
                               outrosCamposEnvolvidosValidacao="COD_MOD_DOC_REF"/>
                    <edicao x="1" y="25" largura="1"/>
                </campo>
                <campo n="37" id="NUM_DOC_REF" tipo="N" tamanho="9" obrigatorio="0"
                       rotulo="Número do documento fiscal referenciado"
                       descricao="Número do documento fiscal referenciado">
                    <validador id="REGRA_NAO_INFORMAR_CAMPO_DOC_REF" tipo="1"
                               outrosCamposEnvolvidosValidacao="COD_MOD_DOC_REF"/>
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="25" largura="1" componente="107"/>
                </campo>
                <campo n="38" id="MES_DOC_REF" tipo="N" tamanho="[6]" obrigatorio="0"
                       rotulo="Mês/Ano da Emissão do documento referenciado"
                       descricao="Mês e ano da emissão do documento fiscal referenciado">
                    <validador id="REGRA_NAO_INFORMAR_CAMPO_DOC_REF" tipo="1"
                               outrosCamposEnvolvidosValidacao="COD_MOD_DOC_REF"/>
                    <edicao x="0" y="26" largura="1" componente="116"/>
                </campo>
                <campo n="39" id="ENER_INJET" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Energia injetada"
                       descricao="Energia injetada">
                    <edicao x="1" y="26" largura="1" componente="104"/>
                </campo>
                <campo n="40" id="OUTRAS_DED" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Outras Deduções"
                       descricao="Outras Deduções">
                    <edicao x="2" y="26" largura="1" componente="104"/>
                </campo>

                <registro id="C510" nivel="3" ocorrencia="2" obrigatorio="2" chave="NUM_ITEM"
                          outros="[modelos=06,28,29]" rotulo="Itens">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_C510_14001_V1"/>
                    <persistencia indices="COD_ITEM;COD_PART;UNID"/>

                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_C510_14001_V1"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                    <validador id="REGRA_CFOP_C500" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS_C510" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ST_COM_COD_SIT_C510" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_COD_CLASS_C510" tipo="6"/>

                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP" campoObservado="CFOP"/>

                        <painel-botoes exibirBotaoExcluir="false">
                            <botao id="BOTAO_EXCLUIR_COM_REGISTROS_ANALITICOS" icone="/icones/cadastro_menos.gif"
                                   tooltip="Excluir"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionExcluirRegistroeGerarAnaliticos"
                                   x="0" y="20"/>
                        </painel-botoes>

                        <painel-registro exibirBotaoSalvar="false">
                            <botao id="BOTAO_NOVOS_ITENS" texto="Novo" tooltip="Abre um novo item para inserção"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirNovoItem"
                                   x="0" y="0" largura="1"/>
                            <botao id="BOTAO_SALVAR_COM_REGISTROS_ANALITICOS" texto="Salvar" tooltip="Salvar Registro"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionSalvarRegistroeGerarAnaliticos"
                                   x="1" y="0" largura="1" insets="10,10,10,10"/>
                        </painel-registro>
                    </edicao>


                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C510”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C510"/>
                    </campo>
                    <campo n="2" id="NUM_ITEM" tipo="N" tamanho="3" outros="[obrigatorioSaida=true]"
                           rotulo="Número seqüencial" descricao="Número seqüencial do item no documento fiscal">
                        <edicao x="0" y="0" largura="1" componente="107"/>
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]"
                           rotulo="Código do item" descricao="Código do item (campo 02 do Registro 0200)"
                           referenciaPesquisa="0200;COD_ITEM">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="COD_CLASS" tipo="N" tamanho="[4]" obrigatorio="0" rotulo="Código de classificação"
                           descricao="Código de classificação do item de energia elétrica, conforme a Tabela Classificação de Itens de Energia Elétrica, Serviços de Comunicação e Telecomunicação">
                        <valores-validos datasource="COD_CLASS"/>
                        <edicao x="0" y="2" largura="6"/>
                    </campo>
                    <campo n="5" id="QTD" tipo="N" casasdecimais="3" obrigatorio="0" rotulo="Quantidade do item"
                           descricao="Quantidade do item">
                        <edicao x="0" y="6" largura="1" componente="106"/>
                    </campo>
                    <campo n="6" id="UNID" tipo="C" tamanho="6" obrigatorio="0" rotulo="Unidade do item"
                           descricao="Unidade do item (Campo 02 do registro 0190)">
                        <valores-validos datasource="UNID_0190_SV"/>
                        <edicao x="0" y="5" largura="6"/>
                    </campo>
                    <campo n="7" id="VL_ITEM" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do item" descricao="Valor do item">
                        <edicao x="1" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="8" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor total do desconto" descricao="Valor total do desconto">
                        <edicao x="2" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="9" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária, conforme Tabela Código da Situação Tributária - CST (ICMS)">
                        <valores-validos datasource="CST_ICMS"/>
                        <edicao x="0" y="3" largura="6"/>
                    </campo>
                    <campo n="10" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                        <edicao x="0" y="4" largura="6"/>
                    </campo>
                    <campo n="11" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo do ICMS" descricao="Valor da base de cálculo do ICMS">
                        <edicao x="1" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="12" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao x="0" y="7" largura="1" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="13" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                           descricao="Valor do ICMS creditado/debitado">
                        <edicao x="2" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="14" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo do ICMS ST"
                           descricao="Valor da base de cálculo referente à substituição tributária">
                        <edicao x="1" y="8" largura="1" componente="104"/>
                    </campo>
                    <campo n="15" id="ALIQ_ST" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS ST(%)"
                           descricao="Alíquota do ICMS da substituição tributária na unidade da federação de destino">
                        <edicao x="0" y="8" largura="1" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="16" id="VL_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS ST"
                           descricao="Valor do ICMS referente à substituição tributária">
                        <edicao x="2" y="8" largura="1" componente="104"/>
                    </campo>
                    <campo n="17" id="IND_REC" tipo="C" tamanho="1" outros="[obrigatorioSaida=true]"
                           rotulo="Indicador do tipo de receita" descricao="Indicador do tipo de receita">
                        <valores-validos valores="0=Receita própria;1=Receita de terceiros"/>
                        <edicao x="0" y="9" largura="6"/>
                    </campo>
                    <campo n="18" id="COD_PART" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do participante"
                           descricao="Código do participante receptor da receita, terceiro da operação (campo 02 do Registro 0150)"
                           referenciaPesquisa="0150;COD_PART">
                        <valores-validos datasource="COD_PART_0150_SV"/>
                        <edicao x="0" y="10" largura="6"/>
                    </campo>
                    <campo n="19" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                           descricao="Valor do PIS">
                        <edicao x="0" y="11" largura="1" componente="104"/>
                    </campo>
                    <campo n="20" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                           descricao="Valor da COFINS">
                        <edicao x="1" y="11" largura="1" componente="104"/>
                    </campo>
                    <campo n="21" id="COD_CTA" tipo="C" obrigatorio="0" rotulo="Código da conta analítica"
                           descricao="Código da conta analítica contábil debitada/creditada">
                        <edicao x="0" y="12" largura="6"/>
                    </campo>
                </registro>

                <registro id="C590" nivel="3" ocorrencia="2" obrigatorio="1" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=06,66,28,29]"
                          rotulo="Registro Analítico de NF Elétrica(06), NF3e(66), NF Fornecimento d'água canalizada(29) e NF de Consumo e Fornecimento de Gás(28)">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_C590"/>
                    <persistencia indices="COD_OBS"/>

                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP" campoObservado="CFOP"/>
                    </edicao>
                    <validador id="REGRA_CFOP_C500" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <validador id="REGRA_VL_ICMS_NO_REGISTRO_ITEM_14001_V1" tipo="6"/>
                    <validador id="REGRA_VL_ICMS_ST_NO_REGISTRO_ITEM_14001_V1" tipo="6"/>
                    <validador id="REGRA_VL_BC_ICMS_NO_REGISTRO_ITEM_14001_V1" tipo="6"/>
                    <validador id="REGRA_VL_BC_ICMS_ST_NO_REGISTRO_ITEM_14001_V1" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS_C590" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ST_COM_COD_SIT_C590" tipo="6"/>
                    <validador id="REGRA_CHAVE_EXISTE_NO_REGISTRO_ITEM_A8E1V1" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_RED_BC_COM_COD_SIT_C590" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C590”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C590"/>
                    </campo>
                    <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" obrigatorio="1" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária, conforme Tabela Código da Situação Tributária - CST (ICMS)">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="3" id="CFOP" tipo="N" tamanho="[4]" obrigatorio="1" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação do agrupamento de itens">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor da operação"
                           descricao="Valor da operação correspondente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base de cálculo do ICMS"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ICMS” referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do ICMS"
                           descricao="Parcela correspondente ao “Valor do ICMS” referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base de cálculo do ICMS ST"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ICMS” da substituição tributária referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="VL_ICMS_ST" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do ICMS ST"
                           descricao="Parcela correspondente ao valor creditado/debitado do ICMS da substituição tributária, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="10" id="VL_RED_BC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor não tributado base do ICMS"
                           descricao="Valor não tributado em função da redução da base de cálculo do ICMS, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="11" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0"
                           rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>
                    <registro id="C591" nivel="4" ocorrencia="1" obrigatorio="2" outros="[modelos=66]"
                              rotulo="Informações do Fundo de Combate à Pobreza - FCP na NF3e">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_C595_V2"/>
                        <validador id="REGRA_OBRIGATORIO_VALOR_C591" tipo="2" campoMsg="VL_FCP_OP"
                                   outrosCamposEnvolvidosValidacao="VL_FCP_ST"/>
                        <validador id="REGRA_PREENCHER_VL_FCP_OP_C591" tipo="6"/>
                        <validador id="REGRA_PREENCHER_VL_FCP_ST_C591" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1"
                               rotulo="Texto fixo contendo 'C591'">
                            <edicao exibir="false"/>
                            <valores-validos valores="C591"/>
                        </campo>
                        <campo n="2" id="VL_FCP_OP" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor FCP OP"
                               descricao="Valor do Fundo de Combate à Pobreza (FCP) vinculado à operação própria, na combinação de CST_ICMS, CFOP e alíquota do ICMS"/>
                        <campo n="3" id="VL_FCP_ST" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor FCP ST"
                               descricao="Valor do Fundo de Combate à Pobreza (FCP) vinculado à operação de substituição tributária, na combinação de CST_ICMS, CFOP e alíquota do ICMS"/>
                    </registro>
                </registro>
                <registro id="C595" nivel="3" ocorrencia="2" obrigatorio="2" chave="COD_OBS"
                          outros="[modelos=06,28,29,66]" rotulo="Observações do Lançamento Fiscal">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_C595_V2"/>
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Texto fixo contendo 'C595'">
                        <edicao exibir="false"/>
                        <valores-validos valores="C595"/>
                    </campo>
                    <campo n="2" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="1" rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>
                    <campo n="3" id="TXT_COMPL" tipo="C" obrigatorio="0"
                           rotulo="Descrição complementar do código de observação" descricao="Descrição complementar">
                    </campo>
                    <registro id="C597" nivel="4" ocorrencia="2" obrigatorio="2" chave="COD_AJ,COD_ITEM"
                              outros="[modelos=06,28,29,66]"
                              rotulo="Outras obrigações tributárias, ajustes e informações de valores provenientes de documento fiscal">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_C595_V2"/>
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <validador id="REGRA_VL_C597" tipo="2" campoMsg="VL_BC_ICMS"
                                   outrosCamposEnvolvidosValidacao="ALIQ_ICMS;VL_ICMS;VL_OUTROS"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1"
                               rotulo="Texto fixo contendo 'C597'">
                            <edicao exibir="false"/>
                            <valores-validos valores="C597"/>
                        </campo>
                        <campo n="2" id="COD_AJ" tipo="C" tamanho="[10]" obrigatorio="1"
                               rotulo="Código do Ajuste/beneficio/incentivo"
                               descricao="Código do ajuste/benefício/incentivo conforme tabela indicada no item 5.3 ">
                            <valores-validos datasource="COD_AJ"/>
                            <edicao x="0" y="0" largura="6"/>
                        </campo>
                        <campo n="3" id="DESCR_COMPL_AJ" tipo="C" obrigatorio="0"
                               rotulo="Descrição complementar do ajuste do documento fiscal"
                               descricao="Descrição complementar do ajuste do documento fiscal">
                            <edicao x="0" y="1" largura="6"/>
                        </campo>
                        <campo n="4" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do item"
                               descricao="Código do item (campo 02 do Registro 0200)"
                               referenciaPesquisa="0200;COD_ITEM">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                            <edicao x="0" y="2" largura="6"/>
                        </campo>
                        <campo n="5" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Base de cálculo do ICMS ou do ICMS ST"
                               descricao="Base de Calculo do ICMS ou ICMS ST">
                            <edicao x="0" y="3" largura="" componente="104"/>
                        </campo>
                        <campo n="6" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                               rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                            <edicao x="0" y="4" largura="" componente="105"/>
                            <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                        </campo>
                        <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Valor ICMS ou ICMS ST" descricao="Valor do ICMS ou ICMS ST">
                            <edicao x="0" y="5" largura="1" componente="104"/>
                        </campo>
                        <campo n="8" id="VL_OUTROS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Outros valores"
                               descricao="Outros valores">
                            <edicao x="0" y="6" largura="" componente="104"/>
                        </campo>
                    </registro>
                </registro>
            </registro>

            <registro id="C600" nivel="2" ocorrencia="2" obrigatorio="2" chave="COD_MOD,COD_MUN,SER,SUB,COD_CONS,DT_DOC"
                      outros="[modelos=06,29,28;definemodelo=true]" rotulo="Energia Elétrica/Água/Gás - NF consolidadas"
                      descricao="CONSOLIDAÇÃO DIÁRIA DE NOTAS FISCAIS/CONTAS DE ENERGIA ELÉTRICA, NOTA FISCAL/CONTA DE FORNECIMENTO D'ÁGUA E NOTA FISCAL/CONTA DE FORNECIMENTO DE GÁS (EMPRESAS NÃO OBRIGADAS AO CONVÊNIO ICMS 115/03)">
                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <validador id="REGRA_EXISTENCIA_C600_T3" tipo="6"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                <validador id="REGRA_COERENCIA_CFOP_C610" tipo="6"/>
                <validador id="REGRA_VL_BC_ICMS_ANALIT" tipo="6"/>
                <validador id="REGRA_VL_ICMS_ANALIT" tipo="6"/>
                <validador id="REGRA_VL_BC_ICMS_ST_ANALIT" tipo="6"/>
                <validador id="REGRA_VL_ICMS_ST_ANALIT" tipo="6"/>
                <validador id="REGRA_QTD_CANC_C601" tipo="6"/>
                <validador id="REGRA_QTD_CANC" tipo="2" campoMsg="QTD_CANC" outrosCamposEnvolvidosValidacao="QTD_CONS"/>

                <edicao>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>

                    <painel-registro>
                        <botao id="BOTAO_ABRIR_CADASTRO_ITENS" texto="Cadastrar Itens"
                               tooltip="Abre a tela de cadastro dos Itens da Nota Fiscal"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionAbrirCadastroDeItens"
                               x="0" y="0" largura="1" insets="10,10,10,10"/>
                    </painel-registro>

                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                        <botao id="BOTAO_GERAR_REGISTRO_ANALITICO" icone="/icones/analitico.gif"
                               tooltip="Gerar Registros Analíticos"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.gerarregistros.action.ActionGerarRegistrosAnaliticosDeUmRegistro"
                               x="0" y="40"/>
                    </painel-botoes>
                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “C600”">
                    <edicao exibir="false"/>
                    <valores-validos valores="C600"/>
                </campo>
                <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]"
                       outros="[obrigatorioSaida=true;obrigatorioimportacao=true]"
                       rotulo="Código do modelo do documento"
                       descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                    <valores-validos
                            valores="06=Nota Fiscal/Conta de Energia Elétrica;28=Nota Fiscal/Conta de Fornecimento de Gás Canalizado;29=Nota Fiscal/Conta de Fornecimento de Água Canalizada"/>
                    <edicao exibir="false"/>

                </campo>
                <campo n="3" id="COD_MUN" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                       rotulo="Código do município"
                       descricao="Código do município dos pontos de consumo, conforme a tabela IBGE">
                    <valores-validos datasource="COD_MUN"/>
                    <edicao x="0" y="0" largura="6"/>
                </campo>
                <campo n="4" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série do documento fiscal"
                       descricao="Série do documento fiscal">
                    <edicao x="0" y="2" largura="1"/>
                </campo>
                <campo n="5" id="SUB" tipo="N" tamanho="3" obrigatorio="0" rotulo="Subsérie do documento fiscal"
                       descricao="Subsérie do documento fiscal">
                    <edicao x="1" y="2" largura="1" componente="107"/>
                </campo>
                <campo n="6" id="COD_CONS" tipo="N" tamanho="[2]" outros="[obrigatorioSaida=true]"
                       rotulo="Código da classe de consumo"
                       descricao="Código de classe de consumo de energia elétrica, conforme a Tabela de Faixa de Consumo de Energia Elétrica, ou Código de Consumo de Fornecimento D´água conforme Tabela de Classes de Consumo de Água Canalizada ou Código da classe de consumo de gás canalizado conforme Tabela de Classes de Consumo de Gás Canalizado">
                    <valores-validos datasource="COD_CONS"/>
                    <edicao x="0" y="1" largura="6"/>
                </campo>
                <campo n="7" id="QTD_CONS" tipo="N" outros="[obrigatorioSaida=true]" rotulo="Quant. doc. consolidados"
                       descricao="Quantidade de documentos consolidados neste registro">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="3" largura="1" componente="107"/>
                </campo>
                <campo n="8" id="QTD_CANC" tipo="N" obrigatorio="0" rotulo="Quant. doc. cancelados"
                       descricao="Quantidade de documentos cancelados">
                    <edicao x="1" y="3" largura="1" componente="107"/>
                </campo>
                <campo n="9" id="DT_DOC" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                       rotulo="Data doc. consolidados" descricao="Data dos documentos consolidados">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="0" y="4" largura="1" componente="103"/>
                </campo>
                <campo n="10" id="VL_DOC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor total" descricao="Valor total dos documentos">
                    <validador id="REGRA_VL_DOC_GRANDE" tipo="1"/>
                    <edicao x="0" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="11" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor acumulado descontos"
                       descricao="Valor acumulado dos descontos">
                    <edicao x="1" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="12" id="CONS" tipo="N" obrigatorio="0" rotulo="Consumo total acumulado"
                       descricao="Consumo total acumulado, em kWh (Código 06)">
                    <edicao x="0" y="8" largura="1" componente="107"/>
                </campo>
                <campo n="13" id="VL_FORN" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor acumulado do fornecimento" descricao="Valor acumulado do fornecimento">
                    <edicao x="1" y="8" largura="1" componente="104"/>
                </campo>
                <campo n="14" id="VL_SERV_NT" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor acumulado serviços NT pelo ICMS"
                       descricao="Valor acumulado dos serviços não-tributados pelo ICMS">
                    <edicao x="0" y="9" largura="1" componente="104"/>
                </campo>
                <campo n="15" id="VL_TERC" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valores cobrados para terceiros" descricao="Valores cobrados em nome de terceiros">
                    <edicao x="1" y="9" largura="1" componente="104"/>
                </campo>
                <campo n="16" id="VL_DA" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor despesas acessórias"
                       descricao="Valor acumulado das despesas acessórias">
                    <edicao x="2" y="9" largura="1" componente="104"/>
                </campo>
                <campo n="17" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Base de cálculo do ICMS" descricao="Valor acumulado da base de cálculo do ICMS">
                    <edicao x="0" y="5" largura="1" componente="104"/>
                </campo>
                <campo n="18" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                       descricao="Valor acumulado do ICMS">
                    <edicao x="1" y="5" largura="1" componente="104"/>
                </campo>
                <campo n="19" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Base de cálculo do ICMS ST"
                       descricao="Valor acumulado da base de cálculo do ICMS substituição tributária">
                    <edicao x="0" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="20" id="VL_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS ST"
                       descricao="Valor acumulado do ICMS retido por substituição tributária">
                    <edicao x="1" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="21" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                       descricao="Valor acumulado do PIS">
                    <edicao x="0" y="10" largura="1" componente="104"/>
                </campo>
                <campo n="22" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                       descricao="Valor acumulado da COFINS">
                    <edicao x="1" y="10" largura="1" componente="104"/>
                </campo>

                <registro id="C601" nivel="3" ocorrencia="2" obrigatorio="0" chave="NUM_DOC_CANC"
                          outros="[modelos=06,29,28]" rotulo="Documentos Cancelado">
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C601”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C601"/>
                    </campo>
                    <campo n="2" id="NUM_DOC_CANC" tipo="N" tamanho="9" outros="[obrigatorioSaida=true]"
                           rotulo="Número do doc cancelado" descricao="Número do documento fiscal cancelado">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao componente="107"/>
                    </campo>
                </registro>

                <registro id="C610" nivel="3" ocorrencia="2" obrigatorio="1" chave="COD_CLASS,COD_ITEM,ALIQ_ICMS"
                          outros="[modelos=06,29,28]" rotulo="Itens">

                    <persistencia indices="COD_ITEM;UNID"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                    <validador id="REGRA_CFOP_SAIDA_AMPLO" tipo="2" campoMsg="CFOP"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS" tipo="2" campoMsg="CST_ICMS"
                               outrosCamposEnvolvidosValidacao="VL_BC_ICMS;ALIQ_ICMS;VL_ICMS"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ST_SEM_COD_SIT" tipo="2" campoMsg="CST_ICMS"
                               outrosCamposEnvolvidosValidacao="VL_BC_ICMS_ST;VL_ICMS_ST"/>
                    <validador id="REGRA_OBRIGATORIO_COD_CLASS_C610" tipo="6"/>

                    <edicao>

                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_AMPLO" campoObservado="CFOP"/>

                        <painel-botoes exibirBotaoExcluir="false">
                            <botao id="BOTAO_EXCLUIR_COM_REGISTROS_ANALITICOS" icone="/icones/cadastro_menos.gif"
                                   tooltip="Excluir"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionExcluirRegistroeGerarAnaliticos"
                                   x="0" y="20"/>
                        </painel-botoes>

                        <painel-registro exibirBotaoSalvar="false">
                            <botao id="BOTAO_NOVOS_ITENS" texto="Novo" tooltip="Abre um novo item para inserção"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirNovoItem"
                                   x="0" y="0" largura="1"/>
                            <botao id="BOTAO_SALVAR_COM_REGISTROS_ANALITICOS" texto="Salvar" tooltip="Salvar Registro"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionSalvarRegistroeGerarAnaliticos"
                                   x="1" y="0" largura="1" insets="10,10,10,10"/>
                        </painel-registro>
                    </edicao>


                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C610”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C610"/>
                    </campo>
                    <campo n="2" id="COD_CLASS" tipo="C" tamanho="[4]" obrigatorio="0" rotulo="Código de classificação"
                           descricao="Código de classificação do item de energia elétrica, conforme Tabela Classificação de Itens de Energia Elétrica, Serviços de Comunicação e Telecomunicação">
                        <valores-validos datasource="COD_CLASS"/>
                        <edicao x="0" y="0" largura="6"/>
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]"
                           rotulo="Código do item" descricao="Código do item (campo 02 do Registro 0200)"
                           referenciaPesquisa="0200;COD_ITEM">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="QTD" tipo="N" casasdecimais="3" outros="[obrigatorioSaida=true]"
                           rotulo="Quantidade acumulada" descricao="Quantidade acumulada do item">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao x="0" y="6" largura="1" componente="106"/>
                    </campo>
                    <campo n="5" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]"
                           rotulo="Unidade do item" descricao="Unidade do item (Campo 02 do registro 0190)">
                        <valores-validos datasource="UNID_0190_SV"/>
                        <edicao x="0" y="5" largura="6"/>
                    </campo>
                    <campo n="6" id="VL_ITEM" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor acumulado do item" descricao="Valor acumulado do item">
                        <edicao x="1" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="7" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor acumulado dos descontos" descricao="Valor acumulado dos descontos">
                        <edicao x="2" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="8" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária">
                        <valores-validos datasource="CST_ICMS"/>
                        <edicao x="0" y="2" largura="6"/>
                    </campo>
                    <campo n="9" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                        <edicao x="0" y="3" largura="6"/>
                    </campo>
                    <campo n="10" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao x="0" y="4" largura="1" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="11" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo do ICMS" descricao="Valor acumulado da base de cálculo do ICMS">
                        <edicao x="0" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="12" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                           descricao="Valor acumulado do ICMS debitado">
                        <edicao x="1" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="13" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo do ICMS ST"
                           descricao="Valor da base de cálculo do ICMS substituição tributária">
                        <edicao x="0" y="8" largura="1" componente="104"/>
                    </campo>
                    <campo n="14" id="VL_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS ST"
                           descricao="Valor do ICMS retido por substituição tributária">
                        <edicao x="1" y="8" largura="1" componente="104"/>
                    </campo>
                    <campo n="15" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                           descricao="Valor do PIS">
                        <edicao x="0" y="9" largura="1" componente="104"/>
                    </campo>
                    <campo n="16" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                           descricao="Valor da COFINS">
                        <edicao x="1" y="9" largura="1" componente="104"/>
                    </campo>
                    <campo n="17" id="COD_CTA" tipo="C" obrigatorio="0" rotulo="Código da conta analítica"
                           descricao="Código da conta analítica contábil debitada/creditada">
                        <edicao x="0" y="10" largura="6"/>
                    </campo>
                </registro>

                <registro id="C690" nivel="3" ocorrencia="2" obrigatorio="1" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=06,29,28]" rotulo="Registro Analítico">

                    <persistencia indices="COD_OBS"/>

                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP" campoObservado="CFOP"/>
                    </edicao>
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <validador id="REGRA_VL_ICMS_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_VL_ICMS_ST_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_VL_BC_ICMS_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_VL_BC_ICMS_ST_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_CHAVE_EXISTE_NO_REGISTRO_ITEM_A8E1V1" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_RED_BC" tipo="2" campoMsg="VL_RED_BC"
                               outrosCamposEnvolvidosValidacao="CST_ICMS"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C690”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C690"/>
                    </campo>
                    <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária, conforme tabela Código da Situação Tributária - CST (ICMS)">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="3" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor da operação"
                           descricao="Valor da operação correspondente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base de cálculo do ICMS"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do ICMS"
                           descricao="Parcela correspondente ao “Valor do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_RED_BC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor não tributado base ICMS"
                           descricao="Valor não tributado em função da redução da base de cálculo do ICMS, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base de cálculo do ICMS ST"
                           descricao="Valor da base de cálculo do ICMS substituição tributária">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="10" id="VL_ICMS_ST" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do ICMS ST" descricao="Valor do ICMS retido por substituição tributária">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="11" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0"
                           rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>
                </registro>

            </registro>

            <registro id="C700" nivel="2" ocorrencia="2" obrigatorio="2" chave="COD_MOD,SER,NRO_ORD_INI,NRO_ORD_FIN"
                      outros="[modelos=06,28,66;definemodelo=true;naousachavenaduplicidade=true]"
                      rotulo="Energia Elétrica/Gás - NF em Via Única (Convênio ICMS 115/03)"
                      descricao="CONSOL. DOCS - NF/CONTAS ENERGIA ELÉTRICA EMITIDAS EM VIA ÚNICA (EMP. OBRIGADA - CONV 115/03) e NF/CONTA DE FORNECIMENTO DE GÁS CANALIZADO">

                <persistencia indices="SER;NRO_ORD_INI;NRO_ORD_FIN"/>
                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <validador id="REGRA_EXISTENCIA_C700_A7E1V1" tipo="6"/>
                <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_C700_V2" tipo="6"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_DT_DOC_INI_DT_DOC_FIN" tipo="2" campoMsg="DT_DOC_INI"
                           outrosCamposEnvolvidosValidacao="DT_DOC_FIN"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC_FIN" tipo="2" campoMsg="DT_DOC_FIN"/>

                <edicao>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>

                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                    </painel-botoes>
                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “C700”">
                    <edicao exibir="false"/>
                    <valores-validos valores="C700"/>
                </campo>
                <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]"
                       outros="[obrigatorioSaida=true;obrigatorioimportacao=true]"
                       rotulo="Código do modelo do documento"
                       descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                    <valores-validos
                            valores="06=Nota Fiscal/Conta de Energia Elétrica;28=Nota Fiscal/Conta de Fornecimento de Gás Canalizado;66=Nota Fiscal/Conta de Energia Elétrica Eletrônica - NF3e"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série do documento fiscal"
                       descricao="Série do documento fiscal">
                    <edicao x="0" y="0" largura="1"/>
                </campo>
                <campo n="4" id="NRO_ORD_INI" tipo="N" tamanho="9" outros="[obrigatorioSaida=true]"
                       rotulo="Número de ordem inicial" descricao="Número de ordem inicial">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="1" largura="1" componente="107"/>
                </campo>
                <campo n="5" id="NRO_ORD_FIN" tipo="N" tamanho="9" outros="[obrigatorioSaida=true]"
                       rotulo="Número de ordem final" descricao="Número de ordem final">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="1" y="1" largura="1" componente="107"/>
                </campo>
                <campo n="6" id="DT_DOC_INI" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                       rotulo="Data de emissão inicial"
                       descricao="Data de emissão inicial dos documentos/Data inicial de vencimento da fatura">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="0" y="2" largura="1" componente="103"/>
                </campo>
                <campo n="7" id="DT_DOC_FIN" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                       rotulo="Data de emissão final"
                       descricao="Data de emissão final dos documentos/Data final de vencimento da fatura">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="1" y="2" largura="1" componente="103"/>
                </campo>
                <campo n="8" id="NOM_MEST" tipo="C" tamanho="33" obrigatorio="0" rotulo="Nome do arquivo mestre"
                       descricao="Nome do arquivo Mestre de Documento Fiscal">
                    <edicao x="0" y="3" largura="4"/>
                </campo>
                <campo n="9" id="CHV_COD_DIG" tipo="C" tamanho="32" obrigatorio="0" rotulo="Chave de codificação"
                       descricao="Chave de codificação digital do arquivo mestre de documento fiscal">
                    <edicao x="0" y="4" largura="4"/>
                </campo>

                <registro id="C790" nivel="3" ocorrencia="2" obrigatorio="1" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=06,28,66]" rotulo="Registro Analítico">

                    <persistencia indices="COD_OBS"/>

                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_AMPLO" campoObservado="CFOP"/>
                    </edicao>
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS" tipo="2" campoMsg="CST_ICMS"
                               outrosCamposEnvolvidosValidacao="VL_BC_ICMS;ALIQ_ICMS;VL_ICMS"/>
                    <validador id="REGRA_CST_ICMS_RED_BC" tipo="2" campoMsg="VL_RED_BC"
                               outrosCamposEnvolvidosValidacao="CST_ICMS"/>
                    <validador id="REGRA_CFOP_SAIDA_AMPLO" tipo="2" campoMsg="CFOP"/>


                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C790”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C790"/>
                    </campo>
                    <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária, conforme Tabela Código da Situação Tributária - CST (ICMS)">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="3" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor da operação"
                           descricao="Valor da operação correspondente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base de cálculo do ICMS"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do ICMS"
                           descricao="Parcela correspondente ao “Valor do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base de cálculo do ICMS ST"
                           descricao="Valor da base de cálculo do ICMS substituição tributária">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="VL_ICMS_ST" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do ICMS ST" descricao="Valor do ICMS retido por substituição tributária">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="10" id="VL_RED_BC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor não tributado base ICMS"
                           descricao="Valor não tributado em função da redução da base de cálculo do ICMS, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="11" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0"
                           rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>

                    <registro id="C791" nivel="4" ocorrencia="2" obrigatorio="0" chave="UF" outros="[modelos=06,28,66]"
                              rotulo="ST por UF" descricao="Informação de substituição tributária por UF">
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C791”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C791"/>
                        </campo>
                        <campo n="2" id="UF" tipo="C" tamanho="[2]" outros="[obrigatorioSaida=true]" rotulo="UF"
                               descricao="Sigla da unidade da federação a que se refere a retenção ST">
                            <valores-validos datasource="UF_SIGLA_NOME"/>
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="3" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Base de cálculo do ICMS ST"
                               descricao="Valor da base de cálculo do ICMS substituição tributária">
                            <edicao x="0" y="1" largura="1" componente="104"/>
                        </campo>
                        <campo n="4" id="VL_ICMS_ST" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Valor do ICMS ST" descricao="Valor do ICMS retido por substituição tributária">
                            <edicao x="1" y="1" largura="1" componente="104"/>
                        </campo>
                    </registro>

                </registro>
            </registro>
            <registro id="C800" nivel="2" ocorrencia="2" obrigatorio="2" chave="COD_SIT,NR_SAT,NUM_CFE"
                      outros="[modelos=59;definemodelo=true]" rotulo="CF-e Emitido por SAT"
                      descricao="Registro Cupom Eletrônico">

                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>

                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_INUTILIZADA_A12E1V2"/>
                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_CANCELADA_14001_V1"/>

                <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_CFE"/>
                <!-- Regra excluída - mantis http://10.200.110.63/mantis10/view.php?id=22726
				<validador id="REGRA_COMPARA_NUM_DOC_CFE" tipo="2" campoMsg="CHV_CFE" outrosCamposEnvolvidosValidacao="NUM_CFE"/> -->
                <validador id="REGRA_COMPARA_CNPJ_CFE_17001_V1" tipo="2" campoMsg="CHV_CFE"/>
                <validador id="REGRA_COMPARA_MES_ANO_DFE" tipo="2" camposMsg="DT_DOC"/>
                <validador id="REGRA_COMPARA_UF_CFE" tipo="2" campoMsg="CHV_CFE"/>
                <validador id="REGRA_SOMA_VL_OPR_C850" tipo="6" campoMsg="CHV_CFE"/>
                <validador id="REGRA_SOMA_VL_ICMS_C850" tipo="6" campoMsg="CHV_CFE"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                <!-- VIDE COMENTÁRIO C350<validador id="REGRA_VALIDA_CNPJ_CPF" tipo="2" campoMsg="CNPJ_CPF"/> -->
                <validador id="REGRA_DOCUMENTO_NORMAL_DT_DOC_A9E2V3" tipo="6" campoMsg="COD_SIT"
                           outrosCamposEnvolvidosValidacao="DT_DOC"/>
                <validador id="REGRA_COMPARA_SERIE_SAT_CFE" tipo="2" camposMsg="CHV_CFE"/>
                <validador id="REGRA_COMPARA_NUMERO_CFE" tipo="2" camposMsg="CHV_CFE"/>
                <validador id="REGRA_COMPARA_COD_MOD_DFE" tipo="2" camposMsg="CHV_CFE"/>
                <validador id="REGRA_EXTEMPORANEO_CFE" tipo="2" campoMsg="DT_DOC"/>

                <edicao>
                    <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_SIT_POR_COD_MOD_17001_V2"
                                             campoObservado="COD_SIT"/>
                    <observador-edicao-campo id="OBSERVADOR_HABILITACAO_CAMPOS_C800" campoObservado="CNPJ_CPF"/>
                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “C800”">
                    <edicao exibir="false"/>
                    <valores-validos valores="C800"/>
                </campo>
                <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]" outros="[obrigatorioSaida=true]"
                       rotulo="Código do modelo de documento fiscal" descricao="Código do modelo de Documento Fiscal">
                    <valores-validos valores="59=Cupom Fiscal Eletrônico - CF-e"/>
                    <edicao x="0" y="0" largura="2"/>
                </campo>
                <campo n="3" id="COD_SIT" tipo="N" tamanho="[2]" outros="[obrigatorioSaida=true]"
                       rotulo="Código da Situação do documento fiscal"
                       descricao="Código da Situação do Documento Fiscal">
                    <valores-validos datasource="COD_SIT" outros="[codigos=00,01,02,03]"/>
                    <edicao x="0" y="1" largura="6"/>
                </campo>
                <campo n="4" id="NUM_CFE" tipo="N" tamanho="6" outros="[obrigatorioSaida=true]"
                       rotulo="Número do cupom fiscal Eletrônico" descricao="Número do Cupom Fiscal Eletrônico">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="2" largura="6"/>
                </campo>
                <campo n="5" id="DT_DOC" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                       rotulo="Data da Emissão do cupom fiscal eletrônico"
                       descricao="Data da emissão do cupom fiscal eletrônico">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <edicao x="0" y="3" largura="6" componente="103"/>
                </campo>
                <campo n="6" id="VL_CFE" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor Total do Cupom Fiscal Eletrônico"
                       descricao="Valor Total do Cupom Fiscal Eletrônico">
                    <edicao x="0" y="4" largura="6" componente="104"/>
                </campo>
                <campo n="7" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor Total do PIS"
                       descricao="Valor Total do Pis">
                    <edicao x="0" y="5" largura="6" componente="104"/>
                </campo>
                <campo n="8" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor Total da COFINS"
                       descricao="Valor Total da COFINS">
                    <edicao x="0" y="6" largura="6" componente="104"/>
                </campo>
                <campo n="9" id="CNPJ_CPF" tipo="C" tamanho="14" obrigatorio="0" rotulo="CNPJ ou CPF do destinatário"
                       descricao="CNPJ ou CPF do destinatário">
                    <!-- validador id="REGRA_VALIDA_CPF_CNPJ_CAMPO"  tipo="1"/ -->
                    <validador id="REGRA_NAO_INFORMAR_CNPJ_CPF" tipo="1"/>
                    <edicao x="0" y="7" largura="6" componente="115"/>
                </campo>
                <campo n="10" id="NR_SAT" tipo="N" tamanho="9" outros="[obrigatorioSaida=true]"
                       rotulo="Número de Série do Equipamento SAT" descricao="Número de Série do Equipamento SAT">
                    <edicao x="0" y="8" largura="6"/>
                </campo>
                <campo n="11" id="CHV_CFE" tipo="N" tamanho="[44]" outros="[obrigatorioSaida=true]"
                       rotulo="Chave do Cupom Fiscal Eletrônico" descricao="Chave do Cupom Fiscal Eletrônico">
                    <edicao x="0" y="9" largura="6" componente="117"/>
                </campo>
                <campo n="12" id="VL_DESC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor total do desconto sobre item" descricao="Valor total do desconto sobre item">
                    <edicao x="0" y="10" largura="6" componente="104"/>
                </campo>
                <campo n="13" id="VL_MERC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor total das mercadorias e serviços"
                       descricao="Valor total das mercadorias e serviços">
                    <edicao x="0" y="11" largura="6" componente="104"/>
                </campo>
                <campo n="14" id="VL_OUT_DA" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor de outras desp. acessórias (acréscimo)"
                       descricao="Valor de outras desp. acessórias (acréscimo)">
                    <edicao x="0" y="12" largura="6" componente="104"/>
                </campo>
                <campo n="15" id="VL_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor do ICMS" descricao="Valor do ICMS">
                    <edicao x="0" y="13" largura="6" componente="104"/>
                </campo>
                <campo n="16" id="VL_PIS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor total do PIS retido por subs. trib."
                       descricao="Valor total do PIS retido por subs. trib.">
                    <edicao x="0" y="14" largura="6" componente="104"/>
                </campo>
                <campo n="17" id="VL_COFINS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor total da COFINS retido por subs. trib."
                       descricao="Valor total da COFINS retido por subs. trib.">
                    <edicao x="0" y="15" largura="6" componente="104"/>
                </campo>

                <registro id="C810" nivel="3" ocorrencia="2" obrigatorio="2" outros="[modelos=59]"
                          rotulo="Itens do Documento do Cupom Fiscal Eletrônico – SAT (CF-E-SAT)"
                          descricao="Itens do Documento do Cupom Fiscal Eletrônico – SAT (CF-E-SAT)">

                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_REFERENCIADO_UNID_15001V1" tipo="6"/>
                    <validador id="REGRA_UNID_DIF_0200" tipo="6"/>
                    <validador id="REGRA_CFOP_SAIDA" tipo="2" campoMsg="CFOP"/>
                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_SAIDA" campoObservado="CFOP"/>
                    </edicao>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C810”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C810"/>
                    </campo>
                    <campo n="2" id="NUM_ITEM" tipo="N" tamanho="3" outros="[obrigatorioSaida=true]"
                           rotulo="Número seqüencial do documento fiscal"
                           descricao="Número seqüencial do documento fiscal">
                        <edicao componente="107"/>
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]"
                           rotulo="Código do item (campo 02 do Registro 0200)"
                           descricao="Código do item (campo 02 do Registro 0200)">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                    </campo>
                    <campo n="4" id="QTD" tipo="N" casasdecimais="5" outros="[obrigatorioSaida=true]"
                           rotulo="Quantidade do item" descricao="Quantidade do item">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    </campo>
                    <campo n="5" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]"
                           rotulo="Unidade do item (Campo 02 do registro 0190)"
                           descricao="Unidade do item (Campo 02 do registro 0190)" referenciaPesquisa="0190;UNID">
                        <valores-validos datasource="UNID_0190_SV"/>
                    </campo>
                    <campo n="6" id="VL_ITEM" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor total do item (mercadorias ou serviços)"
                           descricao="Valor total do item (mercadorias ou serviços)">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="CST_ICMS" tipo="C" tamanho="[3]" outros="[obrigatorioSaida=true]"
                           rotulo="Código da Situação Tributária - ICMS"
                           descricao="Código da Situação Tributária referente ao ICMS">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="8" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]"
                           rotulo="Código Fiscal de Operação e Prestação"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <registro id="C815" nivel="4" ocorrencia="1" obrigatorio="2" outros="[modelos=59]"
                              rotulo="Informações Complementares das Operações de Saída de Mercadorias Sujeitas à Substituição Tributária (CF-E-SAT)"
                              descricao="Informações Complementares das Operações de Saída de Mercadorias Sujeitas à Substituição Tributária (CF-E-SAT)">

                        <edicao>
                            <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_MOT_REST_COMPL_PARA_REGISTROS"
                                                     campoObservado="COD_MOT_REST_COMPL"/>
                        </edicao>
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <validador id="REGRA_OBRIGATORIO_1255_POR_COD_MOT_REST_COMPL" tipo="6"/>
                        <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                        <validador id="REGRA_REFERENCIADO_UNID_15001V1" tipo="6"/>
                        <validador id="REGRA_UNID_DIF_0200" tipo="6"/>
                        <modificador-obrigatoriedade
                                id="REGRA_OBRIGATORIO_COD_MOT_REST_COMPL_15001_V1"/><!-- ESTA REGRA INCLUI A REGRA_OBRIGATORIO_COD_MOT_REST_COMPL   -->


                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C815”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C815"/>
                        </campo>
                        <campo n="2" id="COD_MOT_REST_COMPL" tipo="C" tamanho="[5]" outros="[obrigatorioSaida=true]"
                               rotulo="Código do motivo da restituição ou complementação"
                               descricao="Código do motivo da restituição ou complementação conforme Tabela 5.7">
                            <valores-validos datasource="COD_MOT_REST_COMPL"/>
                            <validador id="REGRA_VALIDA_COD_MOT_RESP_COMPL_0" tipo="1"/>
                        </campo>
                        <campo n="3" id="QUANT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioSaida=true]"
                               rotulo="Quantidade do item" descricao="Quantidade do item">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <campo n="4" id="UNID" tipo="C" tamanho="6" rotulo="Unidade adotada"
                               descricao="Unidade adotada para informar o campo QUANT_CONV."
                               referenciaPesquisa="0190;UNID">
                            <valores-validos datasource="UNID_0190_SV"/>
                        </campo>
                        <campo n="5" id="VL_UNIT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioSaida=true]"
                               rotulo="Valor unitário da mercadoria"
                               descricao="Valor unitário da mercadoria, considerando a unidade utilizada para informar o campo “QUANT_CONV”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="6" id="VL_UNIT_ICMS_NA_OPERACAO_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unitário para o ICMS na operação"
                               descricao="Valor unitário da mercadoria, considerando a unidade utilizada para informar o campo “QUANT_CONV”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="7" id="VL_UNIT_ICMS_OP_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. de ICMS OP para desfazimento da ST"
                               descricao="Valor unitário de ICMS Operações Próprias(OP) para desfazimento da Substituição Tributária(ST)">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="8" id="VL_UNIT_BC_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. médio de ICMS OP"
                               descricao="Valor unitário médio de ICMS Operações Próprias">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="9" id="VL_UNIT_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. médio de ICMS ST, incluindo FCP ST"
                               descricao="Valor unitário médio de ICMS ST, incluindo FCP ST">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="10" id="VL_UNIT_FCP_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                               descricao="Parcela correspondente a FCP ST que compõe o campo “Valor unit. médio de ICMS ST, incluindo FCP ST”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="11" id="VL_UNIT_ICMS_ST_CONV_REST" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. ICMS ST, incluindo FCP ST, a ser restituído/ressarcido"
                               descricao="Valor unitário do ICMS ST, incluindo FCP ST, a ser restituído/ressarcido">
                            <edicao componente="104"/>
                            <validador id="REGRA_VALIDA_VL_UNIT_ICMS_ST_CONV_REST" tipo="1"/>
                        </campo>
                        <campo n="12" id="VL_UNIT_FCP_ST_CONV_REST" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                               descricao="Parcela correspondente a FCP ST que compõe o campo “Valor unit. ICMS ST, incluindo FCP ST, a ser restituído/ressarcido”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="13" id="VL_UNIT_ICMS_ST_CONV_COMPL" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. do complemento de ICMS ST, incluindo FCP ST"
                               descricao="Valor unitário do complemento do ICMS, incluindo FCP ST, considerando a unidade utilizada para informar o campo “Quantidade do Item”">
                            <edicao componente="104"/>
                            <validador id="REGRA_VALIDA_VL_UNIT_ICMS_ST_CONV_COMPL" tipo="1"/>
                        </campo>
                        <campo n="14" id="VL_UNIT_FCP_ST_CONV_COMPL" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                               descricao="Valor unitário correspondente à parcela de FCP ST que compõe o campo acima, considerando unidade utilizada para informar o campo “Quantidade do Item”.">
                            <edicao componente="104"/>
                        </campo>
                    </registro>

                </registro>

                <registro id="C850" nivel="3" ocorrencia="2" obrigatorio="1" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=59]" rotulo="Registro Analitico do CF-e"
                          descricao="Registro Analitico do CF-e">
                    <persistencia indices="COD_OBS"/>
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS" tipo="2" campoMsg="CST_ICMS"
                               outrosCamposEnvolvidosValidacao="VL_BC_ICMS;ALIQ_ICMS;VL_ICMS"/>
                    <validador id="REGRA_CFOP_SAIDA" tipo="2" campoMsg="CFOP"/>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C850”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C850"/>
                    </campo>
                    <campo n="2" id="CST_ICMS" tipo="C" tamanho="[3]" outros="[obrigatorioSaida=true]"
                           rotulo="Código da Situação Tributária" descricao="Código da Situação Tributária">
                        <valores-validos datasource="CST_ICMS"/>
                        <edicao x="0" y="0" largura="2"/>
                    </campo>
                    <campo n="3" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]"
                           rotulo="Código Fiscal de Operação e Prestação"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS" descricao="Alíquota do ICMS">
                        <edicao x="0" y="2" largura="6" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor da operação"
                           descricao="Valor da operação correspondente à combinação de CST_ICMS_CFOP e Aliquota do ICMS">
                        <edicao x="0" y="3" largura="6" componente="104"/>
                    </campo>
                    <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base de Cálculo do ICMS"
                           descricao="Parcela Correspondente ao Valor da Base de cálculo do ICMS referente à combinação CST_ICMS,CFOP e Alíquota do ICMS">
                        <edicao x="0" y="4" largura="6" componente="104"/>
                    </campo>
                    <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do ICMS"
                           descricao="Parcela correspondente ao Valor do ICMS referente à combinação CST_ICMS, CFOP e Alíquota do ICMS">
                        <edicao x="0" y="5" largura="6" componente="104"/>
                    </campo>
                    <campo n="8" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0"
                           rotulo="Código da observação do lançamento fiscal (Campo 02 do regisro 0460)"
                           descricao="Código da observação do lançamento fiscal (Campo 02 do regisro 0460)">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                        <edicao x="0" y="6" largura="6"/>
                    </campo>

                </registro>

                <registro id="C855" nivel="3" ocorrencia="2" obrigatorio="0" chave="COD_OBS" outros="[modelos=59]"
                          rotulo="Obs. Lanc. Fiscal" descricao="Observações do lançamento fiscal (Código 59)">
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C855”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C855"/>
                    </campo>
                    <campo n="2" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="1" rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>
                    <campo n="3" id="TXT_COMPL" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                           descricao="Descrição complementar do código de observação">
                    </campo>

                    <registro id="C857" nivel="4" ocorrencia="2" obrigatorio="0" chave="COD_AJ,COD_ITEM"
                              outros="[modelos=59]" rotulo="Outras Obrigações"
                              descricao="Outras obrigações tributárias, ajustes e informações de valores provenientes de documento fiscal">
                        <persistencia indices="COD_ITEM"/>
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <!-- EM VERIFICAÇÃO validador id="REGRA_ITEM_INFORMADO_13001_V1" tipo="6"/-->
                        <validador id="REGRA_VL_C197" tipo="2" campoMsg="VL_BC_ICMS"
                                   outrosCamposEnvolvidosValidacao="ALIQ_ICMS;VL_ICMS;VL_OUTROS"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C857”">
                            <valores-validos valores="C857"/>
                            <edicao exibir="false"/>
                        </campo>
                        <campo n="2" id="COD_AJ" tipo="C" tamanho="[10]" obrigatorio="1" rotulo="Código do Ajuste"
                               descricao="Código do ajuste/benefício/incentivo, conforme TABELA DE AJUSTES E INFORMAÇÕES DE VALORES PROVENIENTES DE DOCUMENTO FISCAL">
                            <valores-validos datasource="COD_AJ"/>
                            <edicao x="0" y="0" largura="6"/>
                        </campo>
                        <campo n="3" id="DESCR_COMPL_AJ" tipo="C" obrigatorio="0"
                               rotulo="Descrição complementar do ajuste do documento fiscal"
                               descricao="Descrição complementar do ajuste do documento fiscal">
                            <edicao x="0" y="1" largura="6"/>
                        </campo>
                        <campo n="4" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do item"
                               descricao="Código do item (campo 02 do Registro 0200)"
                               referenciaPesquisa="0200;COD_ITEM">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                            <edicao x="0" y="2" largura="6"/>
                        </campo>
                        <campo n="5" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Base de cálculo do ICMS" descricao="Base de cálculo do ICMS ou do ICMS ST">
                            <edicao x="1" y="3" largura="1" componente="104"/>
                        </campo>
                        <campo n="6" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                               rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                            <edicao x="0" y="3" largura="1" componente="105"/>
                            <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                        </campo>
                        <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                               descricao="Valor do ICMS ou ICMS ST">
                            <edicao x="2" y="3" largura="1" componente="104"/>
                        </campo>
                        <campo n="8" id="VL_OUTROS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Outros valores"
                               descricao="Outros valores">
                            <edicao x="0" y="4" largura="1" componente="104"/>
                        </campo>
                    </registro>

                </registro>

            </registro>
            <registro id="C860" nivel="2" ocorrencia="2" obrigatorio="2" chave="NR_SAT,DT_DOC"
                      outros="[modelos=59;definemodelo=true]" rotulo="Identificação do equipamento SAT-CF-e"
                      descricao="Identificação do equipamento SAT-CF-e">
                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <validador id="REGRA_COMPARA_NUM_CF-e" tipo="2" campoMsg="DOC_INI"
                           outrosCamposEnvolvidosValidacao="DOC_FIM"/>
                <validador id="REGRA_EXTEMPORANEO_CFE" tipo="2" campoMsg="DT_DOC"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “C860”">
                    <edicao exibir="false"/>
                    <valores-validos valores="C860"/>
                </campo>
                <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]" outros="[obrigatorioSaida=true]"
                       rotulo="Código do Modelo do documentos fiscal" descricao="Código do Modelo do documentos fiscal">
                    <valores-validos valores="59=Cupom Fiscal Eletrônico - CF-e"/>
                    <edicao x="0" y="0" largura="2"/>
                </campo>
                <campo n="3" id="NR_SAT" tipo="N" tamanho="9" outros="[obrigatorioSaida=true]"
                       rotulo="Número de série do equipamento SAT" descricao="Número de série do equipamento SAT">
                    <edicao x="0" y="1" largura="6"/>
                </campo>
                <campo n="4" id="DT_DOC" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                       rotulo="Data de emissão dos documentos fiscais"
                       descricao="Data de emissão dos documentos fiscais">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <edicao x="0" y="2" largura="6" componente="103"/>
                </campo>
                <campo n="5" id="DOC_INI" tipo="N" tamanho="6" outros="[obrigatorioSaida=true]"
                       rotulo="Número do documento inicial" descricao="Número do documento inicial">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="3" largura="6"/>
                </campo>
                <campo n="6" id="DOC_FIM" tipo="N" tamanho="6" outros="[obrigatorioSaida=true]"
                       rotulo="Número do documento final" descricao="Número do documento final">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="4" largura="6"/>
                </campo>

                <registro id="C870" nivel="3" ocorrencia="2" obrigatorio="2" outros="[modelos=59]"
                          rotulo="Itens do Resumo Diário dos Documentos (CF-E-SAT)"
                          descricao="Itens do Resumo Diário dos Documentos (CF-E-SAT)">

                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_REFERENCIADO_UNID_15001V1" tipo="6"/>
                    <validador id="REGRA_UNID_DIF_0200" tipo="6"/>
                    <validador id="REGRA_CFOP_SAIDA" tipo="2" campoMsg="CFOP"/>
                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_SAIDA" campoObservado="CFOP"/>
                    </edicao>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C870”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C870"/>
                    </campo>
                    <campo n="2" id="COD_ITEM" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]"
                           rotulo="Código do item (campo 02 do Registro 0200)"
                           descricao="Código do item (campo 02 do Registro 0200)">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                    </campo>
                    <campo n="3" id="QTD" tipo="N" casasdecimais="5" outros="[obrigatorioSaida=true]"
                           rotulo="Quantidade do item" descricao="Quantidade do item">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    </campo>
                    <campo n="4" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]"
                           rotulo="Unidade do item (Campo 02 do registro 0190)"
                           descricao="Unidade do item (Campo 02 do registro 0190)" referenciaPesquisa="0190;UNID">
                        <valores-validos datasource="UNID_0190_SV"/>
                    </campo>
                    <campo n="5" id="CST_ICMS" tipo="C" tamanho="[3]" outros="[obrigatorioSaida=true]"
                           rotulo="Código da Situação Tributária - ICMS"
                           descricao="Código da Situação Tributária referente ao ICMS">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="6" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]"
                           rotulo="Código Fiscal de Operação e Prestação"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <registro id="C880" nivel="3" ocorrencia="1" obrigatorio="2" outros="[modelos=59]"
                              rotulo="Informações Complementares das Operações de Saída de Mercadorias Sujeitas à Substituição Tributária (CF-E-SAT) "
                              descricao="Informações Complementares das Operações de Saída de Mercadorias Sujeitas à Substituição Tributária (CF-E-SAT) ">

                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <edicao>
                            <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_MOT_REST_COMPL_PARA_REGISTROS"
                                                     campoObservado="COD_MOT_REST_COMPL"/>
                        </edicao>
                        <validador id="REGRA_OBRIGATORIO_1255_POR_COD_MOT_REST_COMPL" tipo="6"/>
                        <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                        <validador id="REGRA_UNID_DIF_0200" tipo="6"/>
                        <modificador-obrigatoriedade
                                id="REGRA_OBRIGATORIO_COD_MOT_REST_COMPL_15001_V1"/><!-- ESTA REGRA INCLUI A REGRA_OBRIGATORIO_COD_MOT_REST_COMPL   -->

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C880”">
                            <edicao exibir="false"/>
                            <valores-validos valores="C880"/>
                        </campo>
                        <campo n="2" id="COD_MOT_REST_COMPL" tipo="C" tamanho="[5]" outros="[obrigatorioSaida=true]"
                               rotulo="Código do motivo da restituição ou complementação"
                               descricao="Código do motivo da restituição ou complementação conforme Tabela 5.7">
                            <valores-validos datasource="COD_MOT_REST_COMPL"/>
                            <validador id="REGRA_VALIDA_COD_MOT_RESP_COMPL_0" tipo="1"/>
                        </campo>
                        <campo n="3" id="QUANT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioSaida=true]"
                               rotulo="Quantidade do item" descricao="Quantidade do item">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <campo n="4" id="UNID" tipo="C" tamanho="6" rotulo="Unidade adotada"
                               descricao="Unidade adotada para informar o campo QUANT_CONV."
                               referenciaPesquisa="0190;UNID">
                            <valores-validos datasource="UNID_0190_SV"/>
                        </campo>
                        <campo n="5" id="VL_UNIT_CONV" tipo="N" casasdecimais="6" outros="[obrigatorioSaida=true]"
                               rotulo="Valor unitário da mercadoria"
                               descricao="Valor unitário da mercadoria, considerando a unidade utilizada para informar o campo “QUANT_CONV”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="6" id="VL_UNIT_ICMS_NA_OPERACAO_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unitário para o ICMS na operação"
                               descricao="Valor unitário da mercadoria, considerando a unidade utilizada para informar o campo “QUANT_CONV”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="7" id="VL_UNIT_ICMS_OP_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. de ICMS OP para desfazimento da ST"
                               descricao="Valor unitário de ICMS Operações Próprias(OP) para desfazimento da Substituição Tributária(ST)">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="8" id="VL_UNIT_BC_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. médio de ICMS OP"
                               descricao="Valor unitário médio de ICMS Operações Próprias">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="9" id="VL_UNIT_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. médio de ICMS ST, incluindo FCP ST"
                               descricao="Valor unitário médio de ICMS ST, incluindo FCP ST">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="10" id="VL_UNIT_FCP_ICMS_ST_ESTOQUE_CONV" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                               descricao="Parcela correspondente a FCP ST que compõe o campo “Valor unit. médio de ICMS ST, incluindo FCP ST”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="11" id="VL_UNIT_ICMS_ST_CONV_REST" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. ICMS ST, incluindo FCP ST, a ser restituído/ressarcido"
                               descricao="Valor unitário do ICMS ST, incluindo FCP ST, a ser restituído/ressarcido">
                            <edicao componente="104"/>
                            <validador id="REGRA_VALIDA_VL_UNIT_ICMS_ST_CONV_REST" tipo="1"/>
                        </campo>
                        <campo n="12" id="VL_UNIT_FCP_ST_CONV_REST" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                               descricao="Parcela correspondente a FCP ST que compõe o campo “Valor unit. ICMS ST, incluindo FCP ST, a ser restituído/ressarcido”">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="13" id="VL_UNIT_ICMS_ST_CONV_COMPL" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Valor unit. do complemento de ICMS ST, incluindo FCP ST"
                               descricao="Valor unitário do complemento do ICMS, incluindo FCP ST, considerando a unidade utilizada para informar o campo “Quantidade do Item”">
                            <edicao componente="104"/>
                            <validador id="REGRA_VALIDA_VL_UNIT_ICMS_ST_CONV_COMPL" tipo="1"/>
                        </campo>
                        <campo n="14" id="VL_UNIT_FCP_ST_CONV_COMPL" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Parcela correspondente a FCP ST que compõe o campo anterior"
                               descricao="Valor unitário correspondente à parcela de FCP ST que compõe o campo acima, considerando unidade utilizada para informar o campo “Quantidade do Item”.">
                            <edicao componente="104"/>
                        </campo>
                    </registro>

                </registro>

                <registro id="C890" nivel="3" ocorrencia="2" obrigatorio="1" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=59]" rotulo="Resumo diário de CF-e por equipamento SAT-CF-e"
                          descricao="Resumo diário de CF-e por equipamento SAT-CF-e">
                    <persistencia indices="COD_OBS"/>

                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS" tipo="2" campoMsg="CST_ICMS"
                               outrosCamposEnvolvidosValidacao="VL_BC_ICMS;ALIQ_ICMS;VL_ICMS"/>
                    <validador id="REGRA_CFOP_SAIDA" tipo="2" campoMsg="CFOP"/>
                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_SAIDA" campoObservado="CFOP"/>
                    </edicao>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C890”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C890"/>
                    </campo>
                    <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]"
                           rotulo="Código da situação Tributária" descricao="Código da Situação Tributária">
                        <valores-validos datasource="CST_ICMS"/>
                        <edicao x="0" y="0" largura="2"/>
                    </campo>
                    <campo n="3" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]"
                           rotulo="Código Fiscal de Operação e Prestação"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS" descricao="Alíquota do ICMS">
                        <edicao x="0" y="2" largura="6" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor da Operação"
                           descricao="Valor da Operação correspondente à combinação CST_ICMS, CFOP, e a alíquota do ICMS">
                        <edicao x="0" y="3" largura="6" componente="104"/>
                    </campo>
                    <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base de cálculo do ICMS"
                           descricao="Parcela correspondente ao Valor da Base de Cálculo do ICMS referente combinação CST_ICMS, CFOP, e a alíquota do ICMS">
                        <edicao x="0" y="4" largura="6" componente="104"/>
                    </campo>
                    <campo n="6" id="VL_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do ICMS"
                           descricao="Parcela Correspondente ao Valor da Base de Cálculo do ICMs referente à combinação CST_ICMS, CFOP e alíquota do ICMS">
                        <edicao x="0" y="5" largura="6" componente="104"/>
                    </campo>
                    <campo n="6" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0"
                           rotulo="Código da observação do Lançamento Fiscal"
                           descricao="Código da observação do Lançamento Fiscal">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                        <edicao x="0" y="6" largura="6"/>
                    </campo>

                </registro>

                <registro id="C895" nivel="3" ocorrencia="2" obrigatorio="0" chave="COD_OBS" outros="[modelos=59]"
                          rotulo="Obs. Lanc. Fiscal" descricao="Observações do Lançamento Fiscal (Código 59)">
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “C895”">
                        <edicao exibir="false"/>
                        <valores-validos valores="C895"/>
                    </campo>
                    <campo n="2" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="1" rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>
                    <campo n="3" id="TXT_COMPL" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                           descricao="Descrição complementar do código de observação">
                    </campo>

                    <registro id="C897" nivel="4" ocorrencia="2" obrigatorio="0" chave="COD_AJ,COD_ITEM"
                              outros="[modelos=59]" rotulo="Outras Obrigações"
                              descricao="Outras obrigações tributárias, ajustes e informações de valores provenientes de documento fiscal">
                        <persistencia indices="COD_ITEM"/>
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <!-- EM VERIFICAÇÃO validador id="REGRA_ITEM_INFORMADO_SERVICO_A7E2V1" tipo="6"/-->
                        <validador id="REGRA_VL_C197" tipo="2" campoMsg="VL_BC_ICMS"
                                   outrosCamposEnvolvidosValidacao="ALIQ_ICMS;VL_ICMS;VL_OUTROS"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “C897”">
                            <valores-validos valores="C897"/>
                            <edicao exibir="false"/>
                        </campo>
                        <campo n="2" id="COD_AJ" tipo="C" tamanho="[10]" obrigatorio="1" rotulo="Código do Ajuste"
                               descricao="Código do ajuste/benefício/incentivo, conforme TABELA DE AJUSTES E INFORMAÇÕES DE VALORES PROVENIENTES DE DOCUMENTO FISCAL">
                            <valores-validos datasource="COD_AJ"/>
                            <edicao x="0" y="0" largura="6"/>
                        </campo>
                        <campo n="3" id="DESCR_COMPL_AJ" tipo="C" obrigatorio="0"
                               rotulo="Descrição complementar do ajuste do documento fiscal"
                               descricao="Descrição complementar do ajuste do documento fiscal">
                            <edicao x="0" y="1" largura="6"/>
                        </campo>
                        <campo n="4" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do item"
                               descricao="Código do item (campo 02 do Registro 0200)"
                               referenciaPesquisa="0200;COD_ITEM">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                            <edicao x="0" y="2" largura="6"/>
                        </campo>
                        <campo n="5" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Base de cálculo do ICMS" descricao="Base de cálculo do ICMS ou do ICMS ST">
                            <edicao x="1" y="3" largura="1" componente="104"/>
                        </campo>
                        <campo n="6" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                               rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                            <edicao x="0" y="3" largura="1" componente="105"/>
                            <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                        </campo>
                        <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                               descricao="Valor do ICMS ou ICMS ST">
                            <edicao x="2" y="3" largura="1" componente="104"/>
                        </campo>
                        <campo n="8" id="VL_OUTROS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Outros valores"
                               descricao="Outros valores">
                            <edicao x="0" y="4" largura="1" componente="104"/>
                        </campo>
                    </registro>

                </registro>

            </registro>


        </registro>
        <registro id="C990" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ENCERRAMENTO DO BLOCO C"
                  outros="[obrigatorioimportacao=true]">


            <edicao exibir="false"/>
            <validador id="REGRA_QTD_LIN_BLOCOC" tipo="0"/>
            <validador id="REGRA_BLOCO_COM_SEM_MOVIMENTO" tipo="0"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “C990”">
                <valores-validos valores="C990"/>
            </campo>
            <campo n="2" id="QTD_LIN_C" tipo="N" obrigatorio="1" rotulo="Quantidade total de linhas"
                   descricao="Quantidade total de linhas do Bloco C">
                <edicao valorPadrao="2"/><!--   C001 C990 -->
            </campo>
        </registro>

    </bloco>

    <bloco id="D" rotulo="DOCUMENTOS FISCAIS II - SERVIÇOS (ICMS)">

        <registro id="D001" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ABERTURA DO BLOCO D"
                  outros="[obrigatorioimportacao=true]">


            <edicao exibir="false"/>
            <gravador-sessao id="SESSAO_D001"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “D001”">
            </campo>
            <valores-validos valores="D001"/>
            <campo n="2" id="IND_MOV" tipo="C" tamanho="1" obrigatorio="1" rotulo="Indicador de movimento"
                   descricao="Indicador de movimento">
                <valores-validos valores="0=Bloco com dados informados;1=Bloco sem dados informados"/>
                <edicao valorPadrao="1"/>
            </campo>

            <registro id="D100" nivel="2" ocorrencia="2" obrigatorio="0"
                      chave="IND_EMIT,NUM_DOC,COD_MOD,COD_SIT,SER,SUB,COD_PART,CHV_CTE"
                      outros="[modelos=07,08,8B,09,10,11,26,27,57,63,67;defineoperacao=true;definemodelo=true;naousachavenaduplicidade=true]"
                      rotulo="Nota Fiscal de Serviço de Transporte e Conhecimentos de Transporte Rodoviário de Cargas, Aquaviário de Cargas, Aéreo , Ferroviário de Cargas, Multimodal de Cargas, Nota Fiscal De Transporte Ferroviário De Carga E Conhecimento De Transporte Eletrônico – CT-e, Conhecimento de Transporte Eletrônico para outros serviços - CT-e OS e Bilhete de Passagem Eletrônico BP-e">

                <persistencia indices="COD_PART;COD_INF"/>
                <gravador-sessao id="SESSAO_0000"/>
                <validador id="REGRA_EXISTE_COD_INF_V2" tipo="6"/>
                <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_D100_EMISSAO_PROPRIA_A9E2V1" tipo="6"/>
                <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_D100_EMISSAO_TERCEIROS_A9E2V1" tipo="6"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_A_P" tipo="2" campoMsg="DT_A_P"/>
                <validador id="REGRA_REGISTRO_OBRIGATORIO_D160" tipo="6"/>
                <!-- Removida substituida por tipo 1  <validador id="REGRA_COD_MUN_ORIG_UF_0000" tipo="6"/> -->
                <validador id="REGRA_VL_BC_ICMS_ANALIT" tipo="6"/>
                <validador id="REGRA_VL_ICMS_ANALIT" tipo="6"/>
                <validador id="REGRA_IND_EMIT" tipo="2" campoMsg="IND_EMIT" outrosCamposEnvolvidosValidacao="IND_OPER"/>
                <validador id="REGRA_OBRIGATORIO_BPE_REF" tipo="2" campoMsg="CHV_CTE_REF"
                           outrosCamposEnvolvidosValidacao="COD_MOD;TP_CT_E"/>
                <validador id="REGRA_DOCUMENTO_NORMAL_DT_AP" tipo="2" campoMsg="COD_SIT"
                           outrosCamposEnvolvidosValidacao="IND_OPER;DT_A_P;DT_DOC"/>
                <validador id="REGRA_DOCUMENTO_EXTEMPORANEO_DT_A_P" tipo="2" campoMsg="COD_SIT"
                           outrosCamposEnvolvidosValidacao="IND_OPER;DT_A_P;DT_DOC"/>
                <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_A13E1V2" tipo="2" campoMsg="CHV_CTE"
                           outrosCamposEnvolvidosValidacao="COD_MOD;IND_EMIT"/>
                <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_TERCEIROS_12001_V1" tipo="2" campoMsg="CHV_CTE"
                           outrosCamposEnvolvidosValidacao="COD_MOD;IND_EMIT"/>
                <validador id="REGRA_COMPARA_CNPJ_NFE_CTE_14003_V5" tipo="2" campoMsg="CHV_CTE"
                           outrosCamposEnvolvidosValidacao="COD_MOD;IND_EMIT;COD_SIT"/>
                <validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE" tipo="2" campoMsg="CHV_CTE"
                           outrosCamposEnvolvidosValidacao="NUM_DOC"/>
                <validador id="REGRA_COMPARA_UF_NFE_CTE_13001_V1" tipo="2" campoMsg="CHV_CTE"/>
                <validador id="REGRA_COMPARA_CODIGO_MODELO" tipo="2" campoMsg="CHV_CTE"/>
                <!-- Aplicada tipo 1 diretamente nos campos<validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_CTE"/> -->
                <validador id="REGRA_OBRIGATORIO_SE_EMISSAO_PROPRIA_TP_CT_E" tipo="2" campoMsg="TP_CT_E"
                           outrosCamposEnvolvidosValidacao="IND_EMIT;COD_MOD;COD_SIT"/>
                <!-- REGRA EXCLUIDA PARA LEIAUTE V <validador id="REGRA_CANCELA_DOC_TERCEIRO" tipo="2" campoMsg="COD_SIT" outrosCamposEnvolvidosValidacao="IND_EMIT;IND_OPER"/> -->
                <validador id="REGRA_CHAVE_REGIME_ESPECIAL_CTE" tipo="2" campoMsg="CHV_CTE"
                           outrosCamposEnvolvidosValidacao="IND_OPER;IND_EMIT;COD_MOD;COD_SIT"/>
                <validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_NFE"/>
                <validador id="REGRA_COMPARA_CNPJ_CTE_PARTICIPANTE_14003_V5" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_SERV_D100" tipo="6"/>

                <validador id="REGRA_OBRIGATORIO_COD_MUN_DOCE_ORIG_V3" tipo="2" campoMsg="COD_MUN_ORIG"
                           outrosCamposEnvolvidosValidacao="COD_MOD"/>
                <validador id="REGRA_OBRIGATORIO_COD_MUN_DOCE_DEST_V3" tipo="2" campoMsg="COD_MUN_DEST"
                           outrosCamposEnvolvidosValidacao="COD_MOD"/>
                <!--  <validador id="REGRA_VALIDA_COD_MUN_ORI_BPE" tipo="2" campoMsg="COD_MUN_ORIG"/> REGRA NO CAMPO VALIDA_UF_0000 -->


                <!--
				Os modificadores de obrigatoriedade do d100 e filhos foram unificados em uma única classe.
				Vide comentário da classe.
				<modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_INUTILIZADA_A12E1V2"/>
				<modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_CANCELADA_14001_V1"/>
				REGRA REMOVIDA POR TUTOMu em 07/12/2011 <modificador-obrigatoriedade id="REGRA_CTE_TERCEIROS_SAIDA"/>
				<modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_ESP_14001V1"/>
				<modificador-obrigatoriedade id="REGRA_CTE_EMITIDA_12001_V2"/>
				<modificador-obrigatoriedade id="REGRA_BPE_NAO_INFORMAR"/>
				<modificador-obrigatoriedade id="REGRA_NAO_INFORMAR_DOC_ELETRONICO_REFERENCIADO"/> -->

                <modificador-obrigatoriedade id="REGRA_CONTROLE_OBRIGATORIEDADE_CAMPOS_E_FILHOS_D100_V5"/>
                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_COMPLEMENTAR_17001_V2"/>

                <edicao>
                    <observador-edicao-campo id="OBSERVADOR_UF_FILTRA_MUNICIPIO_PELA_UF_ESCRITURACAO_E_COD_MOD"
                                             campoObservado="COD_MUN_ORIG"/>
                    <observador-edicao-campo id="OBSERVADOR_FILTRA_TP_CT_E" campoObservado="TP_CT_E"/>
                    <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_SIT_POR_COD_MOD_17001_V2"
                                             campoObservado="COD_SIT"/>
                    <observador-edicao-campo id="OBSERVADOR_FILTRA_IND_EMIT_POR_COD_MOD" campoObservado="IND_EMIT"/>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>

                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                    </painel-botoes>

                    <painel-registro>
                        <botao id="BOTAO_ABRIR_CADASTRO_ITENS" texto="Cadastrar Itens"
                               tooltip="Abre a tela de cadastro dos Itens da Nota Fiscal"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionAbrirCadastroDeItens"
                               x="0" y="0" largura="1"/>
                    </painel-registro>

                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “D100”">
                    <edicao exibir="false"/>
                    <valores-validos valores="D100"/>
                </campo>
                <campo n="2" id="IND_OPER" tipo="C" tamanho="1" obrigatorio="1" rotulo="Tipo de operação"
                       descricao="Indicador do tipo de operação:" outros="[obrigatorioimportacao=true]">
                    <validador id="REGRA_BPE_SAIDA" tipo="0" outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <valores-validos valores="0=Entrada;1=Saída"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="IND_EMIT" tipo="C" tamanho="1" obrigatorio="1" rotulo="Emitente"
                       descricao="Indicador do emitente do documento fiscal">
                    <validador id="REGRA_BPE_EMISSAO_PROPRIA" tipo="1" outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <valores-validos valores="0=Emissão própria;1=Terceiros"/>
                    <edicao x="0" y="1" largura="4"/>
                </campo>
                <campo n="4" id="COD_PART" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do participante"
                       descricao="Código do participante (campo 02 do Registro 0150): - do prestador de serviço, no caso de aquisição de serviço; - do tomador do serviço, no caso de prestação de serviços"
                       referenciaPesquisa="0150;COD_PART">
                    <valores-validos datasource="COD_PART_0150_SV"/>
                    <edicao x="0" y="2" largura="4"/>
                </campo>
                <campo n="5" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="Código do modelo do documento"
                       descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS"
                       outros="[obrigatorioimportacao=true]">
                    <valores-validos
                            valores="07=Nota Fiscal de Serviço de Transporte;08=Conhecimento de Transporte Rodoviário de Cargas;8B=Conhecimento de Transporte de Cargas Avulso;09=Conhecimento de Transporte Aquaviário de Cargas;10=Conhecimento Aéreo;11=Conhecimento de Transporte Ferroviário de Cargas;26=Conhecimento de Transporte Multimodal de Cargas;27=Nota Fiscal de Transporte Ferroviário de Cargas;57=Conhecimento de Transporte Eletrônico – CT-e;63=Bilhete de Passagem Eletrônico - BP-e;67=CTe OS"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="6" id="COD_SIT" tipo="N" tamanho="[2]" obrigatorio="1"
                       rotulo="Código da situação do documento"
                       descricao="Código da situação do documento fiscal, conforme a Tabela Situação do Documento">
                    <!-- Removida - O cod sit 9 não será disponibilizado nesse projeto<validador id="REGRA_COD_SIT_BPE" tipo="1" outrosCamposEnvolvidosValidacao="COD_MOD"/> -->
                    <valores-validos datasource="COD_SIT" outros="[codigos=00,01,02,03,04,05,06,07,08]"/>
                    <edicao x="0" y="0" largura="4" valorPadrao="00"/>
                </campo>
                <campo n="7" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série do documento fiscal"
                       descricao="Série do documento fiscal">
                    <edicao x="0" y="4" largura="1"/>
                </campo>
                <campo n="8" id="SUB" tipo="C" tamanho="3" obrigatorio="0" rotulo="Subsérie do documento fiscal"
                       descricao="Subsérie do documento fiscal">
                    <edicao x="1" y="4" largura="1"/>
                </campo>
                <campo n="9" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número do documento fiscal"
                       descricao="Número do documento fiscal">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="3" largura="1" componente="107"/>
                </campo>
                <campo n="10" id="CHV_CTE" tipo="N" tamanho="[44]" obrigatorio="0"
                       rotulo="Chave do Conhecimento de Transporte Eletrônico ou do Bilhete de Passagem Eletrônico"
                       descricao="Chave do Conhecimento de Transporte Eletrônico ou do Bilhete de Passagem Eletrônico">
                    <validador id="REGRA_CHVDFE_MODELO_12001_V1" tipo="1" outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="1"/>
                    <edicao x="0" y="6" largura="4" componente="113"/>
                </campo>
                <campo n="11" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                       descricao="Data da emissão do documento fiscal">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <validador id="REGRA_DATA_MAXIMA_MODELO_DOC_A13E1V2" tipo="1"
                               outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <edicao x="0" y="5" largura="1" componente="103"/>
                </campo>
                <campo n="12" id="DT_A_P" tipo="D" tamanho="[8]" obrigatorio="0"
                       rotulo="Data da aquisição/prestação serviço"
                       descricao="Data da aquisição ou da prestação do serviço">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="1" y="5" largura="1" componente="103"/>
                </campo>
                <campo n="13" id="TP_CT_E" tipo="N" tamanho="[1]" obrigatorio="0" rotulo="Tipo de CT-e ou BP-e"
                       descricao="Tipo de Conhecimento de Transporte Eletrônico conforme definido no Manual de Integração do CT-e ou do Bilhete de Passagem Eletrônico conforme definido no Manual de Integração do BP-e">
                    <validador id="REGRA_TIPO_BPE_V2" tipo="1" outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <valores-validos datasource="TP_CTE"/>
                    <edicao x="0" y="7" largura="4"/>
                </campo>
                <campo n="14" id="CHV_CTE_REF" tipo="N" tamanho="[44]" obrigatorio="0"
                       rotulo="Chave do Doc-e Substituído" descricao="Chave do Documento Eletrônico Substituído">
                    <validador id="REGRA_DIFERENTE_CTE_REF" tipo="1" outrosCamposEnvolvidosValidacao="CHV_CTE"/>
                    <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="1"/>
                    <validador id="REGRA_VALIDA_CHV_CTE_REF" tipo="1"/>
                    <edicao x="0" y="8" largura="4" componente="113"/>
                </campo>
                <campo n="15" id="VL_DOC" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor total do documento fiscal" descricao="Valor total do documento fiscal">
                    <validador id="REGRA_VL_DOC_GRANDE" tipo="1"/>
                    <edicao x="0" y="11" largura="1" componente="104"/>
                </campo>
                <campo n="16" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor total do desconto"
                       descricao="Valor total do desconto">
                    <edicao x="0" y="12" largura="1" componente="104"/>
                </campo>
                <campo n="17" id="IND_FRT" tipo="C" tamanho="1" obrigatorio="0" rotulo="Tipo do frete"
                       descricao="Indicador do tipo do frete">
                    <valores-validos
                            valores="0=Por conta do emitente;1=Por conta do destinatário/remetente;2=Por conta de terceiros;9=Sem cobrança de frete"/>
                    <edicao x="0" y="9" largura="4"/>
                </campo>
                <campo n="18" id="VL_SERV" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor total da prestação de serviço" descricao="Valor total da prestação de serviço">
                    <edicao x="1" y="11" largura="1" componente="104"/>
                </campo>
                <campo n="19" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Base de cálculo do ICMS" descricao="Valor da base de cálculo do ICMS">
                    <edicao x="0" y="10" largura="1" componente="104"/>
                </campo>
                <campo n="20" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                       descricao="Valor do ICMS">
                    <edicao x="1" y="10" largura="1" componente="104"/>
                </campo>
                <campo n="21" id="VL_NT" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor não-tributado"
                       descricao="Valor não-tributado">
                    <edicao x="1" y="12" largura="1" componente="104"/>
                </campo>
                <campo n="22" id="COD_INF" tipo="C" tamanho="60" obrigatorio="0"
                       rotulo="Código inf complementar (doc fiscal)"
                       descricao="Código da informação complementar do documento fiscal (campo 02 do Registro 0450)"
                       referenciaPesquisa="0450;COD_INF">
                    <valores-validos datasource="COD_INF_0450_SV"/>
                </campo>
                <campo n="23" id="COD_CTA" tipo="C" obrigatorio="0" rotulo="Código da conta analítica"
                       descricao="Código da conta analítica contábil debitada/creditada">
                </campo>
                <campo n="24" id="COD_MUN_ORIG" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                       rotulo="Código do Município de origem, conforme a tabela IBGE"
                       descricao="Código do município de origem do serviço, conforme a tabela IBGE (Preencher com 9999999, se Exterior)">
                    <validador id="REGRA_COD_MUN_ORIG_UF_0000_CAMPO" tipo="1"/>
                    <valores-validos datasource="COD_MUN"/>
                </campo>
                <campo n="25" id="COD_MUN_DEST" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                       rotulo="Código do município de destino, conforme a tabela IBGE"
                       descricao="Código do município de destino do serviço, conforme a tabela IBGE (Preencher com 9999999, se Exterior)">
                    <valores-validos datasource="COD_MUN"/>
                </campo>


                <registro id="D101" nivel="3" ocorrencia="1" obrigatorio="0" outros="[modelos=57,63,67]"
                          descricao="Informação complementar dos documentos fiscais quando das prestações interestaduais destinadas a consumidor final não contribuinte EC 87/15 (Código 57, 63 e 67)"
                          rotulo="Valor da obrigação recolhida ou a recolher - diferencial de alíquota - UF origem/destino EC87/15 (Código 57, 63 e 67)">
                    <!-- <validador id="REGRA_SOMENTE_INFORMAR_SE_OIE_V2" tipo="6"/> A regra não foi removida e sim alterada para o D100 especificamente-->
                    <validador id="REGRA_SOMENTE_INFORMAR_SE_OIE_D101" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D101”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D101"/>
                    </campo>
                    <campo n="2" id="VL_FCP_UF_DEST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total relativo ao Fundo de Combate à Pobreza (FCP)"
                           descricao="Valor total relativo ao Fundo de Combate à Pobreza (FCP) da UF de destino se for operação de entrada ou da UF de origem de se for operação de saída"/>
                    <campo n="3" id="VL_ICMS_UF_DEST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total do ICMS interestadual para a UF de destino"
                           descricao="Valor total do ICMS interestadual para a UF de destino"/>
                    <campo n="4" id="VL_ICMS_UF_REM" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total do ICMS interestadual para a UF do remetente"
                           descricao="Valor total do ICMS interestadual para a UF do remetente"/>
                </registro>

                <registro id="D110" nivel="3" ocorrencia="2" obrigatorio="2" chave="NUM_ITEM" outros="[modelos=07]"
                          rotulo="Itens">

                    <persistencia indices="COD_ITEM"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>

                    <edicao>
                        <painel-registro>
                            <botao id="BOTAO_NOVOS_ITENS" texto="Novo" tooltip="Abre um novo item para inserção"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirNovoItem"
                                   x="0" y="0" largura="1"/>
                        </painel-registro>
                    </edicao>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D110”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D110"/>
                    </campo>
                    <campo n="2" id="NUM_ITEM" tipo="N" tamanho="3" outros="[obrigatorioSaida=true]"
                           rotulo="Número seqüencial do item" descricao="Número seqüencial do item no documento fiscal">
                        <edicao x="0" y="0" largura="1" componente="107"/>
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]"
                           rotulo="Código do item" descricao="Código do item (campo 02 do Registro 0200)"
                           referenciaPesquisa="0200;COD_ITEM">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                        <edicao x="0" y="1" largura="4"/>
                    </campo>
                    <campo n="4" id="VL_SERV" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do serviço" descricao="Valor do serviço">
                        <edicao x="0" y="2" largura="1" componente="104"/>
                    </campo>
                    <campo n="5" id="VL_OUT" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Outros valores"
                           descricao="Outros valores">
                        <edicao x="1" y="2" largura="1" componente="104"/>
                    </campo>

                    <registro id="D120" nivel="4" ocorrencia="2" obrigatorio="1" outros="[modelos=07]"
                              rotulo="Complemento" descricao="COMPLEMENTO DA NOTA FISCAL DE SERVIÇOS DE TRANSPORTE">

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “D120”">
                            <edicao exibir="false"/>
                            <valores-validos valores="D120"/>
                        </campo>
                        <campo n="2" id="COD_MUN_ORIG" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                               rotulo="Código do município de origem"
                               descricao="Código do município de origem do serviço, conforme a tabela IBGE">
                            <valores-validos datasource="COD_MUN"/>
                            <edicao x="0" y="0" largura="5"/>
                        </campo>
                        <campo n="3" id="COD_MUN_DEST" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                               rotulo="Código do município de destino"
                               descricao="Código do município de destino, conforme a tabela IBGE">
                            <valores-validos datasource="COD_MUN"/>
                            <edicao x="0" y="1" largura="5"/>
                        </campo>
                        <campo n="4" id="VEIC_ID" tipo="C" tamanho="7" obrigatorio="0" rotulo="Placa do veículo"
                               descricao="Placa de identificação do veículo">
                            <edicao x="0" y="2" largura="2"/>
                        </campo>
                        <campo n="5" id="UF_ID" tipo="C" tamanho="2" obrigatorio="0"
                               rotulo="Sigla da UF da placa do veículo" descricao="Sigla da UF da placa do veículo">
                            <valores-validos datasource="UF_SIGLA_NOME"/>
                            <edicao x="1" y="2" largura="3"/>
                        </campo>
                    </registro>

                </registro>

                <registro id="D130" nivel="3" ocorrencia="2" obrigatorio="2" outros="[modelos=08,8B,57]"
                          rotulo="Complemento Conhecimento Rodoviário, Avulso e CT-e Simplificado"
                          descrição="Complemento do conhecimento rodoviário de cargas, avulso e de transporte eletrônico simplificado - código 57, tp_cte 5 e 6">

                    <persistencia indices="COD_PART_CONSG;COD_PART_RED"/>

                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                    <validador id="REGRA_VALOR_COM_FRETE_VL_LIQ_FRT" tipo="6"/>
                    <validador id="REGRA_VALOR_COM_FRETE_VL_FRT" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_COD_MUN_ORIG_D130" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_COD_MUN_DEST_D130" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D130”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D130"/>
                    </campo>
                    <campo n="2" id="COD_PART_CONSG" tipo="C" tamanho="60" obrigatorio="0"
                           rotulo="Código do participante consignatário"
                           descricao="Código do participante (campo 02 do Registro 0150): - consignatário, se houver"
                           referenciaPesquisa="0150;COD_PART">
                        <valores-validos datasource="COD_PART_0150_SV"/>
                        <edicao x="0" y="0" largura="4"/>
                    </campo>
                    <campo n="3" id="COD_PART_RED" tipo="C" tamanho="60" obrigatorio="0"
                           rotulo="Código do participante redespachante"
                           descricao="Código do participante (campo 02 do Registro 0150): - redespachante, se houver"
                           referenciaPesquisa="0150;COD_PART">
                        <valores-validos datasource="COD_PART_0150_SV"/>
                        <edicao x="0" y="1" largura="4"/>
                    </campo>
                    <campo n="4" id="IND_FRT_RED" tipo="C" tamanho="1" outros="[obrigatorioSaida=true]"
                           rotulo="Tipo do frete - redespacho"
                           descricao="Indicador do tipo do frete da operação de redespacho">
                        <valores-validos
                                valores="0=Sem redespacho;1=Por conta do emitente;2=Por conta do destinatário;9=Outros"/>
                        <edicao x="0" y="2" largura="4" valorPadrao="2"/>

                    </campo>
                    <campo n="5" id="COD_MUN_ORIG" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do município de origem"
                           descricao="Código do município de origem do serviço, conforme a tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="3" largura="4"/>
                    </campo>
                    <campo n="6" id="COD_MUN_DEST" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do município de destino"
                           descricao="Código do município de destino, conforme a tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="4" largura="4"/>
                    </campo>
                    <campo n="7" id="VEIC_ID" tipo="C" tamanho="7" obrigatorio="0" rotulo="Placa do veículo"
                           descricao="Placa de identificação do veículo">
                        <edicao x="0" y="5" largura="1"/>
                    </campo>
                    <campo n="8" id="VL_LIQ_FRT" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor líquido do frete" descricao="Valor líquido do frete">
                        <edicao x="1" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="9" id="VL_SEC_CAT" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Soma de valores de SEC/CAT"
                           descricao="Soma de valores de SEC/CAT (serviços de coleta/custo adicional de transporte)">
                        <edicao x="0" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="10" id="VL_DESP" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Soma de valores de despacho" descricao="Soma de valores de despacho">
                        <edicao x="1" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="11" id="VL_PEDG" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Soma dos valores de pedágio" descricao="Soma dos valores de pedágio">
                        <edicao x="0" y="8" largura="1" componente="104"/>
                    </campo>
                    <campo n="12" id="VL_OUT" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Outros valores"
                           descricao="Outros valores">
                        <edicao x="1" y="8" largura="1" componente="104"/>
                    </campo>
                    <campo n="13" id="VL_FRT" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor total do frete" descricao="Valor total do frete">
                        <edicao x="0" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="14" id="UF_ID" tipo="C" tamanho="2" obrigatorio="0"
                           rotulo="Sigla da UF da placa do veículo" descricao="Sigla da UF da placa do veículo">
                        <valores-validos datasource="UF_SIGLA_NOME"/>
                        <edicao x="1" y="5" largura="3"/>
                    </campo>
                </registro>

                <registro id="D140" nivel="3" ocorrencia="1" obrigatorio="2" outros="[modelos=09]" rotulo="Complemento"
                          descricao="COMPLEMENTO DO CONHECIMENTO AQUAVIÁRIO DE CARGAS">

                    <persistencia indices="COD_PART_CONSG"/>

                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_COD_MUN_ORIG_D140" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_COD_MUN_DEST_D140" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D140”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D140"/>
                    </campo>
                    <campo n="2" id="COD_PART_CONSG" tipo="C" tamanho="60" obrigatorio="0"
                           rotulo="Código do participante consignatário"
                           descricao="Código do participante (campo 02 do Registro 0150): - consignatário, se houver"
                           referenciaPesquisa="0150;COD_PART">
                        <valores-validos datasource="COD_PART_0150_SV"/>
                        <edicao x="0" y="0" largura="6"/>
                    </campo>
                    <campo n="3" id="COD_MUN_ORIG" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do município de origem"
                           descricao="Código do município de origem do serviço, conforme a tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="COD_MUN_DEST" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do município de destino"
                           descricao="Código do município de destino, conforme a tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="2" largura="6"/>
                    </campo>
                    <campo n="5" id="IND_VEIC" tipo="C" tamanho="1" outros="[obrigatorioSaida=true]"
                           rotulo="Tipo do veículo" descricao="Indicador do tipo do veículo transportador">
                        <valores-validos valores="0=Embarcação;1=Empurrador/rebocador"/>
                        <edicao x="0" y="3" largura="6"/>
                    </campo>
                    <campo n="6" id="VEIC_ID" tipo="C" obrigatorio="0" rotulo="Identificação da embarcação"
                           descricao="Identificação da embarcação (IRIM ou Registro CPP)">
                        <edicao x="0" y="5" largura="1"/>
                    </campo>
                    <campo n="7" id="IND_NAV" tipo="C" tamanho="1" outros="[obrigatorioSaida=true]"
                           rotulo="Tipo da navegação" descricao="Indicador do tipo da navegação">
                        <valores-validos valores="0=Interior;1=Cabotagem"/>
                        <edicao x="0" y="4" largura="6"/>
                    </campo>
                    <campo n="8" id="VIAGEM" tipo="N" obrigatorio="0" rotulo="Número da viagem"
                           descricao="Número da viagem">
                        <edicao x="1" y="5" largura="1" componente="107"/>
                    </campo>
                    <campo n="9" id="VL_FRT_LIQ" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor líquido do frete" descricao="Valor líquido do frete">
                        <edicao x="2" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="10" id="VL_DESP_PORT" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor das despesas portuárias" descricao="Valor das despesas portuárias">
                        <edicao x="0" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="11" id="VL_DESP_CAR_DESC" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor despesas carga/descarga" descricao="Valor das despesas com carga e descarga">
                        <edicao x="1" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="12" id="VL_OUT" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Outros valores"
                           descricao="Outros valores">
                        <edicao x="2" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="13" id="VL_FRT_BRT" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor bruto do frete" descricao="Valor bruto do frete">
                        <edicao x="0" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="14" id="VL_FRT_MM" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor adicional do frete - MM"
                           descricao="Valor adicional do frete para renovação da Marinha Mercante">
                        <edicao x="1" y="6" largura="1" componente="104"/>
                    </campo>
                </registro>

                <registro id="D150" nivel="3" ocorrencia="1" obrigatorio="2" outros="[modelos=10]" rotulo="Complemento"
                          descricao="COMPLEMENTO DO CONHECIMENTO AÉREO">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <validador id="REGRA_OBRIGATORIO_COD_MUN_ORIG_D150" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_COD_MUN_DEST_D150" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D150”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D150"/>
                    </campo>
                    <campo n="2" id="COD_MUN_ORIG" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do município de origem"
                           descricao="Código do município de origem do serviço, conforme a tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="0" largura="6"/>
                    </campo>
                    <campo n="3" id="COD_MUN_DEST" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do município de destino"
                           descricao="Código do município de destino, conforme a tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="VEIC_ID" tipo="C" obrigatorio="0" rotulo="Identificação da aeronave"
                           descricao="Identificação da aeronave (DAC)">
                        <edicao x="0" y="2" largura="1"/>
                    </campo>
                    <campo n="5" id="VIAGEM" tipo="N" obrigatorio="0" rotulo="Número do vôo" descricao="Número do vôo">
                        <edicao x="1" y="2" largura="1" componente="107"/>
                    </campo>
                    <campo n="6" id="IND_TFA" tipo="C" tamanho="1" outros="[obrigatorioSaida=true]"
                           rotulo="Tipo de tarifa aplicada" descricao="Indicador do tipo de tarifa aplicada">
                        <valores-validos valores="0=Exp;1=Enc;2=CI;9=Outra"/>
                        <edicao x="0" y="3" largura="6"/>
                    </campo>
                    <campo n="7" id="VL_PESO_TX" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Peso taxado" descricao="Peso taxado">
                        <edicao x="0" y="5" largura="1" componente="106"/>
                    </campo>
                    <campo n="8" id="VL_TX_TERR" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor da taxa terrestre" descricao="Valor da taxa terrestre">
                        <edicao x="0" y="4" largura="1" componente="104"/>
                    </campo>
                    <campo n="9" id="VL_TX_RED" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor da taxa de redespacho" descricao="Valor da taxa de redespacho">
                        <edicao x="1" y="4" largura="1" componente="104"/>
                    </campo>
                    <campo n="10" id="VL_OUT" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Outros valores"
                           descricao="Outros valores">
                        <edicao x="1" y="5" largura="1" componente="104"/>
                    </campo>
                    <campo n="11" id="VL_TX_ADV" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor da taxa “ad valorem”" descricao="Valor da taxa “ad valorem”">
                        <edicao x="2" y="4" largura="1" componente="104"/>
                    </campo>
                </registro>

                <registro id="D160" nivel="3" ocorrencia="2" obrigatorio="2" outros="[modelos=08,8B,09,10,11,26,27]"
                          rotulo="Carga Transportada">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <!-- <validador id="REGRA_VALIDA_CNPJ_CPF_REM" tipo="2" campoMsg="CNPJ_CPF_REM"/>
					<validador id="REGRA_VALIDA_CNPJ_CPF_DEST" tipo="2" campoMsg="CNPJ_CPF_DEST"/> -->
                    <validador id="REGRA_VALIDA_IE_UF_REM_V2" tipo="2" campoMsg="IE_REM"
                               outrosCamposEnvolvidosValidacao="COD_MUN_ORI"/>
                    <validador id="REGRA_VALIDA_IE_UF_DEST_V2" tipo="2" campoMsg="IE_DEST"
                               outrosCamposEnvolvidosValidacao="COD_MUN_DEST"/>
                    <validador id="REGRA_OBRIGATORIO_DESPACHO" tipo="6"/>
                    <!-- <validador id="REGRA_OBRIGATORIO_COD_MUN_ORIG_D160" tipo="6"/>
					<validador id="REGRA_OBRIGATORIO_COD_MUN_DEST_D160" tipo="6"/> -->
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D160”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D160"/>
                    </campo>
                    <campo n="2" id="DESPACHO" tipo="C" obrigatorio="0" rotulo="Identificação do número do despacho"
                           descricao="Identificação do número do despacho">
                        <edicao x="0" y="0" largura="1"/>
                    </campo>
                    <campo n="3" id="CNPJ_CPF_REM" tipo="C" tamanho="14" obrigatorio="0"
                           rotulo="CNPJ ou CPF do remetente"
                           descricao="CNPJ ou CPF do remetente das mercadorias que constam na nota fiscal">
                        <validador id="REGRA_VALIDA_CPF_CNPJ_CAMPO" tipo="1"/>
                        <edicao x="0" y="1" largura="1" componente="115"/>
                    </campo>
                    <campo n="4" id="IE_REM" tipo="C" tamanho="14" obrigatorio="0"
                           rotulo="Inscrição Estadual do remetente"
                           descricao="Inscrição Estadual do remetente das mercadorias que constam na nota fiscal">
                        <edicao x="1" y="1" largura="1"/>
                    </campo>
                    <campo n="5" id="COD_MUN_ORI" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do município de origem"
                           descricao="Código do município de origem, conforme tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="2" largura="4"/>
                    </campo>
                    <campo n="6" id="CNPJ_CPF_DEST" tipo="C" tamanho="14" obrigatorio="0"
                           rotulo="CNPJ ou CPF do destinatário"
                           descricao="CNPJ ou CPF do destinatário das mercadorias que constam na nota fiscal">
                        <validador id="REGRA_VALIDA_CPF_CNPJ_CAMPO" tipo="1"/>
                        <edicao x="0" y="3" largura="1" componente="115"/>
                    </campo>
                    <campo n="7" id="IE_DEST" tipo="C" tamanho="14" obrigatorio="0"
                           rotulo="Inscrição Estadual do destinatário"
                           descricao="Inscrição Estadual do destinatário das mercadorias que constam na nota fiscal">
                        <edicao x="1" y="3" largura="1"/>
                    </campo>
                    <campo n="8" id="COD_MUN_DEST" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do município de destino"
                           descricao="Código do município de destino, conforme tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="4" largura="4"/>
                    </campo>

                    <registro id="D161" nivel="4" ocorrencia="1" obrigatorio="2" outros="[modelos=08,8B,09,10,11,26]"
                              rotulo="Local Coleta/Entrega">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <!-- <validador id="REGRA_VALIDA_CNPJ_CPF_COL" tipo="2" campoMsg="CNPJ_CPF_COL"/>
						<validador id="REGRA_VALIDA_CNPJ_CPF_ENTG" tipo="2" campoMsg="CNPJ_CPF_ENTG"/> -->
                        <validador id="REGRA_VALIDA_IE_COD_MUN_COL_V2" tipo="2" campoMsg="IE_COL"
                                   outrosCamposEnvolvidosValidacao="COD_MUN_COL"/>
                        <validador id="REGRA_VALIDA_IE_COD_MUN_ENTG_V2" tipo="2" campoMsg="IE_ENTG"
                                   outrosCamposEnvolvidosValidacao="COD_MUN_ENTG"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “D161”">
                            <edicao exibir="false"/>
                            <valores-validos valores="D161"/>
                        </campo>
                        <campo n="2" id="IND_CARGA" tipo="N" tamanho="1" outros="[obrigatorioSaida=true]"
                               rotulo="Tipo de transporte"
                               descricao="Indicador do tipo de transporte da carga coletada">
                            <valores-validos
                                    valores="0=Rodoviário;1=Ferroviário;2=Rodo-Ferroviário;3=Aquaviário;4=Dutoviário;5=Aéreo;9=Outros"/>
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="3" id="CNPJ_CPF_COL" tipo="C" tamanho="14" obrigatorio="0"
                               rotulo="CNPJ ou CPF do contribuinte na coleta"
                               descricao="Número do CNPJ ou CPF do contribuinte do local de coleta">
                            <validador id="REGRA_VALIDA_CPF_CNPJ_CAMPO" tipo="1"/>
                            <edicao x="0" y="1" largura="1" componente="115"/>
                        </campo>
                        <campo n="4" id="IE_COL" tipo="C" tamanho="14" obrigatorio="0"
                               rotulo="Inscrição Estadual na coleta"
                               descricao="Inscrição Estadual do contribuinte do local de coleta">
                            <edicao x="1" y="1" largura="1"/>
                        </campo>
                        <campo n="5" id="COD_MUN_COL" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                               rotulo="Código do município na coleta"
                               descricao="Código do município do local de coleta, conforme tabela IBGE">
                            <valores-validos datasource="COD_MUN"/>
                            <edicao x="0" y="2" largura="4"/>
                        </campo>
                        <campo n="6" id="CNPJ_CPF_ENTG" tipo="C" tamanho="14" obrigatorio="0"
                               rotulo="CNPJ ou CPF do contribuinte na entrega"
                               descricao="Número do CNPJ ou CPF do contribuinte do local de entrega">
                            <validador id="REGRA_VALIDA_CPF_CNPJ_CAMPO" tipo="1"/>
                            <edicao x="0" y="3" largura="1" componente="115"/>
                        </campo>
                        <campo n="7" id="IE_ENTG" tipo="C" tamanho="14" obrigatorio="0"
                               rotulo="Inscrição Estadual na entrega"
                               descricao="Inscrição Estadual do contribuinte do local de entrega">
                            <edicao x="1" y="3" largura="1"/>
                        </campo>
                        <campo n="8" id="COD_MUN_ENTG" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                               rotulo="Código do município na entrega"
                               descricao="Código do município do local de entrega, conforme tabela IBGE">
                            <valores-validos datasource="COD_MUN"/>
                            <edicao x="0" y="4" largura="4"/>
                        </campo>
                    </registro>

                    <registro id="D162" nivel="4" ocorrencia="2" obrigatorio="0" outros="[modelos=08,8B,09,10,11,26,27]"
                              chave="NUM_DOC,SER,COD_MOD" rotulo="Doc. Fiscal"
                              descricao="IDENTIFICAÇÃO DOS DOCUMENTOS FISCAIS">
                        <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"
                                   outrosCamposEnvolvidosValidacao=""/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo“D162”">
                            <edicao exibir="false"/>
                            <valores-validos valores="D162"/>
                        </campo>
                        <campo n="2" id="COD_MOD" tipo="C" tamanho="2" obrigatorio="0"
                               rotulo="Código do Modelo de Documento Fiscal"
                               descricao="Código do Modelo de Documento Fiscal">
                            <valores-validos
                                    valores="01=Nota Fiscal;1B=Nota Fiscal Avulsa;04=Nota Fiscal de Produtor;55=Nota Fiscal Eletrônica"/>
                            <edicao x="0" y="0" largura="6"/>
                        </campo>
                        <campo n="3" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série do Documento Fiscal"
                               descricao="Série do Documento fiscal">
                            <edicao x="1" y="1" largura="1"/>
                        </campo>
                        <campo n="4" id="NUM_DOC" tipo="N" tamanho="9" outros="[obrigatorioSaida=true]"
                               rotulo="Número do Documento fiscal" descricao="Número do documento fiscal">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="0" y="1" largura="1"/>
                        </campo>
                        <campo n="5" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="0" rotulo="Data de emissão"
                               descricao="Data de emissão do Documento Fiscal">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="0" y="2" largura="1" componente="103"/>
                        </campo>
                        <campo n="6" id="VL_DOC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor total"
                               descricao="Valor total do documento fiscal">
                            <validador id="REGRA_VL_DOC_GRANDE" tipo="1"/>
                            <edicao x="0" y="3" largura="1" componente="104"/>
                        </campo>
                        <campo n="7" id="VL_MERC" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Valor das mercadorias"
                               descricao="Valor das mercadorias constantes no documento fiscal">
                            <edicao x="1" y="3" largura="1" componente="104"/>
                        </campo>
                        <campo n="8" id="QTD_VOL" tipo="N" outros="[obrigatorioSaida=true]"
                               rotulo="Quantidade de volumes transportados"
                               descricao="Quantidade de volumes transportados">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="0" y="4" largura="1"/>
                        </campo>
                        <campo n="9" id="PESO_BRT" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Peso bruto"
                               descricao="Peso bruto dos volumes transportados (em kg)">
                            <edicao x="1" y="4" largura="1" componente="106"/>
                        </campo>
                        <campo n="10" id="PESO_LIQ" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Peso líquido"
                               descricao="Peso líquido dos volumes transportados (em kg)">
                            <edicao x="2" y="4" largura="1" componente="106"/>
                        </campo>
                    </registro>

                </registro>

                <registro id="D170" nivel="3" ocorrencia="1" obrigatorio="2" outros="[modelos=26]" rotulo="Complemento"
                          descricao="COMPLEMENTO DO CONHECIMENTO MULTIMODAL DE CARGAS">

                    <persistencia indices="COD_PART_CONSG;COD_PART_RED"/>

                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_COD_MUN_ORIG_D170" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_COD_MUN_DEST_D170" tipo="6"/>

                    <edicao>

                        <painel-registro>
                            <botao id="BOTAO_NOVOS_ITENS" texto="Novo" tooltip="Abre um novo item para inserção"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirNovoItem"
                                   x="0" y="0" largura="1"/>
                        </painel-registro>

                    </edicao>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D170”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D170"/>
                    </campo>
                    <campo n="2" id="COD_PART_CONSG" tipo="C" tamanho="60" obrigatorio="0"
                           rotulo="Código do participante consignatário"
                           descricao="Código do participante (campo 02 do Registro 0150): - consignatário, se houver"
                           referenciaPesquisa="0150;COD_PART">
                        <valores-validos datasource="COD_PART_0150_SV"/>
                        <edicao x="0" y="0" largura="6"/>
                    </campo>
                    <campo n="3" id="COD_PART_RED" tipo="C" tamanho="60" obrigatorio="0"
                           rotulo="Código do participante redespachante"
                           descricao="Código do participante (campo 02 do Registro 0150): - redespachante, se houver"
                           referenciaPesquisa="0150;COD_PART">
                        <valores-validos datasource="COD_PART_0150_SV"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="COD_MUN_ORIG" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do município de origem"
                           descricao="Código do município de origem do serviço, conforme a tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="2" largura="6"/>
                    </campo>
                    <campo n="5" id="COD_MUN_DEST" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do município de destino"
                           descricao="Código do município de destino, conforme a tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="3" largura="6"/>
                    </campo>
                    <campo n="6" id="OTM" tipo="C" outros="[obrigatorioSaida=true]" rotulo="Registro do operador"
                           descricao="Registro do operador de transporte multimodal">
                        <edicao x="0" y="4" largura="1"/>
                    </campo>
                    <campo n="7" id="IND_NAT_FRT" tipo="C" tamanho="1" outros="[obrigatorioSaida=true]"
                           rotulo="Natureza do frete" descricao="Indicador da natureza do frete">
                        <valores-validos valores="0=Negociável;1=Não negociável"/>
                        <edicao x="0" y="5" largura="6"/>
                    </campo>
                    <campo n="8" id="VL_LIQ_FRT" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor líquido do frete" descricao="Valor líquido do frete">
                        <edicao x="1" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="9" id="VL_GRIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do GRIS"
                           descricao="Valor do GRIS (gerenciamento de risco)">
                        <edicao x="0" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="10" id="VL_PDG" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Somatório valores de pedágio" descricao="Somatório dos valores de pedágio">
                        <edicao x="1" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="11" id="VL_OUT" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Outros valores"
                           descricao="Outros valores">
                        <edicao x="2" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="12" id="VL_FRT" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor total do frete" descricao="Valor total do frete">
                        <edicao x="0" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="13" id="VEIC_ID" tipo="C" tamanho="7" obrigatorio="0" rotulo="Placa do veículo"
                           descricao="Placa de identificação do veículo">
                        <edicao x="0" y="8" largura="1"/>
                    </campo>
                    <campo n="14" id="UF_ID" tipo="C" tamanho="2" obrigatorio="0"
                           rotulo="Sigla da UF da placa do veículo" descricao="Sigla da UF da placa do veículo">
                        <valores-validos datasource="UF_SIGLA_NOME"/>
                        <edicao x="1" y="8" largura="5"/>
                    </campo>
                </registro>

                <registro id="D180" nivel="3" ocorrencia="2" obrigatorio="0" outros="[modelos=26]" rotulo="Modais">
                    <!--  <validador id="REGRA_VALIDA_CNPJ_CPF_EMIT" tipo="2" campoMsg="CNPJ_CPF_EMIT"/>
					<validador id="REGRA_VALIDA_CNPJ_CPF_TOM" tipo="2" campoMsg="CNPJ_CPF_TOM"/> -->
                    <validador id="REGRA_VALIDA_IE_UF_EMIT_V2" tipo="2" campoMsg="IE_EMIT"
                               outrosCamposEnvolvidosValidacao="UF_EMIT"/>
                    <validador id="REGRA_VALIDA_IE_UF_TOM_V2" tipo="2" campoMsg="IE_TOM"
                               outrosCamposEnvolvidosValidacao="UF_TOM"/>
                    <validador id="REGRA_OBRIGATORIO_COD_MUN_ORIG_D180" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_COD_MUN_DEST_D180" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D180”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D180"/>
                    </campo>
                    <campo n="2" id="NUM_SEQ" tipo="N" outros="[obrigatorioSaida=true]"
                           rotulo="Número de ordem seqüencial" descricao="Número de ordem seqüencial do modal">
                        <edicao x="0" y="0" largura="1" componente="107"/>
                    </campo>
                    <campo n="3" id="IND_EMIT" tipo="C" tamanho="1" outros="[obrigatorioSaida=true]" rotulo="Emitente"
                           descricao="Indicador do emitente do documento fiscal">
                        <valores-validos valores="0=Emissão própria;1=Terceiros"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="CNPJ_CPF_EMIT" tipo="C" tamanho="14" outros="[obrigatorioSaida=true]"
                           rotulo="CNPJ/CPF do emitente" descricao="CNPJ/CPF do participante emitente do modal">
                        <validador id="REGRA_VALIDA_CPF_CNPJ_CAMPO" tipo="1"/>
                        <edicao x="0" y="2" largura="1" componente="115"/>
                    </campo>
                    <campo n="5" id="UF_EMIT" tipo="C" tamanho="[2]" outros="[obrigatorioSaida=true]"
                           rotulo="UF do emitente"
                           descricao="Sigla da unidade da federação do participante emitente do modal">
                        <valores-validos datasource="UF_SIGLA_NOME"/>
                        <edicao x="0" y="3" largura="6"/>
                    </campo>
                    <campo n="6" id="IE_EMIT" tipo="C" tamanho="14" obrigatorio="0" rotulo="Inscrição Estadual emitente"
                           descricao="Inscrição Estadual do participante emitente do modal">
                        <edicao x="1" y="2" largura="1"/>
                    </campo>
                    <campo n="7" id="COD_MUN_ORIG" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do município de origem"
                           descricao="Código do município de origem do serviço, conforme a tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="4" largura="6"/>
                    </campo>
                    <campo n="8" id="CNPJ_CPF_TOM" tipo="C" tamanho="14" outros="[obrigatorioSaida=true]"
                           rotulo="CNPJ/CPF do tomador do serviço"
                           descricao="CNPJ/CPF do participante tomador do serviço">
                        <validador id="REGRA_VALIDA_CPF_CNPJ_CAMPO" tipo="1"/>
                        <edicao x="0" y="5" largura="1" componente="115"/>
                    </campo>
                    <campo n="9" id="UF_TOM" tipo="C" tamanho="[2]" obrigatorio="0" rotulo="UF do tomador do serviço"
                           descricao="Sigla da unidade da federação do participante tomador do serviço">
                        <valores-validos datasource="UF_SIGLA_NOME"/>
                        <edicao x="0" y="6" largura="6"/>
                    </campo>
                    <campo n="10" id="IE_TOM" tipo="C" tamanho="14" outros="[obrigatorioSaida=true]"
                           rotulo="Inscrição Estadual tomador"
                           descricao="Inscrição Estadual do participante tomador do serviço">
                        <edicao x="1" y="5" largura="1"/>
                    </campo>
                    <campo n="11" id="COD_MUN_DEST" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do município de destino"
                           descricao="Código do município de destino, conforme a tabela IBGE(Preencher com 9999999, se Exterior)">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="7" largura="6"/>
                    </campo>
                    <campo n="12" id="COD_MOD" tipo="C" tamanho="2" outros="[obrigatorioSaida=true]"
                           rotulo="Código do modelo do documento"
                           descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                        <valores-validos datasource="COD_MOD"/>
                        <edicao x="0" y="8" largura="6"/>
                    </campo>
                    <campo n="13" id="SER" tipo="C" tamanho="4" outros="[obrigatorioSaida=true]" rotulo="Série"
                           descricao="Série do documento fiscal">
                        <edicao x="1" y="9" largura="1"/>
                    </campo>
                    <campo n="14" id="SUB" tipo="N" tamanho="3" obrigatorio="0" rotulo="Subsérie"
                           descricao="Subsérie do documento fiscal">
                        <edicao x="2" y="9" largura="1" componente="107"/>
                    </campo>
                    <campo n="15" id="NUM_DOC" tipo="N" tamanho="9" outros="[obrigatorioSaida=true]"
                           rotulo="Número do documento" descricao="Número do documento fiscal">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao x="0" y="9" largura="1" componente="107"/>
                    </campo>
                    <campo n="16" id="DT_DOC" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                           rotulo="Data da emissão" descricao="Data da emissão do documento fiscal">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                        <edicao x="0" y="10" largura="1" componente="103"/>
                    </campo>
                    <campo n="17" id="VL_DOC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor total do doc fiscal" descricao="Valor total do documento fiscal">
                        <validador id="REGRA_VL_DOC_GRANDE" tipo="1"/>
                        <edicao x="1" y="10" largura="1" componente="104"/>
                    </campo>
                </registro>

                <registro id="D190" nivel="3" ocorrencia="2" obrigatorio="1" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=07,08,8B,09,10,11,26,27,57,63,67]" rotulo="Registro Analítico">

                    <persistencia indices="COD_OBS"/>

                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP" campoObservado="CFOP"/>
                    </edicao>
                    <validador id="REGRA_CFOP_D190" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS_D190" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_RED_BC_COM_COD_SIT_D190" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_SERVICO" tipo="2" campoMsg="CST_ICMS"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D190”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D190"/>
                    </campo>
                    <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" obrigatorio="1" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária, conforme Tabela Código da Situação Tributária - CST (ICMS)">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="3" id="CFOP" tipo="N" tamanho="[4]" obrigatorio="1" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor da operação"
                           descricao="Valor da operação correspondente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Base de cálculo do ICMS"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ICMS"
                           descricao="Parcela correspondente ao “Valor do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_RED_BC" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor não tributado base ICMS"
                           descricao="Valor não tributado em função da redução da base de cálculo do ICMS, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0" rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>

                </registro>

                <registro id="D195" nivel="3" ocorrencia="2" obrigatorio="0" chave="COD_OBS"
                          outros="[modelos=07,08,8B,09,10,11,26,27,57,63,67]" rotulo="Obs. Lanc. Fiscal"
                          descricao="Observações do Lançamento Fiscal (Código 07, 08, 8B, 09, 10, 11, 26, 27, 57, 63 e 67)">
                    <edicao posicao="3"/>
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D195”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D195"/>
                    </campo>
                    <campo n="2" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="1" rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>
                    <campo n="3" id="TXT_COMPL" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                           descricao="Descrição complementar do código de observação">
                    </campo>

                    <registro id="D197" nivel="4" ocorrencia="2" obrigatorio="0" chave="COD_AJ,COD_ITEM"
                              outros="[modelos=07,08,8B,09,10,11,26,27,57,63,67]" rotulo="Outras Obrigações"
                              descricao="Outras obrigações tributárias, ajustes e informações de valores provenientes de documento fiscal">

                        <persistencia indices="COD_ITEM"/>
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <validador id="REGRA_ITEM_INFORMADO_SERVICO_A7E2V1" tipo="6"/>
                        <validador id="REGRA_VL_D197" tipo="2" campoMsg="VL_BC_ICMS"
                                   outrosCamposEnvolvidosValidacao="ALIQ_ICMS;VL_ICMS;VL_OUTROS"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “D197”">
                            <valores-validos valores="D197"/>
                            <edicao exibir="false"/>
                        </campo>
                        <campo n="2" id="COD_AJ" tipo="C" tamanho="[10]" obrigatorio="1" rotulo="Código do Ajuste"
                               descricao="Código do ajuste/benefício/incentivo, conforme TABELA DE AJUSTES E INFORMAÇÕES DE VALORES PROVENIENTES DE DOCUMENTO FISCAL">
                            <valores-validos datasource="COD_AJ"/>
                            <edicao x="0" y="0" largura="6"/>
                        </campo>
                        <campo n="3" id="DESCR_COMPL_AJ" tipo="C" obrigatorio="0"
                               rotulo="Descrição complementar do ajuste do documento fiscal"
                               descricao="Descrição complementar do ajuste do documento fiscal">
                            <edicao x="0" y="1" largura="6"/>
                        </campo>
                        <campo n="4" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do item"
                               descricao="Código do item (campo 02 do Registro 0200)"
                               referenciaPesquisa="0200;COD_ITEM">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                            <edicao x="0" y="2" largura="6"/>
                        </campo>
                        <campo n="5" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Base de cálculo do ICMS" descricao="Base de cálculo do ICMS ou do ICMS ST">
                            <edicao x="1" y="3" largura="1" componente="104"/>
                        </campo>
                        <campo n="6" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                               rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                            <edicao x="0" y="3" largura="1" componente="105"/>
                            <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                        </campo>
                        <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                               descricao="Valor do ICMS ou ICMS ST">
                            <edicao x="2" y="3" largura="1" componente="104"/>
                        </campo>
                        <campo n="8" id="VL_OUTROS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Outros valores"
                               descricao="Outros valores">
                            <edicao x="0" y="4" largura="1" componente="104"/>
                        </campo>
                    </registro>

                </registro>

            </registro>

            <registro id="D300" nivel="2" ocorrencia="2" obrigatorio="2" chave="COD_MOD,SER,SUB,NUM_DOC_INI,NUM_DOC_FIN"
                      outros="[modelos=13,14,15,16;definemodelo=true;naousachavenaduplicidade=true]"
                      rotulo="Analítico de Bilhetes de Passagem"
                      descricao="REG ANALÍTICO BILHETES CONSOL PASSAGEM RODOVIÁRIO, AQUAVIÁRIO, PASSAGEM E NOTA BAGAGEM E FERROVIÁRIO">

                <persistencia indices="COD_MOD,SER,SUB;NUM_DOC_INI;NUM_DOC_FIN;COD_OBS"/>
                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <validador id="REGRA_CFOP_SAIDA_AMPLO" tipo="2" campoMsg="CFOP"/>
                <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_D300_A9E1V1" tipo="6"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                <validador id="REGRA_VL_BC_ICMS_D310" tipo="6"/>
                <validador id="REGRA_VL_ICMS_D310" tipo="6"/>
                <validador id="REGRA_VL_SERV_D310" tipo="6"/>
                <validador id="REGRA_CST_ICMS_CAMPOS_ICMS" tipo="2" campoMsg="CST_ICMS"
                           outrosCamposEnvolvidosValidacao="VL_BC_ICMS;ALIQ_ICMS;VL_ICMS"/>
                <validador id="REGRA_CST_ICMS_RED_BC" tipo="2" campoMsg="VL_RED_BC"
                           outrosCamposEnvolvidosValidacao="CST_ICMS"/>
                <validador id="REGRA_CST_ICMS_SERVICO" tipo="2" campoMsg="CST_ICMS"/>

                <edicao>

                    <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_AMPLO" campoObservado="CFOP"/>

                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>

                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                    </painel-botoes>
                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “D300”">
                    <edicao exibir="false"/>
                    <valores-validos valores="D300"/>
                </campo>
                <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]"
                       outros="[obrigatorioSaida=true;obrigatorioimportacao=true]"
                       rotulo="Código do modelo do documento"
                       descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                    <valores-validos
                            valores="13=Bilhete de Passagem Rodoviário;14=Bilhete de Passagem Aquaviário;15=Bilhete de Passagem e Nota de Bagagem;16=Bilhete de Passagem Ferroviário"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="SER" tipo="C" tamanho="4" outros="[obrigatorioSaida=true]"
                       rotulo="Série do documento fiscal" descricao="Série do documento fiscal">
                    <edicao x="0" y="1" largura="1"/>
                </campo>
                <campo n="4" id="SUB" tipo="N" tamanho="4" obrigatorio="0" rotulo="Subsérie do documento fiscal"
                       descricao="Subsérie do documento fiscal">
                    <edicao x="1" y="1" largura="1" componente="107"/>
                </campo>
                <campo n="5" id="NUM_DOC_INI" tipo="N" tamanho="6" outros="[obrigatorioSaida=true]"
                       rotulo="Documento fiscal inicial"
                       descricao="Número do primeiro documento fiscal emitido (mesmo modelo, série e subsérie)">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="0" largura="1" componente="107"/>
                </campo>
                <campo n="6" id="NUM_DOC_FIN" tipo="N" outros="[obrigatorioSaida=true]" rotulo="Documento fiscal final"
                       descricao="Número do último documento fiscal emitido (mesmo modelo, série e subsérie)">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="1" y="0" largura="1" componente="107"/>
                </campo>
                <campo n="7" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]" rotulo="CST/ICMS"
                       descricao="Código da Situação Tributária, conforme Tabela Código da Situação Tributária - CST (ICMS)">
                    <valores-validos datasource="CST_ICMS"/>
                    <edicao x="0" y="2" largura="6"/>
                </campo>
                <campo n="8" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                       descricao="Código Fiscal de Operação e Prestação">
                    <valores-validos datasource="CFOP"/>
                    <edicao x="0" y="3" largura="6"/>
                </campo>
                <campo n="9" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                       rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                    <edicao x="0" y="4" largura="1" componente="105"/>
                    <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                </campo>
                <campo n="10" id="DT_DOC" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                       rotulo="Data da emissão" descricao="Data da emissão dos documentos fiscais">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="0" y="5" largura="1" componente="103"/>
                </campo>
                <campo n="11" id="VL_OPR" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor da operação"
                       descricao="Valor total acumulado das operações correspondentes à combinação de CST/ICMS, CFOP e alíquota do ICMS, incluídas as despesas acessórias e acréscimos">
                    <validador id="REGRA_MAIOR_IGUAL_ZERO" tipo="1"/>
                    <edicao x="0" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="12" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor total dos descontos"
                       descricao="Valor total dos descontos">
                    <edicao x="2" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="13" id="VL_SERV" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor total da prestação de serviço" descricao="Valor total da prestação de serviço">
                    <edicao x="1" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="14" id="VL_SEG" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor de seguro"
                       descricao="Valor de seguro">
                    <edicao x="0" y="8" largura="1" componente="104"/>
                </campo>
                <campo n="15" id="VL_OUT_DESP" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor de outras despesas" descricao="Valor de outras despesas">
                    <edicao x="1" y="8" largura="1" componente="104"/>
                </campo>
                <campo n="16" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Base de cálculo do ICMS" descricao="Valor total da base de cálculo do ICMS">
                    <edicao x="0" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="17" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ICMS"
                       descricao="Valor total do ICMS">
                    <edicao x="2" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="18" id="VL_RED_BC" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor não tributado base ICMS"
                       descricao="Valor não tributado em função da redução da base de cálculo do ICMS, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                    <edicao x="1" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="19" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0" rotulo="Código observação lançamento"
                       descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                       referenciaPesquisa="0460;COD_OBS">
                    <valores-validos datasource="COD_OBS_0460_SV"/>
                    <edicao x="0" y="9" largura="6"/>
                </campo>
                <campo n="20" id="COD_CTA" tipo="C" obrigatorio="0" rotulo="Código da conta analítica"
                       descricao="Código da conta analítica contábil debitada/creditada">
                    <edicao x="0" y="10" largura="4"/>
                </campo>

                <registro id="D301" nivel="3" ocorrencia="2" obrigatorio="0" chave="NUM_DOC_CANC"
                          outros="[modelos=13,14,15,16]" rotulo="Documentos Cancelado">
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D301”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D301"/>
                    </campo>
                    <campo n="2" id="NUM_DOC_CANC" tipo="N" outros="[obrigatorioSaida=true]"
                           rotulo="Número do doc cancelado" descricao="Número do documento fiscal cancelado">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao componente="107"/>
                    </campo>
                </registro>

                <registro id="D310" nivel="3" ocorrencia="2" obrigatorio="2" chave="COD_MUN_ORIG"
                          outros="[modelos=13,14,15,16]" rotulo="Complemento" descricao="COMPLEMENTO DOS BILHETES">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D310”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D310"/>
                    </campo>
                    <campo n="2" id="COD_MUN_ORIG" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do município de origem"
                           descricao="Código do município de origem do serviço, conforme a tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="0" largura="4"/>
                    </campo>
                    <campo n="3" id="VL_SERV" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor da prestação de serviço" descricao="Valor total da prestação de serviço">
                        <edicao x="0" y="2" largura="1" componente="104"/>
                    </campo>
                    <campo n="4" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo do ICMS" descricao="Valor total da base de cálculo do ICMS">
                        <edicao x="0" y="1" largura="1" componente="104"/>
                    </campo>
                    <campo n="5" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                           descricao="Valor total do ICMS">
                        <edicao x="1" y="1" largura="1" componente="104"/>
                    </campo>
                </registro>

            </registro>

            <registro id="D350" nivel="2" ocorrencia="2" obrigatorio="2" chave="COD_MOD,ECF_MOD,ECF_FAB"
                      outros="[modelos=2E,13,14,15,16;definemodelo=true]" rotulo="Equipamento ECF"
                      descricao="ECF - Cupom Fiscal Bilhete de Passagem/Bilhete de Passagem Rodoviário/Bilhete de Passagem Aquaviário/Bilhete de Passagem e Nota de Bagagem/Bilhete de Passagem Ferroviário">

                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <edicao>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>

                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                    </painel-botoes>
                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “D350”">
                    <edicao exibir="false"/>
                    <valores-validos valores="D350"/>
                </campo>
                <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]"
                       outros="[obrigatorioSaida=true;obrigatorioimportacao=true]" rotulo="Código do modelo"
                       descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                    <valores-validos
                            valores="2E=Bilhete de Passagem emitido por ECF;13=Bilhete de Passagem Rodoviário;14=Bilhete de Passagem Aquaviário;15=Bilhete de Passagem e Nota de Bagagem;16=Bilhete de Passagem Ferroviário"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="ECF_MOD" tipo="C" tamanho="20" outros="[obrigatorioSaida=true]"
                       rotulo="Modelo do equipamento" descricao="Modelo do equipamento">
                </campo>
                <campo n="4" id="ECF_FAB" tipo="C" tamanho="21" outros="[obrigatorioSaida=true]"
                       rotulo="Número série de fabricação" descricao="Número de série de fabricação do ECF">
                </campo>
                <campo n="5" id="ECF_CX" tipo="N" tamanho="3" outros="[obrigatorioSaida=true]" rotulo="Número do caixa"
                       descricao="Número do caixa atribuído ao ECF">
                    <edicao componente="107"/>
                </campo>

                <registro id="D355" nivel="3" ocorrencia="2" obrigatorio="1" chave="DT_DOC,CRO,CRZ"
                          outros="[modelos=2E,13,14,15,16]" rotulo="Redução Z" descricao="Redução Z">
                    <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                    <validador id="REGRA_VENDA_BRUTA_2E_A4_E5_V2" tipo="6"/>
                    <validador id="REGRA_GRANDE_TOTAL_FINAL" tipo="2" campoMsg="GT_FIN"
                               outrosCamposEnvolvidosValidacao="VL_BRT"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D355”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D355"/>
                    </campo>
                    <campo n="2" id="DT_DOC" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                           rotulo="Data da Redução Z" descricao="Data do movimento a que se refere a Redução Z">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                        <edicao x="0" y="0" largura="1" componente="103"/>
                    </campo>
                    <campo n="3" id="CRO" tipo="N" tamanho="3" outros="[obrigatorioSaida=true]" rotulo="Posição do CRO"
                           descricao="Posição do Contador de Reinício de Operação">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao x="0" y="1" largura="1" componente="107"/>
                    </campo>
                    <campo n="4" id="CRZ" tipo="N" tamanho="6" outros="[obrigatorioSaida=true]" rotulo="Posição do CRZ"
                           descricao="Posição do Contador de Redução Z">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao x="1" y="1" largura="1" componente="107"/>
                    </campo>
                    <campo n="5" id="NUM_COO_FIN" tipo="N" tamanho="9" outros="[obrigatorioSaida=true]"
                           rotulo="COO da Redução Z"
                           descricao="Número do Contador de Ordem de Operação do último documento emitido no dia. (Número do COO na Redução Z)">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao x="2" y="1" largura="1" componente="107"/>
                    </campo>
                    <campo n="6" id="GT_FIN" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="GT final" descricao="Valor do Grande Total Final">
                        <edicao x="0" y="2" largura="1" componente="104"/>
                    </campo>
                    <campo n="7" id="VL_BRT" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor da venda bruta" descricao="Valor da venda bruta">
                        <edicao x="1" y="2" largura="1" componente="104"/>
                    </campo>

                    <registro id="D360" nivel="4" ocorrencia="1" obrigatorio="2" outros="[modelos=2E,13,14,15,16]"
                              rotulo="PIS/COFINS" descricao="PIS E COFINS TOTALIZADOS NO DIA">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “D360”">
                            <edicao exibir="false"/>
                            <valores-validos valores="D360"/>
                        </campo>
                        <campo n="2" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor total do PIS"
                               descricao="Valor total do PIS">
                            <edicao x="0" y="0" largura="1" componente="104"/>
                        </campo>
                        <campo n="3" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Valor total da COFINS" descricao="Valor total da COFINS">
                            <edicao x="0" y="1" largura="1" componente="104"/>
                        </campo>
                    </registro>

                    <registro id="D365" nivel="4" ocorrencia="2" obrigatorio="1" chave="COD_TOT_PAR,NR_TOT"
                              outros="[modelos=2E,13,14,15,16]" rotulo="Totalizador Parcial"
                              descricao="TOTALIZADORES PARCIAIS DA REDUÇÃO Z">
                        <validador id="REGRA_VL_SERV_D370" tipo="6"/>
                        <validador id="REGRA_NR_TOT_A003E001V4" tipo="2" campoMsg="NR_TOT"
                                   outrosCamposEnvolvidosValidacao="COD_TOT_PAR"/>
                        <validador id="REGRA_DESCR_NR_TOT" tipo="2" campoMsg="DESCR_NR_TOT"
                                   outrosCamposEnvolvidosValidacao="NR_TOT"/>
                        <validador id="REGRA_REGISTRO_OBRIGATORIO_D370" tipo="6"/>
                        <validador id="REGRA_VLR_TOTALIZADOR_2E" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “D365”">
                            <edicao exibir="false"/>
                            <valores-validos valores="D365"/>
                        </campo>
                        <campo n="2" id="COD_TOT_PAR" tipo="C" tamanho="7" outros="[obrigatorioSaida=true]"
                               rotulo="Código do totalizador"
                               descricao="Código do totalizador, conforme Tabela de Códigos dos Totalizadores Parciais da REDUÇÃO Z">
                            <validador id="REGRA_EXISTE_COD_TOT_PAR" tipo="1"/>
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="3" id="VLR_ACUM_TOT" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Valor acumulado no totalizador"
                               descricao="Valor acumulado no totalizador, relativo à respectiva Redução Z">
                            <edicao x="1" y="1" largura="1" componente="104"/>
                        </campo>
                        <campo n="4" id="NR_TOT" tipo="N" tamanho="2" obrigatorio="0" rotulo="Número do totalizador"
                               descricao="Número do totalizador quando ocorrer mais de uma situação com a mesma carga tributária efetiva">
                            <edicao x="0" y="1" largura="1" componente="107"/>
                        </campo>
                        <campo n="5" id="DESCR_NR_TOT" tipo="C" obrigatorio="0"
                               rotulo="Descrição da situação tributária"
                               descricao="Descrição da situação tributária relativa ao totalizador parcial do campo anterior">
                            <edicao x="0" y="2" largura="1"/>
                        </campo>

                        <registro id="D370" nivel="5" ocorrencia="2" obrigatorio="2" outros="[modelos=2E,13,14,15,16]"
                                  rotulo="Complemento Doc. Fiscal" descricao="COMPLEMENTO DOS DOCUMENTOS INFORMADOS">
                            <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_D370_"/>
                            <valores-validos valores="D370"/>
                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “D370”">
                                <edicao exibir="false"/>
                            </campo>
                            <campo n="2" id="COD_MUN_ORIG" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                                   rotulo="Codigo do município de origem"
                                   descricao="Código do município de origem do serviço, conforme a tabela IBGE">
                                <valores-validos datasource="COD_MUN"/>
                                <edicao x="0" y="0" largura="4"/>
                            </campo>
                            <campo n="3" id="VL_SERV" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                                   rotulo="Valor da prestação de serviço"
                                   descricao="Valor total da prestação de serviço">
                                <edicao x="0" y="2" largura="1" componente="104"/>
                            </campo>
                            <campo n="4" id="QTD_BILH" tipo="N" outros="[obrigatorioSaida=true]"
                                   rotulo="Quantidade de bilhetes" descricao="Quantidade de bilhetes emitidos">
                                <edicao x="1" y="2" largura="1" componente="107"/>
                            </campo>
                            <campo n="5" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                                   rotulo="Base de cálculo do ICMS" descricao="Valor total da base de cálculo do ICMS">
                                <edicao x="0" y="1" largura="1" componente="104"/>
                            </campo>
                            <campo n="6" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                                   descricao="Valor total do ICMS">
                                <edicao x="1" y="1" largura="1" componente="104"/>
                            </campo>
                        </registro>

                    </registro>

                    <registro id="D390" nivel="4" ocorrencia="2" obrigatorio="1" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                              outros="[modelos=2E,13,14,15,16]" rotulo="Registro Analítico">

                        <edicao>
                            <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_AMPLO" campoObservado="CFOP"/>
                        </edicao>

                        <persistencia indices="COD_OBS"/>
                        <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                        <validador id="REGRA_CFOP_SAIDA_AMPLO" tipo="2" campoMsg="CFOP"/>
                        <validador id="REGRA_CST_ICMS_CAMPOS_ICMS" tipo="2" campoMsg="CST_ICMS"
                                   outrosCamposEnvolvidosValidacao="VL_BC_ICMS;ALIQ_ICMS;VL_ICMS"/>
                        <validador id="REGRA_CST_ICMS_SERVICO" tipo="2" campoMsg="CST_ICMS"/>
                        <!-- Excluída no projeto 1340355 - Setembro / 2017 <validador id="REGRA_CFOP_SAIDA_AMPLO" tipo="2" campoMsg="CFOP"/>-->

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “D390”">
                            <edicao exibir="false"/>
                            <valores-validos valores="D390"/>
                        </campo>
                        <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]"
                               rotulo="CST/ICMS"
                               descricao="Código da Situação Tributária, conforme Tabela Código da Situação Tributária - CST (ICMS)">
                            <valores-validos datasource="CST_ICMS"/>
                        </campo>
                        <campo n="3" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                               descricao="Código Fiscal de Operação e Prestação">
                            <valores-validos datasource="CFOP"/>
                        </campo>
                        <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                               rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                            <edicao componente="105"/>
                            <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                        </campo>
                        <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Valor da operação"
                               descricao="Valor da operação correspondente à combinação de CST/ICMS, CFOP e alíquota do ICMS, incluídas as despesas acessórias e acréscimos">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="6" id="VL_BC_ISSQN" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Base de cálculo do ISSQN" descricao="Valor da base de cálculo do ISSQN">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="7" id="ALIQ_ISSQN" tipo="N" tamanho="6" casasdecimais="2"
                               outros="[obrigatorioSaida=true]" rotulo="Alíquota do ISSQN(%)"
                               descricao="Alíquota do ISSQN">
                            <edicao componente="105"/>
                            <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                        </campo>
                        <campo n="8" id="VL_ISSQN" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Valor do ISSQN" descricao="Valor do ISSQN">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="9" id="VL_BC_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Base de cálculo do ICMS"
                               descricao="Base de cálculo do ICMS acumulada relativa à alíquota informada">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="10" id="VL_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Valor do ICMS" descricao="Valor do ICMS acumulado relativo à alíquota informada">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="11" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0"
                               rotulo="Código observação lançamento"
                               descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                               referenciaPesquisa="0460;COD_OBS">
                            <valores-validos datasource="COD_OBS_0460_SV"/>
                        </campo>
                    </registro>

                </registro>

            </registro>

            <registro id="D400" nivel="2" ocorrencia="2" obrigatorio="2" chave="COD_PART,SER,SUB,NUM_DOC,COD_SIT"
                      outros="[modelos=18;definemodelo=true]" rotulo="Resumo de Movimento Diário">

                <persistencia indices="COD_PART"/>
                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>

                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_INUTILIZADA_A12E1V2"/>
                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_CANCELADA_14001_V1"/>
                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_COMPLEMENTAR_17001_V1"/>
                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_ESP_14001V1"/>

                <edicao>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>

                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                    </painel-botoes>
                    <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_SIT_POR_COD_MOD_17001_V2"
                                             campoObservado="COD_SIT"/>
                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “D400”">
                    <edicao exibir="false"/>
                    <valores-validos valores="D400"/>
                </campo>
                <campo n="2" id="COD_PART" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]"
                       rotulo="Código do participante"
                       descricao="Código do participante (campo 02 do Registro 0150): - agência, filial ou posto"
                       referenciaPesquisa="0150;COD_PART">
                    <valores-validos datasource="COD_PART_0150_SV"/>
                    <edicao x="0" y="1" largura="6"/>
                </campo>
                <campo n="3" id="COD_MOD" tipo="C" tamanho="[2]"
                       outros="[obrigatorioSaida=true;obrigatorioimportacao=true]"
                       rotulo="Código do modelo do documento"
                       descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                    <valores-validos valores="18=Resumo de Movimento Diário"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="4" id="COD_SIT" tipo="N" tamanho="[2]" outros="[obrigatorioSaida=true]"
                       rotulo="Código da situação do documento"
                       descricao="Código da situação do documento fiscal, conforme a Tabela Situação do Documento">
                    <valores-validos datasource="COD_SIT" outros="[codigos=00,01,02,03,06,07,08]"/>
                    <edicao x="0" y="0" largura="6" valorPadrao="00"/>

                </campo>
                <campo n="5" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série"
                       descricao="Série do documento fiscal">
                    <edicao x="1" y="2" largura="1"/>
                </campo>
                <campo n="6" id="SUB" tipo="N" tamanho="3" obrigatorio="0" rotulo="Subsérie"
                       descricao="Subsérie do documento fiscal">
                    <edicao x="2" y="2" largura="1" componente="107"/>
                </campo>
                <campo n="7" id="NUM_DOC" tipo="N" tamanho="6" outros="[obrigatorioSaida=true]"
                       rotulo="Número do documento" descricao="Número do documento fiscal resumo">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="2" largura="1" componente="107"/>
                </campo>
                <campo n="8" id="DT_DOC" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                       rotulo="Data da emissão" descricao="Data da emissão do documento fiscal">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="0" y="3" largura="1" componente="103"/>
                </campo>
                <campo n="9" id="VL_DOC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor total" descricao="Valor total do documento fiscal">
                    <validador id="REGRA_VL_DOC_GRANDE" tipo="1"/>
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="5" largura="1" componente="104"/>
                </campo>
                <campo n="10" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor dos descontos"
                       descricao="Valor acumulado dos descontos">
                    <edicao x="2" y="5" largura="1" componente="104"/>
                </campo>
                <campo n="11" id="VL_SERV" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor da prestação de serviço" descricao="Valor acumulado da prestação de serviço">
                    <edicao x="1" y="5" largura="1" componente="104"/>
                </campo>
                <campo n="12" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Base de cálculo do ICMS" descricao="Valor total da base de cálculo do ICMS">
                    <edicao x="0" y="4" largura="1" componente="104"/>
                </campo>
                <campo n="13" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                       descricao="Valor total do ICMS">
                    <edicao x="1" y="4" largura="1" componente="104"/>
                </campo>
                <campo n="14" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                       descricao="Valor do PIS">
                    <edicao x="0" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="15" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                       descricao="Valor da COFINS">
                    <edicao x="1" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="16" id="COD_CTA" tipo="C" obrigatorio="0" rotulo="Código da conta analítica"
                       descricao="Código da conta analítica contábil debitada/creditada">
                    <edicao x="0" y="7" largura="4"/>
                </campo>

                <registro id="D410" nivel="3" ocorrencia="2" obrigatorio="1"
                          chave="COD_MOD,SER,SUB,NUM_DOC_INI,NUM_DOC_FIN,CST_ICMS,CFOP,ALIQ_ICMS" outros="[modelos=18]"
                          rotulo="Doc. Fiscal" descricao="DOCUMENTOS FISCAIS INFORMADOS">

                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_AMPLO" campoObservado="CFOP"/>
                    </edicao>

                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS_D410" tipo="6"/>
                    <validador id="REGRA_DT_DOC_IGUAL_D400" tipo="6"/>
                    <validador id="REGRA_SER_ZERO" tipo="2" campoMsg="NUM_DOC_INI"
                               outrosCamposEnvolvidosValidacao="SER"/>
                    <validador id="REGRA_CST_ICMS_SERVICO" tipo="2" campoMsg="CST_ICMS"/>
                    <validador id="REGRA_CFOP_SAIDA_AMPLO" tipo="2" campoMsg="CFOP"/>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D410”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D410"/>
                    </campo>
                    <campo n="2" id="COD_MOD" tipo="C" tamanho="2" outros="[obrigatorioSaida=true]"
                           rotulo="Código do modelo do documento"
                           descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                        <valores-validos
                                valores="13=Bilhete de Passagem Rodoviário;14=Bilhete de Passagem Aquaviário;15=Bilhete de Passagem e Nota de Bagagem;16=Bilhete de Passagem Ferroviário"/>
                        <edicao x="0" y="0" largura="6"/>
                    </campo>
                    <campo n="3" id="SER" tipo="C" tamanho="4" outros="[obrigatorioSaida=true]"
                           rotulo="Série do documento fiscal" descricao="Série do documento fiscal">
                        <edicao x="0" y="2" largura="1"/>
                    </campo>
                    <campo n="4" id="SUB" tipo="N" tamanho="3" obrigatorio="0" rotulo="Subsérie do documento fiscal"
                           descricao="Subsérie do documento fiscal">
                        <edicao x="1" y="2" largura="1" componente="107"/>
                    </campo>
                    <campo n="5" id="NUM_DOC_INI" tipo="N" tamanho="6" outros="[obrigatorioSaida=true]"
                           rotulo="Documento fiscal inicial"
                           descricao="Número do documento fiscal inicial (mesmo modelo, série e subsérie)">
                        <edicao x="0" y="1" largura="1" componente="107"/>
                    </campo>
                    <campo n="6" id="NUM_DOC_FIN" tipo="N" tamanho="6" outros="[obrigatorioSaida=true]"
                           rotulo="Documento fiscal final"
                           descricao="Número do documento fiscal final(mesmo modelo, série e subsérie)">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao x="1" y="1" largura="1" componente="107"/>
                    </campo>
                    <campo n="7" id="DT_DOC" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                           rotulo="Data da emissão" descricao="Data da emissão dos documentos fiscais">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                        <edicao x="0" y="5" largura="1" componente="103"/>
                    </campo>
                    <campo n="8" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária, conforme Tabela Código da Situação Tributária - CST (ICMS)">
                        <valores-validos datasource="CST_ICMS"/>
                        <edicao x="0" y="3" largura="6"/>
                    </campo>
                    <campo n="9" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                        <edicao x="0" y="4" largura="6"/>
                    </campo>
                    <campo n="10" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao x="0" y="6" largura="1" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="11" id="VL_OPR" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor da operação"
                           descricao="Valor total acumulado das operações correspondentes à combinação de CST/ICMS, CFOP e alíquota do ICMS, incluídas as despesas acessórias e acréscimos">
                        <edicao x="0" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="12" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor dos descontos"
                           descricao="Valor acumulado dos descontos">
                        <edicao x="2" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="13" id="VL_SERV" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor da prestação de serviço" descricao="Valor acumulado da prestação de serviço">
                        <edicao x="1" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="14" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo do ICMS" descricao="Valor acumulado da base de cálculo do ICMS">
                        <edicao x="1" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="15" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                           descricao="Valor acumulado do ICMS">
                        <edicao x="2" y="6" largura="1" componente="104"/>
                    </campo>

                    <registro id="D411" nivel="4" ocorrencia="2" obrigatorio="0" outros="[modelos=18]"
                              rotulo="Documentos Cancelados">

                        <validador id="REGRA_EXISTE_INTERVALO_NUM_DOC_CANC" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “D411”">
                            <edicao exibir="false"/>
                            <valores-validos valores="D411"/>
                        </campo>
                        <campo n="2" id="NUM_DOC_CANC" tipo="N" tamanho="6" outros="[obrigatorioSaida=true]"
                               rotulo="Número do doc cancelado" descricao="Número do documento fiscal cancelado">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao componente="107"/>
                        </campo>
                    </registro>

                </registro>

                <registro id="D420" nivel="3" ocorrencia="2" obrigatorio="2" outros="[modelos=18]" rotulo="Complemento"
                          descricao="COMPLEMENTO DOS DOCUMENTOS INFORMADOS">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D420”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D420"/>
                    </campo>
                    <campo n="2" id="COD_MUN_ORIG" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                           rotulo="Código do município de origem"
                           descricao="Código do município de origem do serviço, conforme a tabela IBGE">
                        <valores-validos datasource="COD_MUN"/>
                        <edicao x="0" y="0" largura="4"/>
                    </campo>
                    <campo n="3" id="VL_SERV" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor da prestação de serviço" descricao="Valor total da prestação de serviço">
                        <edicao x="0" y="2" largura="1" componente="104"/>
                    </campo>
                    <campo n="4" id="VL_BC_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base de cálculo do ICMS" descricao="Valor total da base de cálculo do ICMS">
                        <edicao x="0" y="1" largura="1" componente="104"/>
                    </campo>
                    <campo n="5" id="VL_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do ICMS" descricao="Valor total do ICMS">
                        <edicao x="1" y="1" largura="1" componente="104"/>
                    </campo>
                </registro>

            </registro>

            <registro id="D500" nivel="2" ocorrencia="2" obrigatorio="2"
                      chave="IND_OPER,IND_EMIT,COD_PART,COD_MOD,SER,NUM_DOC,DT_DOC"
                      outros="[modelos=21,22;defineoperacao=true;definemodelo=true]"
                      rotulo="NF de Comunicação e de Telecomunicação">

                <persistencia indices="COD_PART;COD_INF"/>

                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <validador id="REGRA_EXISTE_COD_INF_V2" tipo="6"/>
                <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_A_P" tipo="2" campoMsg="DT_A_P"/>
                <validador id="REGRA_COERENCIA_CFOP_D510" tipo="6"/>
                <validador id="REGRA_DOCUMENTO_NORMAL_DT_AP" tipo="2" campoMsg="COD_SIT"
                           outrosCamposEnvolvidosValidacao="IND_OPER;DT_A_P;DT_DOC"/>
                <validador id="REGRA_DOCUMENTO_EXTEMPORANEO_DT_A_P" tipo="2" campoMsg="COD_SIT"
                           outrosCamposEnvolvidosValidacao="IND_OPER;DT_A_P;DT_DOC"/>
                <validador id="REGRA_CANCELA_DOC_TERCEIRO" tipo="2" campoMsg="COD_SIT"
                           outrosCamposEnvolvidosValidacao="IND_EMIT;IND_OPER"/>

                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_INUTILIZADA_A12E1V2"/>
                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_CANCELADA_14001_V1"/>
                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_ESP_14001V1"/>

                <edicao>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>

                    <painel-registro>
                        <botao id="BOTAO_ABRIR_CADASTRO_ITENS" texto="Cadastrar Itens"
                               tooltip="Abre a tela de cadastro dos Itens da Nota Fiscal"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionAbrirCadastroDeItens"
                               x="0" y="0" largura="1" insets="10,10,10,10"/>
                    </painel-registro>

                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_GERAR_REGISTRO_ANALITICO" icone="/icones/analitico.gif"
                               tooltip="Gerar Registros Analíticos"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.gerarregistros.action.ActionGerarRegistrosAnaliticosDeUmRegistro"
                               x="0" y="40"/>
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                    </painel-botoes>
                    <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_SIT_POR_COD_MOD_17001_V2"
                                             campoObservado="COD_SIT"/>
                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “D500”">
                    <edicao exibir="false"/>
                    <valores-validos valores="D500"/>
                </campo>
                <campo n="2" id="IND_OPER" tipo="C" tamanho="1" obrigatorio="1" rotulo="Tipo de operação"
                       descricao="Indicador do tipo de operação" outros="[obrigatorioimportacao=true]">
                    <valores-validos valores="0=Entrada;1=Saída"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="IND_EMIT" tipo="C" tamanho="1" obrigatorio="1" rotulo="Emitente"
                       descricao="Indicador do emitente do documento fiscal">
                    <valores-validos valores="0=Emissão própria;1=Terceiros"/>
                    <edicao x="0" y="1" largura="6"/>
                </campo>
                <campo n="4" id="COD_PART" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do participante"
                       descricao="Código do participante (campo 02 do Registro 0150): - do prestador do serviço, no caso de aquisição; - do tomador do serviço, no caso de prestação"
                       referenciaPesquisa="0150;COD_PART">
                    <valores-validos datasource="COD_PART_0150_SV"/>
                    <edicao x="0" y="2" largura="6"/>
                </campo>
                <campo n="5" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="Código do modelo do documento"
                       descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS"
                       outros="[obrigatorioimportacao=true]">
                    <valores-validos
                            valores="21=Nota Fiscal de Serviço de Comunicação;22=Nota Fiscal de Serviço de Telecomunicação"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="6" id="COD_SIT" tipo="N" tamanho="[2]" obrigatorio="1"
                       rotulo="Código da situação do documento"
                       descricao="Código da situação do documento fiscal, conforme a Tabela Situação do Documento">
                    <valores-validos datasource="COD_SIT" outros="[codigos=00,01,02,03,06,07,08]"/>
                    <edicao x="0" y="0" largura="6" valorPadrao="00"/>

                </campo>
                <campo n="7" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série"
                       descricao="Série do documento fiscal">
                    <edicao x="1" y="3" largura="1"/>
                </campo>
                <campo n="8" id="SUB" tipo="C" tamanho="3" obrigatorio="0" rotulo="Subsérie"
                       descricao="Subsérie do documento fiscal">
                    <edicao x="2" y="3" largura="1"/>
                </campo>
                <campo n="9" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número do documento"
                       descricao="Número do documento fiscal">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="3" largura="1" componente="107"/>
                </campo>
                <campo n="10" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                       descricao="Data da emissão do documento fiscal">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="0" y="4" largura="1" componente="103"/>
                </campo>
                <campo n="11" id="DT_A_P" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da entrada/saída"
                       descricao="Data da entrada (aquisição) ou da saída (prestação do serviço)">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="1" y="4" largura="1" componente="103"/>
                </campo>
                <campo n="12" id="VL_DOC" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do documento fiscal"
                       descricao="Valor total do documento fiscal">
                    <validador id="REGRA_VL_DOC_GRANDE" tipo="1"/>
                    <validador id="REGRA_MAIOR_IGUAL_ZERO" tipo="1"/>
                    <edicao x="0" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="13" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor total do desconto"
                       descricao="Valor total do desconto">
                    <edicao x="2" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="14" id="VL_SERV" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor da prestação de serviços" descricao="Valor da prestação de serviços">
                    <edicao x="1" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="15" id="VL_SERV_NT" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor não-tributados pelo ICMS"
                       descricao="Valor total dos serviços não-tributados pelo ICMS">
                    <edicao x="0" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="16" id="VL_TERC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valores cobrados para terceiros" descricao="Valores cobrados em nome de terceiros">
                    <edicao x="1" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="17" id="VL_DA" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor de outras despesas"
                       descricao="Valor de outras despesas indicadas no documento fiscal">
                    <edicao x="2" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="18" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Base de cálculo do ICMS" descricao="Valor da base de cálculo do ICMS">
                    <edicao x="0" y="5" largura="1" componente="104"/>
                </campo>
                <campo n="19" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                       descricao="Valor do ICMS">
                    <edicao x="1" y="5" largura="1" componente="104"/>
                </campo>
                <campo n="20" id="COD_INF" tipo="C" tamanho="6" obrigatorio="0"
                       rotulo="Código inf complementar (doc fiscal)"
                       descricao="Código da informação complementar (campo 02 do Registro 0450)"
                       referenciaPesquisa="0450;COD_INF">
                    <valores-validos datasource="COD_INF_0450_SV"/>
                    <edicao x="0" y="9" largura="6"/>
                </campo>
                <campo n="21" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                       descricao="Valor do PIS">
                    <edicao x="0" y="8" largura="1" componente="104"/>
                </campo>
                <campo n="22" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                       descricao="Valor da COFINS">
                    <edicao x="1" y="8" largura="1" componente="104"/>
                </campo>
                <campo n="23" id="COD_CTA" tipo="C" obrigatorio="0" rotulo="Código da conta analítica"
                       descricao="Código da conta analítica contábil debitada/creditada">
                    <edicao x="0" y="10" largura="6"/>
                </campo>
                <campo n="24" id="TP_ASSINANTE" tipo="N" tamanho="[1]" outros="[obrigatorioSaida=true]"
                       rotulo="Código do Tipo de Assinante" descricao="Código do Tipo de Assinante">
                    <valores-validos
                            valores="1=Comercial/Industrial;2=Poder Público;3=Residencial/Pessoa física;4=Público;5=Semi-Público;6=Outros"/>
                    <edicao x="0" y="11" largura="6"/>
                </campo>

                <registro id="D510" nivel="3" ocorrencia="2" obrigatorio="2" chave="NUM_ITEM" outros="[modelos=21,22]"
                          rotulo="Itens">

                    <persistencia indices="COD_ITEM;COD_PART;UNID"/>
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                    <validador id="REGRA_CFOP_D500" tipo="6"/>
                    <validador id="REGRA_CAMPOS_IND_REC" tipo="2" campoMsg="IND_REC"
                               outrosCamposEnvolvidosValidacao="VL_BC_ICMS;ALIQ_ICMS;VL_ICMS"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS_D510" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_SERVICO" tipo="2" campoMsg="CST_ICMS"/>

                    <edicao>

                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP" campoObservado="CFOP"/>


                        <painel-botoes exibirBotaoExcluir="false">
                            <botao id="BOTAO_EXCLUIR_COM_REGISTROS_ANALITICOS" icone="/icones/cadastro_menos.gif"
                                   tooltip="Excluir"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionExcluirRegistroeGerarAnaliticos"
                                   x="0" y="20"/>
                        </painel-botoes>

                        <painel-registro exibirBotaoSalvar="false">
                            <botao id="BOTAO_NOVOS_ITENS" texto="Novo" tooltip="Abre um novo item para inserção"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirNovoItem"
                                   x="0" y="0" largura="1"/>
                            <botao id="BOTAO_SALVAR_COM_REGISTROS_ANALITICOS" texto="Salvar" tooltip="Salvar Registro"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionSalvarRegistroeGerarAnaliticos"
                                   x="1" y="0" largura="1" insets="10,10,10,10"/>
                        </painel-registro>
                    </edicao>


                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D510”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D510"/>
                    </campo>
                    <campo n="2" id="NUM_ITEM" tipo="N" tamanho="3" outros="[obrigatorioSaida=true]"
                           rotulo="Número seqüencial do item" descricao="Número seqüencial do item no documento fiscal">
                        <edicao x="0" y="0" largura="1" componente="107"/>
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]"
                           rotulo="Código do item" descricao="Código do item (campo 02 do Registro 0200)"
                           referenciaPesquisa="0200;COD_ITEM">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="COD_CLASS" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]"
                           rotulo="Código de classificação"
                           descricao="Código de classificação do item do serviço de comunicação ou de telecomunicação, conforme a Tabela Classificação de Itens de Energia Elétrica, Serviços de Comunicação e Telecomunicação">
                        <valores-validos datasource="COD_CLASS"/>
                        <edicao x="0" y="2" largura="6"/>
                    </campo>
                    <campo n="5" id="QTD" tipo="N" casasdecimais="3" outros="[obrigatorioSaida=true]"
                           rotulo="Quantidade do item" descricao="Quantidade do item">
                        <edicao x="0" y="6" largura="1" componente="106"/>
                    </campo>
                    <campo n="6" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]"
                           rotulo="Unidade do item" descricao="Unidade do item (Campo 02 do registro 0190)">
                        <valores-validos datasource="UNID_0190_SV"/>
                        <edicao x="0" y="5" largura="6"/>
                    </campo>
                    <campo n="7" id="VL_ITEM" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do item" descricao="Valor do item">
                        <edicao x="1" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="8" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor total do desconto" descricao="Valor total do desconto">
                        <edicao x="2" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="9" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária, conforme Tabela Código da Situação Tributária - CST (ICMS)">
                        <valores-validos datasource="CST_ICMS"/>
                        <edicao x="0" y="3" largura="6"/>
                    </campo>
                    <campo n="10" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                        <edicao x="0" y="4" largura="6"/>
                    </campo>
                    <campo n="11" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo do ICMS" descricao="Valor da base de cálculo do ICMS">
                        <edicao x="1" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="12" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao x="0" y="7" largura="1" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="13" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                           descricao="Valor do ICMS creditado/debitado">
                        <edicao x="2" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="14" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo do ICMS de outras UFs"
                           descricao="Valor da base de cálculo do ICMS de outras UFs">
                        <edicao x="0" y="8" largura="1" componente="104"/>
                    </campo>
                    <campo n="15" id="VL_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor do ICMS retido por outras UFs" descricao="Valor do ICMS retido outras UFs">
                        <edicao x="1" y="8" largura="1" componente="104"/>
                    </campo>
                    <campo n="16" id="IND_REC" tipo="C" tamanho="1" outros="[obrigatorioSaida=true]"
                           rotulo="Tipo de receita" descricao="Indicador do tipo de receita">
                        <valores-validos
                                valores="0=Receita própria - serviços prestados;1=Receita própria - cobrança de débitos;2=Receita própria - venda de mercadorias;3=Receita própria - venda de serviço pré-pago;4=Outras receitas próprias;5=Receitas de terceiros (co-faturamento);9=Outras receitas de terceiros"/>
                        <edicao x="0" y="9" largura="6"/>
                    </campo>
                    <campo n="17" id="COD_PART" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do participante"
                           descricao="Código do participante (campo 02 do Registro 0150) receptor da receita, terceiro da operação, se houver"
                           referenciaPesquisa="0150;COD_PART">
                        <valores-validos datasource="COD_PART_0150_SV"/>
                        <edicao x="0" y="10" largura="6"/>
                    </campo>
                    <campo n="18" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                           descricao="Valor do PIS">
                        <edicao x="0" y="11" largura="1" componente="104"/>
                    </campo>
                    <campo n="19" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                           descricao="Valor da COFINS">
                        <edicao x="1" y="11" largura="1" componente="104"/>
                    </campo>
                    <campo n="20" id="COD_CTA" tipo="C" obrigatorio="0" rotulo="Código da conta analítica"
                           descricao="Código da conta analítica contábil debitada/creditada">
                        <edicao x="0" y="12" largura="1"/>
                    </campo>
                </registro>

                <registro id="D530" nivel="3" ocorrencia="2" obrigatorio="2" outros="[modelos=21,22]"
                          rotulo="Terminal Faturado">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                    <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_INI_SERV" tipo="2" campoMsg="DT_INI_SERV"/>
                    <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_FIN_SERV" tipo="2" campoMsg="DT_FIN_SERV"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D530”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D530"/>
                    </campo>
                    <campo n="2" id="IND_SERV" tipo="C" tamanho="1" outros="[obrigatorioSaida=true]"
                           rotulo="Tipo de serviço prestado" descricao="Indicador do tipo de serviço prestado">
                        <valores-validos
                                valores="0=Telefonia;1=Comunicação de dados;2=TV por assinatura;3=Provimento de acesso à Internet;4=Multimídia;9=Outros"/>
                        <edicao x="0" y="0" largura="6"/>
                    </campo>
                    <campo n="3" id="DT_INI_SERV" tipo="D" tamanho="[8]" obrigatorio="0"
                           rotulo="Data de inicio da prestação"
                           descricao="Data em que se iniciou a prestação do serviço">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                        <edicao x="0" y="1" largura="1" componente="103"/>
                    </campo>
                    <campo n="4" id="DT_FIN_SERV" tipo="D" tamanho="[8]" obrigatorio="0"
                           rotulo="Data final da prestação" descricao="Data em que se encerrou a prestação do serviço">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                        <edicao x="1" y="1" largura="1" componente="103"/>
                    </campo>
                    <campo n="5" id="PER_FISCAL" tipo="N" tamanho="[6]" outros="[obrigatorioSaida=true]"
                           rotulo="Período fiscal da prestação (MMAAAA)"
                           descricao="Período fiscal da prestação do serviço (MMAAAA)">
                        <edicao x="2" y="1" largura="1" componente="116"/>
                    </campo>
                    <campo n="6" id="COD_AREA" tipo="C" obrigatorio="0" rotulo="Código de área do terminal"
                           descricao="Código de área do terminal faturado">
                        <edicao x="0" y="2" largura="1"/>
                    </campo>
                    <campo n="7" id="TERMINAL" tipo="N" obrigatorio="0" rotulo="Identificação do terminal"
                           descricao="Identificação do terminal faturado">
                        <edicao x="1" y="2" largura="1" componente="107"/>
                    </campo>
                </registro>

                <registro id="D590" nivel="3" ocorrencia="2" obrigatorio="2" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=21,22]" rotulo="Registro Analítico">

                    <persistencia indices="COD_OBS"/>

                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP" campoObservado="CFOP"/>
                    </edicao>

                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>

                    <validador id="REGRA_CFOP_D500" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <validador id="REGRA_VL_ICMS_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_VL_ICMS_ST_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_VL_BC_ICMS_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_VL_BC_ICMS_ST_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS_D590" tipo="6"/>
                    <validador id="REGRA_CHAVE_EXISTE_NO_REGISTRO_ITEM_A8E1V1" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_RED_BC_COM_COD_SIT_D590" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_SERVICO" tipo="2" campoMsg="CST_ICMS"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D590”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D590"/>
                    </campo>
                    <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" obrigatorio="1" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária, conforme Tabela Código da Situação Tributária - CST (ICMS)">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="3" id="CFOP" tipo="N" tamanho="[4]" obrigatorio="1" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor da operação"
                           descricao="Valor da operação correspondente à combinação de CST/ICMS, CFOP e alíquota do ICMS, incluídas as despesas acessórias e acréscimos">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Base de cálculo do ICMS"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ICMS"
                           descricao="Parcela correspondente ao “Valor do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Base de cálculo do ICMS de outras UFs"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ICMS” de outras UFs referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="VL_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor do ICMS de outras UFs"
                           descricao="Parcela correspondente ao valor creditado/debitado do ICMS de outras UFs, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="10" id="VL_RED_BC" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor não tributado base ICMS"
                           descricao="Valor não tributado em função da redução da base de cálculo do ICMS, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="11" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0"
                           rotulo="Código observação lançamento"
                           descricao="Código da observação (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>
                </registro>

            </registro>

            <registro id="D600" nivel="2" ocorrencia="2" obrigatorio="2" chave="COD_MOD,COD_MUN,SER,SUB,COD_CONS,DT_DOC"
                      outros="[modelos=21,22;definemodelo=true]"
                      rotulo="NF de Comunicação e de Telecomunicação - Consolidadas">
                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                <edicao>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>

                    <painel-registro>
                        <botao id="BOTAO_ABRIR_CADASTRO_ITENS" texto="Cadastrar Itens"
                               tooltip="Abre a tela de cadastro dos Itens da Nota Fiscal"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionAbrirCadastroDeItens"
                               x="0" y="0" largura="1" insets="10,10,10,10"/>
                    </painel-registro>

                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                        <botao id="BOTAO_GERAR_REGISTRO_ANALITICO" icone="/icones/analitico.gif"
                               tooltip="Gerar Registros Analíticos"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.gerarregistros.action.ActionGerarRegistrosAnaliticosDeUmRegistro"
                               x="0" y="40"/>
                    </painel-botoes>
                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “D600”">
                    <edicao exibir="false"/>
                    <valores-validos valores="D600"/>
                </campo>
                <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]"
                       outros="[obrigatorioSaida=true;obrigatorioimportacao=true]"
                       rotulo="Código do modelo do documento"
                       descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                    <valores-validos
                            valores="21=Nota Fiscal de Serviço de Comunicação;22=Nota Fiscal de Serviço de Telecomunicação"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="COD_MUN" tipo="N" tamanho="[7]" outros="[obrigatorioSaida=true]"
                       rotulo="Código do município"
                       descricao="Código do município dos terminais faturados, conforme a tabela IBGE">
                    <valores-validos datasource="COD_MUN"/>
                    <edicao x="0" y="0" largura="6"/>
                </campo>
                <campo n="4" id="SER" tipo="C" tamanho="4" outros="[obrigatorioSaida=true]"
                       rotulo="Série do documento fiscal" descricao="Série do documento fiscal">
                    <edicao x="0" y="1" largura="1"/>
                </campo>
                <campo n="5" id="SUB" tipo="N" tamanho="3" obrigatorio="0" rotulo="Subsérie do documento fiscal"
                       descricao="Subsérie do documento fiscal">
                    <edicao x="1" y="1" largura="1" componente="107"/>
                </campo>
                <campo n="6" id="COD_CONS" tipo="N" tamanho="[2]" outros="[obrigatorioSaida=true]"
                       rotulo="Código de classe de consumo"
                       descricao="Código de classe de consumo dos serviços de comunicação ou de telecomunicação, conforme a Tabela Classes de Consumo dos Serviços de Comunicação e Telecomunicação">
                    <valores-validos datasource="COD_CONS"/>
                    <edicao x="0" y="2" largura="6"/>
                </campo>
                <campo n="7" id="QTD_CONS" tipo="N" outros="[obrigatorioSaida=true]"
                       rotulo="Quantidade doc consolidados"
                       descricao="Quantidade de documentos consolidados neste registro">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="3" largura="1" componente="107"/>
                </campo>
                <campo n="8" id="DT_DOC" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                       rotulo="Data dos documentos" descricao="Data dos documentos consolidados">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="1" y="3" largura="1" componente="103"/>
                </campo>
                <campo n="9" id="VL_DOC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor total dos doc fiscais" descricao="Valor total acumulado dos documentos fiscais">
                    <validador id="REGRA_VL_DOC_GRANDE" tipo="1"/>
                    <edicao x="0" y="5" largura="1" componente="104"/>
                </campo>
                <campo n="10" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor dos descontos"
                       descricao="Valor acumulado dos descontos">
                    <edicao x="2" y="5" largura="1" componente="104"/>
                </campo>
                <campo n="11" id="VL_SERV" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                       rotulo="Valor tributado pelo ICMS"
                       descricao="Valor acumulado das prestações de serviços tributadas pelo ICMS">
                    <edicao x="1" y="5" largura="1" componente="104"/>
                </campo>
                <campo n="12" id="VL_SERV_NT" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor não-tributado pelo ICMS"
                       descricao="Valor acumulado dos serviços não-tributados pelo ICMS">
                    <edicao x="0" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="13" id="VL_TERC" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valores cobrados para terceiros" descricao="Valores cobrados em nome de terceiros">
                    <edicao x="1" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="14" id="VL_DA" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor despesas acessórias"
                       descricao="Valor acumulado das despesas acessórias">
                    <edicao x="2" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="15" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Base de cálculo do ICMS" descricao="Valor acumulado da base de cálculo do ICMS">
                    <edicao x="0" y="4" largura="1" componente="104"/>
                </campo>
                <campo n="16" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                       descricao="Valor acumulado do ICMS">
                    <edicao x="1" y="4" largura="1" componente="104"/>
                </campo>
                <campo n="17" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                       descricao="Valor do PIS">
                    <edicao x="0" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="18" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                       descricao="Valor da COFINS">
                    <edicao x="1" y="7" largura="1" componente="104"/>
                </campo>

                <registro id="D610" nivel="3" ocorrencia="2" obrigatorio="1" chave="COD_ITEM,CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=21,22]" rotulo="Itens">

                    <persistencia indices="UNID"/>
                    <validador id="REGRA_CFOP_SAIDA_AMPLO" tipo="2" campoMsg="CFOP"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS" tipo="2" campoMsg="CST_ICMS"
                               outrosCamposEnvolvidosValidacao="VL_BC_ICMS;ALIQ_ICMS;VL_ICMS"/>
                    <validador id="REGRA_CST_ICMS_SERVICO" tipo="2" campoMsg="CST_ICMS"/>

                    <edicao>

                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_AMPLO" campoObservado="CFOP"/>

                        <painel-botoes exibirBotaoExcluir="false">
                            <botao id="BOTAO_EXCLUIR_COM_REGISTROS_ANALITICOS" icone="/icones/cadastro_menos.gif"
                                   tooltip="Excluir"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionExcluirRegistroeGerarAnaliticos"
                                   x="0" y="20"/>
                        </painel-botoes>

                        <painel-registro exibirBotaoSalvar="false">
                            <botao id="BOTAO_NOVOS_ITENS" texto="Novo" tooltip="Abre um novo item para inserção"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirNovoItem"
                                   x="0" y="0" largura="1"/>
                            <botao id="BOTAO_SALVAR_COM_REGISTROS_ANALITICOS" texto="Salvar" tooltip="Salvar Registro"
                                   action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionSalvarRegistroeGerarAnaliticos"
                                   x="1" y="0" largura="1" insets="10,10,10,10"/>
                        </painel-registro>
                    </edicao>


                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D610”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D610"/>
                    </campo>
                    <campo n="2" id="COD_CLASS" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]"
                           rotulo="Código de classificação"
                           descricao="Código de classificação do item do serviço de comunicação ou de telecomunicação, conforme a Tabela Classificação de Itens de Energia Elétrica, Serviços de Comunicação e Telecomunicação">
                        <valores-validos datasource="COD_CLASS"/>
                        <edicao x="0" y="0" largura="6"/>
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" outros="[obrigatorioSaida=true]"
                           rotulo="Código do item" descricao="Código do item (campo 02 do Registro 0200)"
                           referenciaPesquisa="0200;COD_ITEM">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="QTD" tipo="N" casasdecimais="3" outros="[obrigatorioSaida=true]"
                           rotulo="Quantidade do item" descricao="Quantidade acumulada do item">
                        <edicao x="0" y="6" largura="1" componente="106"/>
                    </campo>
                    <campo n="5" id="UNID" tipo="C" tamanho="6" outros="[obrigatorioSaida=true]"
                           rotulo="Unidade do item" descricao="Unidade do item (Campo 02 do registro 0190)">
                        <valores-validos datasource="UNID_0190_SV"/>
                        <edicao x="0" y="5" largura="6"/>
                    </campo>
                    <campo n="6" id="VL_ITEM" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do item" descricao="Valor acumulado do item">
                        <edicao x="1" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="7" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor dos descontos"
                           descricao="Valor acumulado dos descontos">
                        <edicao x="2" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="8" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária referente ao ICMS">
                        <valores-validos datasource="CST_ICMS"/>
                        <edicao x="0" y="2" largura="6"/>
                    </campo>
                    <campo n="9" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                        <edicao x="0" y="3" largura="6"/>
                    </campo>
                    <campo n="10" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao x="0" y="4" largura="1" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="11" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo do ICMS" descricao="Valor acumulado da base de cálculo do ICMS">
                        <edicao x="0" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="12" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                           descricao="Valor acumulado do ICMS debitado">
                        <edicao x="2" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="13" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Base de cálculo do ICMS de outras UFs"
                           descricao="Valor da base de cálculo do ICMS de outras UFs">
                        <edicao x="0" y="8" largura="1" componente="104"/>
                    </campo>
                    <campo n="14" id="VL_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor do ICMS retido por de outras UFs"
                           descricao="Valor do ICMS retido por de outras UFs">
                        <edicao x="1" y="8" largura="1" componente="104"/>
                    </campo>
                    <campo n="15" id="VL_RED_BC" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor não tributado base ICMS"
                           descricao="Valor não tributado em função da redução da base de cálculo do ICMS, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao x="1" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="16" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                           descricao="Valor acumulado do PIS">
                        <edicao x="0" y="9" largura="1" componente="104"/>
                    </campo>
                    <campo n="17" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                           descricao="Valor acumulado da COFINS">
                        <edicao x="1" y="9" largura="1" componente="104"/>
                    </campo>
                    <campo n="18" id="COD_CTA" tipo="C" obrigatorio="0" rotulo="Código da conta analítica"
                           descricao="Código da conta analítica contábil debitada/creditada">
                        <edicao x="0" y="10" largura="4"/>
                    </campo>
                </registro>

                <registro id="D690" nivel="3" ocorrencia="2" obrigatorio="1" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=21,22]" rotulo="Registro Analítico">

                    <persistencia indices="COD_OBS"/>

                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_AMPLO" campoObservado="CFOP"/>
                    </edicao>
                    <validador id="REGRA_CFOP_SAIDA_AMPLO" tipo="2" campoMsg="CFOP"/>
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <validador id="REGRA_VL_ICMS_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_VL_ICMS_ST_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_VL_BC_ICMS_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_VL_BC_ICMS_ST_NO_REGISTRO_ITEM" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS" tipo="2" campoMsg="CST_ICMS"
                               outrosCamposEnvolvidosValidacao="VL_BC_ICMS;ALIQ_ICMS;VL_ICMS"/>
                    <validador id="REGRA_CHAVE_EXISTE_NO_REGISTRO_ITEM_A8E1V1" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_RED_BC" tipo="2" campoMsg="VL_RED_BC"
                               outrosCamposEnvolvidosValidacao="CST_ICMS"/>
                    <validador id="REGRA_CST_ICMS_SERVICO" tipo="2" campoMsg="CST_ICMS"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D690”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D690"/>
                    </campo>
                    <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária referente ao ICMS">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="3" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor da operação"
                           descricao="Valor da operação correspondente à combinação de CST/ICMS, CFOP e alíquota do ICMS, incluídas as despesas acessórias e acréscimos">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base de cálculo do ICMS"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do ICMS"
                           descricao="Parcela correspondente ao “Valor do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base de cálculo do ICMS de outras UFs"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ICMS” de outras UFs referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="VL_ICMS_ST" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do ICMS de outras UFs"
                           descricao="Parcela correspondente ao valor creditado/debitado do ICMS de outras UFs, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="10" id="VL_RED_BC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor não tributado base ICMS"
                           descricao="Valor não tributado em função da redução da base de cálculo do ICMS, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="11" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0"
                           rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>
                </registro>

            </registro>

            <registro id="D695" nivel="2" ocorrencia="2" obrigatorio="2" chave="COD_MOD,SER,NRO_ORD_INI,NRO_ORD_FIN"
                      outros="[modelos=21,22;definemodelo=true;naousachavenaduplicidade=true]"
                      rotulo="NF Comunicação e Telecomunicação Consolidada - Convênio 115">

                <persistencia indices="SER;NRO_ORD_INI;NRO_ORD_FIN"/>

                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_15001_V1"/>
                <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_D695_A13E1V2" tipo="6"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC_INI" tipo="2" campoMsg="DT_DOC_INI"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC_FIN" tipo="2" campoMsg="DT_DOC_FIN"/>

                <edicao>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>

                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                    </painel-botoes>
                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “D695”">
                    <edicao exibir="false"/>
                    <valores-validos valores="D695"/>
                </campo>
                <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]"
                       outros="[obrigatorioSaida=true;obrigatorioimportacao=true]"
                       rotulo="Código do modelo do documento"
                       descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                    <valores-validos
                            valores="21=Nota Fiscal de Serviço de Comunicação;22=Nota Fiscal de Serviço de Telecomunicação"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="SER" tipo="C" tamanho="4" outros="[obrigatorioSaida=true]"
                       rotulo="Série do documento fiscal" descricao="Série do documento fiscal">
                    <edicao x="0" y="0" largura="1"/>
                </campo>
                <campo n="4" id="NRO_ORD_INI" tipo="N" tamanho="9" outros="[obrigatorioSaida=true]"
                       rotulo="Documento fiscal inicial" descricao="Número de ordem inicial">
                    <edicao x="0" y="1" largura="1" componente="107"/>
                </campo>
                <campo n="5" id="NRO_ORD_FIN" tipo="N" tamanho="9" outros="[obrigatorioSaida=true]"
                       rotulo="Documento fiscal final" descricao="Número de ordem final">
                    <edicao x="1" y="1" largura="1" componente="107"/>
                </campo>
                <campo n="6" id="DT_DOC_INI" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                       rotulo="Data de emissão inicial" descricao="Data de emissão inicial dos documentos">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="0" y="2" largura="1" componente="103"/>
                </campo>
                <campo n="7" id="DT_DOC_FIN" tipo="D" tamanho="[8]" outros="[obrigatorioSaida=true]"
                       rotulo="Data de emissão final" descricao="Data de emissão final dos documentos">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="1" y="2" largura="1" componente="103"/>
                </campo>
                <campo n="8" id="NOM_MEST" tipo="C" tamanho="33" outros="[obrigatorioSaida=true]"
                       rotulo="Nome do arquivo mestre" descricao="Nome do arquivo Mestre de Documento Fiscal">
                    <edicao x="0" y="3" largura="1"/>
                </campo>
                <campo n="9" id="CHV_COD_DIG" tipo="C" tamanho="32" outros="[obrigatorioSaida=true]"
                       rotulo="Chave de codificação digital"
                       descricao="Chave de codificação digital do arquivo mestre de documento fiscal">
                    <edicao x="0" y="4" largura="1"/>
                </campo>

                <registro id="D696" nivel="3" ocorrencia="2" obrigatorio="1" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=21,22]" rotulo="Registro Analítico">

                    <persistencia indices="COD_OBS"/>

                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_AMPLO" campoObservado="CFOP"/>
                    </edicao>

                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS" tipo="2" campoMsg="CST_ICMS"
                               outrosCamposEnvolvidosValidacao="VL_BC_ICMS;ALIQ_ICMS;VL_ICMS"/>
                    <validador id="REGRA_CST_ICMS_RED_BC" tipo="2" campoMsg="VL_RED_BC"
                               outrosCamposEnvolvidosValidacao="CST_ICMS"/>
                    <validador id="REGRA_CST_ICMS_SERVICO" tipo="2" campoMsg="CST_ICMS"/>
                    <validador id="REGRA_CFOP_SAIDA_AMPLO" tipo="2" campoMsg="CFOP"/>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D696”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D696"/>
                    </campo>
                    <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" outros="[obrigatorioSaida=true]" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária referente ao ICMS">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="3" id="CFOP" tipo="N" tamanho="[4]" outros="[obrigatorioSaida=true]" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor da operação"
                           descricao="Valor da operação correspondente à combinação de CST/ICMS, CFOP e alíquota do ICMS, incluídas as despesas acessórias e acréscimos">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base de cálculo do ICMS"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do ICMS"
                           descricao="Parcela correspondente ao “Valor do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Base de cálculo do ICMS de outras UFs"
                           descricao="Valor da base de cálculo do ICMS de outras UFs">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="VL_ICMS_ST" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor do ICMS de outras UFs" descricao="Valor do ICMS retido de outras UFs">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="10" id="VL_RED_BC" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                           rotulo="Valor não-tributado pelo ICMS"
                           descricao="Valor não tributado em função da redução da base de cálculo do ICMS, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="11" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0"
                           rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>

                    <registro id="D697" nivel="4" ocorrencia="2" obrigatorio="0" chave="UF" outros="[modelos=21,22]"
                              rotulo="Registro de Informações de ICMS por UF - TV via Satélite"
                              descricao="Registro de Informações de outras UFs. relativamente aos serviços “não-medidos” de televisão por assinatura via Satélite">
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “D697”">
                            <edicao exibir="false"/>
                            <valores-validos valores="D697"/>
                        </campo>
                        <campo n="2" id="UF" tipo="C" tamanho="[2]" outros="[obrigatorioSaida=true]" rotulo="UF"
                               descricao="Sigla da unidade da federação">
                            <valores-validos datasource="UF_SIGLA_NOME"/>
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="3" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Base de cálculo do ICMS" descricao="Base de cálculo do ICMS">
                            <edicao x="0" y="1" largura="1" componente="104"/>
                        </campo>
                        <campo n="4" id="VL_ICMS_ST" tipo="N" casasdecimais="2" outros="[obrigatorioSaida=true]"
                               rotulo="Valor do ICMS" descricao="Valor do ICMS">
                            <edicao x="1" y="1" largura="1" componente="104"/>
                        </campo>
                    </registro>

                </registro>

            </registro>
            <registro id="D700" nivel="2" ocorrencia="2" obrigatorio="2"
                      chave="IND_OPER,IND_EMIT,COD_PART,SER,NUM_DOC,DT_DOC"
                      outros="[modelos=62;defineoperacao=true;definemodelo=true]"
                      rotulo="Nota Fiscal Fatura Eletrônica de Serviços de Comunicação – NFCom (CÓDIGO 62):">

                <gravador-sessao id="SESSAO_D700"/>
                <persistencia indices="COD_PART"/>
                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_17002_V1"/>
                <validador id="REGRA_DUPLICIDADE_REGISTRO_IND_OPER_ZERO_D700" tipo="6"/>
                <validador id="REGRA_DUPLICIDADE_REGISTRO_IND_OPER_UM_D700" tipo="6"/>
                <validador id="REGRA_VL_ICMS_D700" tipo="6"/> <!-- REGRA_VL_ICMS_D700 -->
                <validador id="REGRA_VL_BC_ICMS_D700" tipo="6"/> <!-- REGRA_VL_BC_ICMS_D700 -->

                <validador id="REGRA_IND_EMIT" tipo="2" campoMsg="IND_EMIT" outrosCamposEnvolvidosValidacao="IND_OPER"/>
                <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                <validador id="REGRA_EXISTE_COD_INF_V2" tipo="6"/>
                <validador id="REGRA_EXCLUSIVO_DADOS_DOC_REF" tipo="2" campoMsg="HASH_DOC_REF"
                           outrosCamposEnvolvidosValidacao="SER_DOC_REF;NUM_DOC_REF;MES_DOC_REF"/>
                <validador id="REGRA_IND_EMIT" tipo="2" campoMsg="IND_EMIT" outrosCamposEnvolvidosValidacao="IND_OPER"/>
                <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_A_P" tipo="2" campoMsg="DT_A_P"/>

                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_ESP_17002V1"/>
                <modificador-obrigatoriedade id="REGRA_NAO_INFORMAR_COD_PART_E_DT_A_P_D700"/>

                <edicao>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>
                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                    </painel-botoes>
                    <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_SIT_POR_COD_MOD_17001_V2"
                                             campoObservado="COD_SIT"/>
                    <observador-edicao-campo id="OBSERVADOR_HABILITACAO_COD_PART_SAIDA" campoObservado="COD_PART"
                                             camposObservadores="IND_OPER"/>

                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “D700”">
                    <edicao exibir="false"/>
                    <valores-validos valores="D700"/>
                </campo>
                <campo n="2" id="IND_OPER" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Tipo de operação"
                       descricao="Indicador do tipo de operação" outros="[obrigatorioimportacao=true]">
                    <valores-validos valores="0=Aquisição;1=Prestação"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="IND_EMIT" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Emitente"
                       descricao="Indicador do emitente do documento fiscal">
                    <valores-validos valores="0=Emissão própria;1=Terceiros"/>
                    <edicao x="0" y="1" largura="6" valorPadrao="0"/>
                </campo>
                <campo n="4" id="COD_PART" tipo="C" tamanho="60"
                       outros="[obrigatorioSaida=false;obrigatorioEntrada=true]" rotulo="Código do participante"
                       descricao="Código do participante (campo 02 do Registro 0150): - prestador de serviço, no caso de aquisição de serviço"
                       referenciaPesquisa="0150;COD_PART">
                    <valores-validos datasource="COD_PART_0150_SV"/>
                    <validador id="REGRA_NAO_INFORMAR_COD_PART_SAIDA" tipo="1"/>
                    <edicao x="0" y="2" largura="6"/>
                </campo>
                <campo n="5" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="Código do modelo do documento"
                       descricao="Código do modelo do documento fiscal, conforme Tabela 4.1.1">
                    <valores-validos valores="62=NFCom"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="6" id="COD_SIT" tipo="N" tamanho="[2]" obrigatorio="1"
                       rotulo="Código da situação do documento"
                       descricao="Código da situação do documento fiscal, conforme a Tabela 4.1.2">
                    <valores-validos datasource="COD_SIT" outros="[codigos=00,08]"/>
                    <edicao x="0" y="3" largura="6" valorPadrao="00"/>
                </campo>
                <campo n="7" id="SER" tipo="C" tamanho="3" obrigatorio="1" rotulo="Série"
                       descricao="Série do documento fiscal">
                    <edicao x="0" y="4" largura="1"/>
                </campo>
                <campo n="8" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número do documento"
                       descricao="Número do documento fiscal">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="1" y="4" largura="1"/>
                </campo>
                <campo n="9" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da Emissão"
                       descricao="Data da emissão do documento fiscal">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="0" y="5" largura="1" componente="103"/>
                </campo>
                <campo n="10" id="DT_A_P" tipo="D" tamanho="[8]" obrigatorio="0" rotulo="Data aquisição ou prestação"
                       descricao="Data da aquisição ou da prestação do serviço">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <validador id="REGRA_NAO_INFORMAR_COD_PART_SAIDA" tipo="1"/>
                    <edicao x="1" y="5" largura="1" componente="103"/>
                </campo>
                <campo n="11" id="VL_DOC" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor total"
                       descricao="Valor total do documento fiscal">
                    <validador id="REGRA_VALIDA_VL_DOC_DEDUCAO" tipo="1"/>
                    <edicao x="0" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="12" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor desconto"
                       descricao="Valor total do desconto">
                    <edicao x="1" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="13" id="VL_SERV" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor Serviços ICMS"
                       descricao="Valor dos serviços tributados pelo ICMS">
                    <edicao x="0" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="14" id="VL_SERV_NT" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valores Prestador sem ICMS"
                       descricao="Valores cobrados em nome do prestador sem destaque de ICMS">
                    <edicao x="1" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="15" id="VL_TERC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor terceiros"
                       descricao="Valores cobrados em nome de terceiros">
                    <edicao x="0" y="8" largura="1" componente="104"/>
                </campo>
                <campo n="16" id="VL_DA" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor despesas acessórias"
                       descricao="Valor de despesas acessórias indicadas no documento fiscal">
                    <edicao x="1" y="8" largura="1" componente="104"/>
                </campo>
                <campo n="17" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor BC ICMS"
                       descricao="Valor da base de cálculo do ICMS">
                    <edicao x="0" y="9" largura="1" componente="104"/>
                </campo>
                <campo n="18" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS"
                       descricao="Valor do ICMS">
                    <edicao x="1" y="9" largura="1" componente="104"/>
                </campo>
                <campo n="19" id="COD_INF" tipo="C" tamanho="6" obrigatorio="0" rotulo="Cód. informação complementar"
                       descricao="Código da informação complementar do documento fiscal (campo 02 do Registro 0450)"
                       referenciaPesquisa="0450;COD_INF">
                    <valores-validos datasource="COD_INF_0450_SV"/>
                    <edicao x="0" y="11" largura="1"/>
                </campo>
                <campo n="20" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor PIS/PASEP"
                       descricao="Valor do PIS/PASEP">
                    <edicao x="0" y="10" largura="1" componente="104"/>
                </campo>
                <campo n="21" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor COFINS"
                       descricao="Valor total da COFINS">
                    <edicao x="1" y="10" largura="1" componente="104"/>
                </campo>
                <campo n="22" id="CHV_DOCE" tipo="N" tamanho="[44]" obrigatorio="1" rotulo="Chave da NFCom"
                       descricao="Chave da Nota Fiscal Fatura de Serviço de Comunicação Eletrônica">
                    <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="1"/>
                    <validador id="REGRA_COMPARA_CODIGO_MODELO_CAMPO" tipo="1" campoMsg="CHV_DOCE"/>
                    <edicao x="0" y="12" componente="113"/>
                </campo>
                <campo n="23" id="FIN_DOCE" tipo="N" tamanho="[1]" obrigatorio="1" rotulo="Finalidade da emissão"
                       descricao="Finalidade da emissão do documento eletrônico">
                    <valores-validos valores="0=NFCom Normal;3=NFCom de Substituição;4=NFCom de ajuste"/>
                    <edicao x="0" y="13"/>
                </campo>
                <campo n="24" id="TIP_FAT" tipo="N" tamanho="[1]" obrigatorio="1" rotulo="Faturamento"
                       descricao="Tipo de Faturamento do Documento Eletrônico">
                    <valores-validos valores="0=Faturamento Normal;1=Faturamento Centralizado;2=Cofaturamento"/>
                    <edicao x="1" y="11" largura="1"/>
                </campo>
                <campo n="25" id="COD_MOD_DOC_REF" tipo="" tamanho="[2]" obrigatorio="0"
                       rotulo="Código modelo documento referenciado"
                       descricao="Código do modelo do documento fiscal referenciado, conforme a Tabela 4.1.1">
                    <valores-validos
                            valores="62=NFCom;21=Nota Fiscal de Serviço de Comunicação;22=Nota Fiscal de Serviço de Telecomunicação"/>
                    <validador id="REGRA_OBRIGATORIO_COD_MOD_REF" tipo="1" outrosCamposEnvolvidosValidacao="FIN_DOCE"/>
                    <edicao x="0" y="14"/>
                </campo>
                <campo n="26" id="CHV_DOCE_REF" tipo="N" tamanho="[44]" obrigatorio="0"
                       rotulo="Chave da nota referenciada" descricao="Chave da nota referenciada">
                    <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="1"/>
                    <validador id="REGRA_OBRIGATORIO_CHAVE_DOCE_REF_D700" tipo="1"/>
                    <validador id="REGRA_COMPARA_CODIGO_MODELO_CAMPO" tipo="1" campoMsg="CHV_DOCE_REF"/>
                    <edicao x="0" y="15" componente="113"/>
                </campo>
                <campo n="27" id="HASH_DOC_REF" tipo="C" tamanho="32" obrigatorio="0"
                       rotulo="Código autenticação digital"
                       descricao=" Código de autenticação digital do registro (Convênio 115/2003)">
                    <validador id="REGRA_NAO_INFORMAR_CAMPO_DOC_REF_D700" tipo="1"
                               outrosCamposEnvolvidosValidacao="COD_MOD_DOC_REF"/>
                    <edicao x="0" y="16" largura="1"/>
                </campo>
                <campo n="28" id="SER_DOC_REF" tipo="C" tamanho="4" obrigatorio="0"
                       rotulo="Série documento referenciado" descricao="Série do documento fiscal referenciado">
                    <validador id="REGRA_NAO_INFORMAR_CAMPO_DOC_REF_D700" tipo="1"
                               outrosCamposEnvolvidosValidacao="COD_MOD_DOC_REF"/>
                    <edicao x="1" y="16" largura="1"/>
                </campo>
                <campo n="29" id="NUM_DOC_REF" tipo="N" tamanho="9" obrigatorio="0"
                       rotulo="Número do documento referenciado" descricao="Número do documento fiscal referenciado">
                    <validador id="REGRA_NAO_INFORMAR_CAMPO_DOC_REF_D700" tipo="1"
                               outrosCamposEnvolvidosValidacao="COD_MOD_DOC_REF"/>
                    <edicao x="0" y="17" largura="1"/>
                </campo>
                <campo n="30" id="MES_DOC_REF" tipo="N" tamanho="[6]" obrigatorio="0"
                       rotulo="Mês/Ano Emissão documento referenciado"
                       descricao="Mês e ano da emissão do documento fiscal referenciado">
                    <validador id="REGRA_NAO_INFORMAR_CAMPO_DOC_REF_D700" tipo="1"
                               outrosCamposEnvolvidosValidacao="COD_MOD_DOC_REF"/>
                    <edicao x="1" y="18" largura="1" componente="116"/>
                </campo>
                <campo n="31'" id="COD_MUN_DEST" tipo="N" tamanho="[7]"
                       outros="[obrigatorioSaida=true;obrigatorioEntrada=false]"
                       rotulo="Código do Município destinatário"
                       descricao="Código do Município do destinatário conforme a tabela do IBGE">
                    <valores-validos datasource="COD_MUN"/>
                    <edicao x="0" y="19"/>
                </campo>
                <campo n="32'" id="DED" tipo="N" obrigatorio="0" casasdecimais="2" rotulo="Deduções"
                       descricao="Deduções">
                    <edicao x="0" y="20" componente="104"/>
                </campo>

                <registro id="D730" nivel="3" ocorrencia="2" obrigatorio="1" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=62]"
                          rotulo="Registro Analítico Nota Fiscal Fatura Eletrônica de Serviços de Comunicação – NFCom (código 62).">

                    <persistencia indices="CST_ICMS;CFOP;ALIQ_ICMS"/>
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_ENTRADA_SAIDA" campoObservado="CFOP"/>
                    </edicao>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D730”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D730"/>
                    </campo>
                    <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" obrigatorio="1" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária referente ao ICMS">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="3" id="CFOP" tipo="N" tamanho="[4]" obrigatorio="1" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <validador id="REGRA_CFOP_ENTRADA_SAIDA" tipo="1"/>
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor da operação"
                           descricao="Valor da operação correspondente à combinação de CST/ICMS, CFOP e alíquota do ICMS, incluídas as despesas acessórias e acréscimos">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Base de cálculo do ICMS"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ICMS"
                           descricao="Parcela correspondente ao “Valor do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_RED_BC" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor da Redução de Base de Cálculo ICMS"
                           descricao="Valor da Redução de Base de Cálculo ICMS">
                        <validador id="REGRA_VL_RED_BC_NFCOM" tipo="1"/>
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0"
                           rotulo="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>

                    <registro id="D731" nivel="4" ocorrencia="1" obrigatorio="0" outros="[modelos=62]"
                              rotulo=" Registro D731: Informações do Fundo de Combate à Pobreza – FCP – (código 62)"
                              descricao="Registro de Informações de outras UFs. relativamente aos serviços “não-medidos” de televisão por assinatura via Satélite">
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “D731”">
                            <edicao exibir="false"/>
                            <valores-validos valores="D731"/>
                        </campo>
                        <campo n="2" id="VL_FCP_OP" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor do Fundo de Combate à Pobreza (FCP) vinculado à operação própria"
                               descricao="Valor do Fundo de Combate à Pobreza (FCP) vinculado à operação própria, na combinação de CST_ICMS, CFOP e alíquota do ICMS">
                            <edicao componente="104"/>
                        </campo>
                    </registro>

                </registro>
                <registro id="D735" nivel="3" ocorrencia="2" obrigatorio="0" chave="COD_OBS" outros="[modelos=62]"
                          rotulo="Observações do Lançamento Fiscal (código 62)">
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D735”">
                        <edicao exibir="false"/>
                        <valores-validos valores="D735"/>
                    </campo>
                    <campo n="2" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="1"
                           rotulo="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>
                    <campo n="3" id="TXT_COMPL" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                           descricao="Descrição complementar do código de observação">
                    </campo>
                    <registro id="D737" nivel="4" ocorrencia="2" obrigatorio="0" chave="COD_AJ,COD_ITEM"
                              outros="[modelos=62]"
                              rotulo="Outras Obrigações Tributárias, Ajustes e Informações de valores provenientes de documento fiscal"
                              descricao="Outras Obrigações Tributárias, Ajustes e Informações de valores provenientes de documento fiscal">
                        <persistencia indices="COD_ITEM"/>
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “D737”">
                            <edicao exibir="false"/>
                            <valores-validos valores="D737"/>
                        </campo>
                        <campo n="2" id="COD_AJ" tipo="C" tamanho="[10]" obrigatorio="1"
                               rotulo="Código do Ajuste/beneficio/incentivo"
                               descricao="Código do ajuste/benefício/incentivo conforme tabela indicada no item 5.3 ">
                            <edicao x="0" y="1"/>
                            <valores-validos datasource="COD_AJ"/>
                        </campo>
                        <campo n="3" id="DESCR_COMPL_AJ" tipo="C" obrigatorio="0"
                               rotulo="Descrição complementar do ajuste do documento fiscal"
                               descricao="Descrição complementar do ajuste do documento fiscal">
                            <edicao x="0" y="2"/>
                        </campo>
                        <campo n="4" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do item"
                               descricao="Código do item (campo 02 do Registro 0200)"
                               referenciaPesquisa="0200;COD_ITEM">
                            <edicao x="0" y="3"/>
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                        </campo>
                        <campo n="5" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                               rotulo="Base de cálculo do ICMS" descricao="Base de Calculo do ICMS">
                            <edicao x="1" y="4" largura="1" componente="104"/>
                        </campo>
                        <campo n="6" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                               rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                            <edicao x="0" y="4" largura="1" componente="105"/>
                            <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                        </campo>
                        <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor ICMS"
                               descricao="Valor do ICMS">
                            <edicao x="2" y="4" largura="1" componente="104"/>
                        </campo>
                        <campo n="8" id="VL_OUTROS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Outros valores"
                               descricao="Outros valores">
                            <edicao x="0" y="5" largura="1" componente="104"/>
                        </campo>
                    </registro>

                </registro>

            </registro>
            <registro id="D750" nivel="2" ocorrencia="2" obrigatorio="2" chave="COD_MOD,SER,DT_DOC,IND_PREPAGO"
                      outros="[modelos=62;definemodelo=true]"
                      rotulo="Escrituração Consolidada da Nota Fiscal Fatura Eletrônica de Serviços de Comunicação – NFCom (CÓDIGO 62):">
                <edicao>
                    <criador-abas id="CRIADOR_ABAS_POR_MODELO"/>
                    <painel-botoes exibirBotaoIncluir="false">
                        <botao id="BOTAO_INCLUIR_SETANDO_OPERACAO_E_MODELO" icone="/icones/cadastro_mais.gif"
                               tooltip="Incluir Registro"
                               action="br.gov.serpro.sped.fiscalpva.edicao.escrituracao.action.ActionIncluirRegistroComModeloEOperacao"
                               x="0" y="0"/>
                    </painel-botoes>
                </edicao>
                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_17002_V1"/>
                <validador id="REGRA_VALIDA_VL_BC_ICMS_NFCOM" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_ICMS_NFCOM" tipo="6"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “D750">
                    <edicao exibir="false"/>
                    <valores-validos valores="D750"/>
                </campo>
                <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]" habilitadoEdicao="false"
                       rotulo="Código do modelo do documento"
                       descricao="Código do modelo do documento fiscal, conforme Tabela 4.1.1"
                       outros="[obrigatorioSaida=true;obrigatorioEntrada=false]">
                    <!--<campo n="5" id="COD_MOD" tipo="C" tamanho="[2]" habilitadoEdicao="false" obrigatorio="1" rotulo="Código do modelo do documento" descricao="Código do modelo do documento fiscal, conforme a tabela de Codificação dos Documentos" outros="[obrigatorioimportacao=true]">-->
                    <valores-validos valores="62=NFCom"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="3" id="SER" tipo="N" tamanho="3" outros="[obrigatorioSaida=true;obrigatorioEntrada=false]"
                       rotulo="Série" descricao="Série do documento fiscal">
                    <edicao x="0" y="2" largura="1"/>
                </campo>
                <campo n="4" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1"
                       rotulo="Data dos documentos consolidados" descricao="Data dos documentos consolidados">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000" tipo="1"/>
                    <edicao x="1" y="1" largura="1" componente="103"/>
                </campo>
                <campo n="5" id="QTD_CONS" tipo="N" outros="[obrigatorioSaida=true;obrigatorioEntrada=false]"
                       rotulo="Quantidade docs consolidados"
                       descricao="Quantidade de documentos consolidados neste registro">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="1" largura="1" componente="107"/>
                </campo>
                <campo n="6" id="IND_PREPAGO" tipo="N" outros="[obrigatorioSaida=true;obrigatorioEntrada=false]"
                       rotulo="Forma de Pagamento" descricao="Forma de Pagamento">
                    <valores-validos valores="0=Pré-pago;1=Pós-pago"/>
                    <edicao x="1" y="2" largura="1"/>
                </campo>
                <campo n="7" id="VL_DOC" tipo="N" casasdecimais="2"
                       outros="[obrigatorioSaida=true;obrigatorioEntrada=false]"
                       rotulo="Valor total acumulado do documento fiscal"
                       descricao="Valor total acumulado do documento fiscal">
                    <validador id="REGRA_VL_DOC_GRANDE" tipo="1"/>
                    <validador id="REGRA_VALIDA_VL_DOC_DEDUCAO" tipo="1"/>
                    <edicao x="0" y="3" largura="1" componente="104"/>
                </campo>
                <campo n="8" id="VL_SERV" tipo="N" casasdecimais="2"
                       outros="[obrigatorioSaida=true;obrigatorioEntrada=false]"
                       rotulo="Valor dos serviços tributados pelo ICMS"
                       descricao="Valor dos serviços tributados pelo ICMS">
                    <edicao x="0" y="4" largura="1" componente="104"/>
                </campo>
                <campo n="9" id="VL_SERV_NT" tipo="N" casasdecimais="2"
                       outros="[obrigatorioSaida=true;obrigatorioEntrada=false]"
                       rotulo="Valores acumulados não tributados pelo ICMS"
                       descricao="Valores acumulados não tributados pelo ICMS">
                    <edicao x="0" y="5" largura="1" componente="104"/>
                </campo>
                <campo n="10" id="VL_TERC" tipo="N" casasdecimais="2"
                       outros="[obrigatorioSaida=true;obrigatorioEntrada=false]"
                       rotulo="Valores cobrados em nome de terceiros" descricao="Valores cobrados em nome de terceiros">
                    <edicao x="0" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="11" id="VL_DESC" tipo="N" casasdecimais="2"
                       outros="[obrigatorioSaida=true;obrigatorioEntrada=false]" rotulo="Valor total dos descontos"
                       descricao="Valor total dos descontos">
                    <edicao x="0" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="12" id="VL_DA" tipo="N" casasdecimais="2"
                       outros="[obrigatorioSaida=true;obrigatorioEntrada=false]"
                       rotulo="Valor acumulado de despesas acessórias"
                       descricao="Valor acumulado de despesas acessórias">
                    <edicao x="1" y="3" largura="1" componente="104"/>
                </campo>
                <campo n="13" id="VL_BC_ICMS" tipo="N" casasdecimais="2"
                       outros="[obrigatorioSaida=true;obrigatorioEntrada=false]"
                       rotulo="Valor da base de cálculo do ICMS" descricao="Valor da base de cálculo do ICMS">
                    <edicao x="1" y="4" largura="1" componente="104"/>
                </campo>
                <campo n="14" id="VL_ICMS" tipo="N" casasdecimais="2"
                       outros="[obrigatorioSaida=true;obrigatorioEntrada=false]" rotulo="Valor acumulado do ICMS"
                       descricao="Valor acumulado do ICMS">
                    <edicao x="1" y="5" largura="1" componente="104"/>
                </campo>
                <campo n="15" id="VL_PIS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor do PIS/PASEP" descricao="Valor do PIS/PASEP">
                    <edicao x="1" y="6" largura="1" componente="104"/>
                </campo>
                <campo n="16" id="VL_COFINS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                       descricao="Valor total da COFINS">
                    <edicao x="1" y="7" largura="1" componente="104"/>
                </campo>
                <campo n="17'" id="DED" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Deduções"
                       descricao="Deduções">
                    <validador id="REGRA_NAO_INFORMAR_DED_ENTRADA" tipo="1"/>
                    <edicao x="0" y="20" componente="104"/>
                </campo>
                <registro id="D760" nivel="3" ocorrencia="2" obrigatorio="2" chave="CST_ICMS,CFOP,ALIQ_ICMS"
                          outros="[modelos=62]"
                          rotulo="Registro Analítico da Escrituração Consolidada da Nota Fiscal Fatura Eletrônica de Serviços de Comunicação – NFCom (CÓDIGO 62):">
                    <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_17002_V1"/>
                    <validador id="REGRA_CFOP_SAIDA_AMPLO" tipo="2" campoMsg="CFOP"/>
                    <validador id="REGRA_EXISTE_COD_OBS_V2" tipo="6"/>
                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP_AMPLO" campoObservado="CFOP"/>
                    </edicao>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “D760">
                        <edicao exibir="false"/>
                        <valores-validos valores="D760"/>
                    </campo>
                    <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]"
                           outros="[obrigatorioSaida=true;obrigatorioEntrada=false]" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária referente ao ICMS">
                        <valores-validos datasource="CST_ICMS"/>
                    </campo>
                    <campo n="3" id="CFOP" tipo="N" tamanho="[4]"
                           outros="[obrigatorioSaida=true;obrigatorioEntrada=false]" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                    </campo>
                    <campo n="4" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS(%)" descricao="Alíquota do ICMS">
                        <edicao componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="5" id="VL_OPR" tipo="N" casasdecimais="2"
                           outros="[obrigatorioSaida=true;obrigatorioEntrada=false]" rotulo="Valor da operação"
                           descricao="Valor da operação correspondente à combinação de CST/ICMS, CFOP e alíquota do ICMS, incluídas as despesas acessórias e acréscimos">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_BC_ICMS" tipo="N" casasdecimais="2"
                           outros="[obrigatorioSaida=true;obrigatorioEntrada=false]" rotulo="Base de cálculo do ICMS"
                           descricao="Parcela correspondente ao “Valor da base de cálculo do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_ICMS" tipo="N" casasdecimais="2"
                           outros="[obrigatorioSaida=true;obrigatorioEntrada=false]" rotulo="Valor do ICMS"
                           descricao="Parcela correspondente ao “Valor do ICMS” referente à combinação CST/ICMS, CFOP e alíquota do ICMS">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_RED_BC" tipo="N" casasdecimais="2"
                           outros="[obrigatorioSaida=true;obrigatorioEntrada=false]"
                           rotulo="Valor não tributado base ICMS"
                           descricao="Valor não tributado em função da redução da base de cálculo do ICMS, referente à combinação de CST/ICMS, CFOP e alíquota do ICMS">
                        <validador id="REGRA_VL_RED_BC_NFCOM" tipo="1"/>
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="COD_OBS" tipo="C" tamanho="6" obrigatorio="0" rotulo="Código observação lançamento"
                           descricao="Código da observação do lançamento fiscal (campo 02 do Registro 0460)"
                           referenciaPesquisa="0460;COD_OBS">
                        <valores-validos datasource="COD_OBS_0460_SV"/>
                    </campo>
                    <registro id="D761" nivel="4" ocorrencia="1" obrigatorio="2" outros="[modelos=62]"
                              rotulo="Informações do Fundo de Combate à Pobreza – FCP – (código 62)"
                              descricao="Registro D761: Informações do Fundo de Combate à Pobreza – FCP – (código 62)">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_17002_V1"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “D761”">
                            <edicao exibir="false"/>
                            <valores-validos valores="D761"/>
                        </campo>
                        <campo n="2" id="VL_FCP_OP" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor do Fundo de Combate à Pobreza (FCP) vinculado à operação própria"
                               descricao="Valor do Fundo de Combate à Pobreza (FCP) vinculado à operação própria, na combinação de CST_ICMS, CFOP e alíquota do ICMS"/>
                    </registro>
                </registro>

            </registro>

        </registro>

        <registro id="D990" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ENCERRAMENTO DO BLOCO D"
                  outros="[obrigatorioimportacao=true]">

            <edicao exibir="false"/>
            <validador id="REGRA_QTD_LIN_BLOCOD" tipo="0"/>
            <validador id="REGRA_BLOCO_COM_SEM_MOVIMENTO" tipo="0"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “D990”">
                <valores-validos valores="D990"/>
            </campo>
            <campo n="2" id="QTD_LIN_D" tipo="N" obrigatorio="1" rotulo="Quantidade total de linhas"
                   descricao="Quantidade total de linhas do Bloco D">
                <edicao valorPadrao="2"/><!-- D001 D990 -->
            </campo>
        </registro>

    </bloco>

    <bloco id="E" rotulo="APURAÇÃO DO ICMS E DO IPI">

        <registro id="E001" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ABERTURA DO BLOCO E"
                  outros="[obrigatorioimportacao=true]">


            <edicao exibir="false"/>
            <validador id="REGRA_OBRIGATORIO_E200_17001_V1" tipo="6"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “E001”">
                <valores-validos valores="E001"/>
            </campo>
            <campo n="2" id="IND_MOV" tipo="C" tamanho="1" obrigatorio="1" rotulo="Indicador de movimento"
                   descricao="Indicador de movimento">
                <valores-validos valores="0=Bloco com dados informados;1=Bloco sem dados informados"/>
                <edicao valorPadrao="1"/>
            </campo>

            <registro id="E100" nivel="2" ocorrencia="2" obrigatorio="1" outros="[naousachavenaduplicidade=true]"
                      chave="DT_INI,DT_FIN" rotulo="Período de Apuração" descricao="PERÍODO DA APURAÇÃO DO ICMS">

                <persistencia indices="DT_INI;DT_FIN"/>

                <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_E100_INTERVALO_DATA_A9E1V1" tipo="6"/>
                <validador id="REGRA_ABRANGER_PERIODO_ICMS_OP" tipo="6"/>
                <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_INI" tipo="2" campoMsg="DT_INI"/>
                <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_FIN" tipo="2" campoMsg="DT_FIN"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “E100”">
                    <edicao exibir="false"/>
                    <valores-validos valores="E100"/>
                </campo>
                <campo n="2" id="DT_INI" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data inicial apuração"
                       descricao="Data inicial a que a apuração se refere">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <edicao componente="103"/>
                </campo>
                <campo n="3" id="DT_FIN" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data final apuração"
                       descricao="Data final a que a apuração se refere">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <edicao componente="103"/>
                </campo>

                <registro id="E110" nivel="3" ocorrencia="1" obrigatorio="1" rotulo="Valores de Apuração">

                    <gerador-registro id="REGRA_VALIDA_SALDO_PERIODO_ANTERIOR" tipo="6"/>
                    <gerador-registro id="REGRA_VL_AJ_DEBITOS_E110_17002_V1" tipo="6"/>
                    <gerador-registro id="REGRA_VL_TOT_AJ_DEBITOS_E110" tipo="6"/>
                    <gerador-registro id="REGRA_VL_ESTORNOS_CRED_E110" tipo="6"/>
                    <gerador-registro id="REGRA_VL_AJ_CREDITOS_E110_17002_V1" tipo="6"/>
                    <gerador-registro id="REGRA_VL_TOT_AJ_CREDITOS_E110" tipo="6"/>
                    <gerador-registro id="REGRA_VL_ESTORNOS_DEB_E110" tipo="6"/>
                    <gerador-registro id="REGRA_VL_TOT_DED_E110_17002_V1" tipo="6"/>
                    <gerador-registro id="REGRA_VL_TOT_DEBITOS_E110_17002_V1" tipo="6"/>
                    <gerador-registro id="REGRA_VL_TOT_CREDITOS_E110_17002_V1" tipo="6"/>
                    <gerador-registro id="REGRA_DEB_ESP_E110_17002_V1" tipo="6"/>
                    <gerador-registro id="REGRA_SLD_DEVEDOR_E110" tipo="2"/>
                    <gerador-registro id="REGRA_SLD_CREDOR_E110" tipo="2"/>
                    <gerador-registro id="REGRA_ICMS_RECOLHER" tipo="2"/>

                    <validador id="REGRA_VALIDA_SALDO_PERIODO_ANTERIOR" tipo="6"/>
                    <validador id="REGRA_VL_AJ_DEBITOS_E110_17002_V1" tipo="6"/>
                    <validador id="REGRA_VL_TOT_AJ_DEBITOS_E110" tipo="6"/>
                    <validador id="REGRA_VL_ESTORNOS_CRED_E110" tipo="6"/>
                    <validador id="REGRA_VL_AJ_CREDITOS_E110_17002_V1" tipo="6"/>
                    <validador id="REGRA_VL_TOT_AJ_CREDITOS_E110" tipo="6"/>
                    <validador id="REGRA_VL_ESTORNOS_DEB_E110" tipo="6"/>
                    <validador id="REGRA_VL_TOT_DED_E110_17002_V1" tipo="6"/>
                    <validador id="REGRA_ICMS_REC_E116" tipo="6"/>
                    <validador id="REGRA_VL_TOT_DEBITOS_E110_17002_V1" tipo="6"/>
                    <validador id="REGRA_VL_TOT_CREDITOS_E110_17002_V1" tipo="6"/>
                    <validador id="REGRA_DEB_ESP_E110_17002_V1" tipo="6"/>

                    <validador id="REGRA_SLD_DEVEDOR_E110" tipo="2" campoMsg="VL_SLD_APURADO"
                               outrosCamposEnvolvidosValidacao="VL_TOT_DEBITOS;VL_AJ_DEBITOS;VL_TOT_AJ_DEBITOS;VL_ESTORNOS_CRED;VL_TOT_CREDITOS;VL_AJ_CREDITOS;VL_TOT_AJ_CREDITOS;VL_ESTORNOS_DEB;VL_SLD_CREDOR_ANT"/>
                    <validador id="REGRA_SLD_CREDOR_E110" tipo="2" campoMsg="VL_SLD_CREDOR_TRANSPORTAR"
                               outrosCamposEnvolvidosValidacao="VL_TOT_DEBITOS;VL_AJ_DEBITOS;VL_TOT_AJ_DEBITOS;VL_ESTORNOS_CRED;VL_TOT_CREDITOS;VL_AJ_CREDITOS;VL_TOT_AJ_CREDITOS;VL_ESTORNOS_DEB;VL_SLD_CREDOR_ANT"/>
                    <validador id="REGRA_ICMS_RECOLHER" tipo="2" campoMsg="VL_ICMS_RECOLHER"
                               outrosCamposEnvolvidosValidacao="VL_SLD_APURADO;VL_TOT_DED"/>
                    <!-- Regra Excluída em 27/08/2013 <validador id="REGRA_VL_TOT_DED_MAIOR_ZERO" tipo="2" campoMsg="VL_TOT_DED" outrosCamposEnvolvidosValidacao="VL_SLD_APURADO"/> -->
                    <validador id="REGRA_VALIDA_VL_TOT_DED_E110" tipo="2" campoMsg="VL_TOT_DED"
                               outrosCamposEnvolvidosValidacao="VL_SLD_APURADO"/>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “E110”">
                        <edicao exibir="false"/>
                        <valores-validos valores="E110"/>
                    </campo>
                    <campo n="2" id="VL_TOT_DEBITOS" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total dos débitos do imposto"
                           descricao="Valor total dos débitos por saídas e prestações com débito do imposto">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="3" id="VL_AJ_DEBITOS" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total ajustes a débito (doc fiscal)"
                           descricao="Valor total dos ajustes a débito decorrentes do documento fiscal">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="4" id="VL_TOT_AJ_DEBITOS" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total dos ajustes a débito" descricao="Valor total dos ajustes a débito">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="5" id="VL_ESTORNOS_CRED" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total dos estornos de créditos"
                           descricao="Valor total dos estornos de créditos">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_TOT_CREDITOS" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total dos créditos do imposto"
                           descricao="Valor total dos créditos por entradas e aquisições com crédito do imposto">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_AJ_CREDITOS" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total ajustes a crédito (doc fiscal)"
                           descricao="Valor total dos ajustes a crédito decorrentes do documento fiscal">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_TOT_AJ_CREDITOS" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total dos ajustes a crédito" descricao="Valor total dos ajustes a crédito">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="VL_ESTORNOS_DEB" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total dos estornos de débitos" descricao="Valor total dos estornos de débitos">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="10" id="VL_SLD_CREDOR_ANT" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Saldo credor do período anterior"
                           descricao="Valor total de saldo credor do período anterior">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="11" id="VL_SLD_APURADO" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor do saldo devedor" descricao="Valor total de saldo apurado antes das deduções">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="12" id="VL_TOT_DED" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total das deduções" descricao="Valor total das deduções">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="13" id="VL_ICMS_RECOLHER" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total do ICMS a recolher" descricao="Valor total de ICMS a recolher">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="14" id="VL_SLD_CREDOR_TRANSPORTAR" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor do saldo credor do ICMS"
                           descricao="Valor total do saldo credor de ICMS a transportar para o período seguinte">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="15" id="DEB_ESP" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valores recolhidos ou a recolher, extra-apuração"
                           descricao="Valores recolhidos ou a recolher, extra-apuração">
                        <edicao componente="104"/>
                    </campo>

                    <registro id="E111" nivel="4" ocorrencia="2" obrigatorio="0" rotulo="Ajuste/Benefício/Incentivo">
                        <validador id="REGRA_UF_COD_AJ_APUR" tipo="2" campoMsg="COD_AJ_APUR"/>
                        <validador id="REGRA_TOT_VL_AJ_ITEM_E113" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “E111”">
                            <edicao exibir="false"/>
                            <valores-validos valores="E111"/>
                        </campo>
                        <campo n="2" id="COD_AJ_APUR" tipo="C" tamanho="[8]" obrigatorio="1"
                               rotulo="Código ajuste da apuração/dedução"
                               descricao="Código do ajuste da apuração e dedução, conforme a Tabela de Códigos de Ajustes da Apuração do ICMS">
                            <valores-validos datasource="COD_AJ_APURACAO_A7E1V1"/>
                        </campo>
                        <campo n="3" id="DESCR_COMPL_AJ" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                               descricao="Descrição complementar do ajuste da apuração">
                        </campo>
                        <campo n="4" id="VL_AJ_APUR" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor do ajuste da apuração" descricao="Valor do ajuste da apuração">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao componente="104"/>
                        </campo>

                        <registro id="E112" nivel="5" ocorrencia="2" obrigatorio="0"
                                  rotulo="Informações Adicionais da Apuração">
                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “E112”">
                                <edicao exibir="false"/>
                                <valores-validos valores="E112"/>
                            </campo>
                            <campo n="2" id="NUM_DA" tipo="C" obrigatorio="0" rotulo="Número doc arrecadação"
                                   descricao="Número do documento de arrecadação estadual, se houver">
                                <edicao x="0" y="0" largura="1"/>
                            </campo>
                            <campo n="3" id="NUM_PROC" tipo="C" tamanho="60" obrigatorio="0" rotulo="Número do processo"
                                   descricao="Número do processo ao qual o ajuste está vinculado, se houver">
                                <edicao x="1" y="0" largura="1"/>
                            </campo>
                            <campo n="4" id="IND_PROC" tipo="C" tamanho="1" obrigatorio="0" rotulo="Origem do processo"
                                   descricao="Indicador da origem do processo">
                                <valores-validos valores="0=Sefaz;1=Justiça Federal;2=Justiça Estadual;9=Outros"/>
                                <edicao x="0" y="1" largura="4"/>
                            </campo>
                            <campo n="5" id="PROC" tipo="C" obrigatorio="0" rotulo="Descrição resumida do processo"
                                   descricao="Descrição resumida do processo que embasou o lançamento">
                                <edicao x="0" y="2" largura="4"/>
                            </campo>
                            <campo n="6" id="TXT_COMPL" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                                   descricao="Descrição complementar">
                                <edicao x="0" y="3" largura="4"/>
                            </campo>
                        </registro>

                        <registro id="E113" nivel="5" ocorrencia="2" obrigatorio="0"
                                  rotulo="Identificação dos Documentos Fiscais">

                            <modificador-obrigatoriedade id="REGRA_NAO_INFORMAR_COD_PART_E113_MO"/>
                            <!--  As regras  REGRA_NAO_INFORMAR_COD_ITEM_BPE e REGRA_NAO_INFORMAR_SUB estão atendidas na classe ACIMA
							REGRA_NAO_INFORMAR_COD_PART_14002_V1 -->
                            <persistencia indices="COD_ITEM;COD_PART"/>
                            <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                            <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                            <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_DOCE_V6" tipo="2" campoMsg="CHV_DOCE"
                                       outrosCamposEnvolvidosValidacao="COD_MOD"/>
                            <validador id="REGRA_PREENCHER_CHV_NFE_CTE_DOCE_V4" tipo="2" campoMsg="CHV_DOCE"
                                       outrosCamposEnvolvidosValidacao="COD_MOD"/>
                            <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_DOCE"/>
                            <validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE" tipo="2" campoMsg="CHV_DOCE"
                                       outrosCamposEnvolvidosValidacao="NUM_DOC"/>
                            <validador id="REGRA_COMPARA_CODIGO_MODELO" tipo="2" campoMsg="CHV_DOCE"/>
                            <validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_DOCE"/>
                            <validador id="REGRA_OBRIGATORIO_COD_PART_E113" tipo="2" campoMsg="COD_PART"
                                       outrosCamposEnvolvidosValidacao="COD_MOD"/>
                            <!-- <modificador-obrigatoriedade id="REGRA_CONTROLE_OBRIGATORIEDADE_CAMPOS_POR_COD_MOD"/> REGRA REMOVIDA POR ERRO DE ESPECIFICAÇÂO-->


                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “E113”">
                                <edicao exibir="false"/>
                                <valores-validos valores="E113"/>
                            </campo>
                            <campo n="2" id="COD_PART" tipo="C" tamanho="60" obrigatorio="0"
                                   rotulo="Código do participante"
                                   descricao="Código do participante (campo 02 do Registro 0150): - do emitente do documento ou do remetente das mercadorias, no caso de entradas; - do adquirente, no caso de saídas"
                                   referenciaPesquisa="0150;COD_PART">
                                <valores-validos datasource="COD_PART_0150_SV"/>
                                <edicao x="0" y="1" largura="6"/>
                            </campo>
                            <campo n="3" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1"
                                   rotulo="Código do modelo do documento"
                                   descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                                <valores-validos datasource="COD_MOD_ECF"/>
                                <edicao x="0" y="0" largura="6"/>
                            </campo>
                            <campo n="4" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série"
                                   descricao="Série do documento fiscal">
                                <edicao x="1" y="2" largura="1"/>
                            </campo>
                            <campo n="5" id="SUB" tipo="N" tamanho="3" obrigatorio="0" rotulo="Subserie"
                                   descricao="Subserie do documento fiscal">
                                <edicao x="2" y="2" largura="1" componente="107"/>
                            </campo>
                            <campo n="6" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número do documento"
                                   descricao="Número do documento fiscal">
                                <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                                <edicao x="0" y="2" largura="1" componente="107"/>
                            </campo>
                            <campo n="7" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                                   descricao="Data da emissão do documento fiscal (DDMMAAAA)">
                                <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                                <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                                <edicao x="0" y="3" largura="1" componente="103"/>
                            </campo>
                            <campo n="8" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do item"
                                   descricao="Código do item (campo 02 do Registro 0200)"
                                   referenciaPesquisa="0200;COD_ITEM">
                                <valores-validos datasource="COD_ITEM_0200_SV"/>
                                <edicao x="0" y="4" largura="6"/>
                            </campo>
                            <campo n="9" id="VL_AJ_ITEM" tipo="N" casasdecimais="2" obrigatorio="1"
                                   rotulo="Valor do ajuste do item" descricao="Valor do ajuste para a operação/item">
                                <edicao x="0" y="5" largura="1" componente="104"/>
                            </campo>
                            <campo n="10" id="CHV_DOCE" tipo="N" tamanho="[44]" obrigatorio="0"
                                   rotulo="Chave do documento eletrônico" descricao="Chave do documento eletrônico">
                                <edicao componente="113"/>
                            </campo>
                        </registro>

                    </registro>

                    <registro id="E115" nivel="4" ocorrencia="2" obrigatorio="0"
                              rotulo="Informações Adicionais – Valores Declaratórios">
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “E115”">
                            <edicao exibir="false"/>
                            <valores-validos valores="E115"/>
                        </campo>
                        <campo n="2" id="COD_INF_ADIC" tipo="C" tamanho="[8]" obrigatorio="1"
                               rotulo="Código informação adicional"
                               descricao="Código da informação adicional conforme tabela a ser definida pelas SEFAZ">
                            <valores-validos datasource="COD_INF_ADIC"/>
                        </campo>
                        <campo n="3" id="VL_INF_ADIC" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor informação adicional" descricao="Valor referente à informação adicional">
                        </campo>
                        <campo n="4" id="DESCR_COMPL_AJ" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                               descricao="Descrição complementar do ajuste">
                        </campo>
                    </registro>

                    <registro id="E116" nivel="4" ocorrencia="2" obrigatorio="0"
                              rotulo="Obrigações do ICMS recolhido ou a recolher - Operações Próprias">
                        <validador id="REGRA_PREENCHE_NUM_PROC" tipo="2" campoMsg="NUM_PROC"
                                   outrosCamposEnvolvidosValidacao="IND_PROC;PROC"/>
                        <validador id="REGRA_MES_ANO_VALIDO" tipo="2" campoMsg="MES_REF"/>
                        <validador id="REGRA_COD_OR_E116_E250" tipo="2" campoMsg="COD_OR"/>
                        <edicao>
                            <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_OR" campoObservado="COD_OR"/>
                        </edicao>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “E116”">
                            <edicao exibir="false"/>
                            <valores-validos valores="E116"/>
                        </campo>
                        <campo n="2" id="COD_OR" tipo="N" tamanho="[3]" obrigatorio="1"
                               rotulo="Código do ICMS recolhido ou a recolher"
                               descricao="Código da obrigação a recolher, conforme a TABELA DE CÓDIGOS DAS OBRIGAÇÕES DE ICMS A RECOLHER">
                            <!-- <valores-validos valores="000=ICMS a recolher;003=Antecipação do diferencial de alíquotas do ICMS;004=Antecipação do ICMS da importação;005=Antecipação tributária;006=ICMS resultante da alíquota adicional dos itens incluídos no Fundo de Combate à Pobreza;090=Outras obrigações do ICMS"/> -->
                            <valores-validos datasource="COD_OR"/>
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="3" id="VL_OR" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor do ICMS a recolher" descricao="Valor da obrigação a recolher">
                            <edicao x="1" y="1" largura="1" componente="104"/>
                        </campo>
                        <campo n="4" id="DT_VCTO" tipo="D" tamanho="[8]" obrigatorio="1"
                               rotulo="Data de vencimento do ICMS" descricao="Data de vencimento da obrigação">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="0" y="1" largura="1" componente="103"/>
                        </campo>
                        <campo n="5" id="COD_REC" tipo="C" obrigatorio="1" rotulo="Código de receita"
                               descricao="Código de receita referente à obrigação, próprio da unidade da federação, conforme legislação estadual">
                            <valores-validos datasource="COD_REC_V2_A10E4V5"/>
                            <edicao x="0" y="2" largura="1" componente="203"/>
                        </campo>
                        <campo n="6" id="NUM_PROC" tipo="C" tamanho="60" obrigatorio="0" rotulo="Número do processo"
                               descricao="Número do processo ou auto de infração ao qual a obrigação está vinculada, se houver">
                            <edicao x="1" y="2" largura="1"/>
                        </campo>
                        <campo n="7" id="IND_PROC" tipo="C" tamanho="1" obrigatorio="0" rotulo="Origem do processo"
                               descricao="Indicador da origem do processo">
                            <valores-validos valores="0=Sefaz;1=Justiça Federal;2=Justiça Estadual;9=Outros"/>
                            <edicao x="0" y="3" largura="4"/>
                        </campo>
                        <campo n="8" id="PROC" tipo="C" obrigatorio="0" rotulo="Descrição resumida do processo"
                               descricao="Descrição resumida do processo que embasou o lançamento">
                            <edicao x="0" y="4" largura="4"/>
                        </campo>
                        <campo n="9" id="TXT_COMPL" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                               descricao="Descrição complementar das obrigações a recolher">
                            <edicao x="0" y="5" largura="4"/>
                        </campo>
                        <campo n="10" id="MES_REF" tipo="N" tamanho="[6]" obrigatorio="1" rotulo="Mês de referência"
                               descricao="Mês de referência no formato (MMAAAA)">
                            <validador id="REGRA_VALIDA_MES_REF" tipo="1"/>
                            <validador id="REGRA_MES_REF_MENOR_DT_INI_0000" tipo="1"/>
                            <edicao componente="116"/>
                        </campo>
                    </registro>

                </registro>

            </registro>

            <registro id="E200" nivel="2" ocorrencia="2" obrigatorio="0" outros="[naousachavenaduplicidade=true]"
                      chave="UF,DT_INI,DT_FIN" rotulo="Período de Apuração"
                      descricao="PERÍODO DA APURAÇÃO DO ICMS - SUBSTITUIÇÃO TRIBUTÁRIA">

                <persistencia indices="UF;DT_INI;DT_FIN"/>

                <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_E100_CAMPOS_UF_INTERVALO_DATA_A9E1V1" tipo="6"/>
                <validador id="REGRA_ABRANGER_PERIODO_ICMS_ST" tipo="6"/>
                <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_INI" tipo="2" campoMsg="DT_INI"/>
                <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_FIN" tipo="2" campoMsg="DT_FIN"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_DT_INI_DT_FIN" tipo="2" campoMsg="DT_INI"
                           outrosCamposEnvolvidosValidacao="DT_FIN"/>
                <gravador-sessao id="SESSAO_E200"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “E200”">
                    <edicao exibir="false"/>
                    <valores-validos valores="E200"/>
                </campo>
                <campo n="2" id="UF" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="Sigla da UF"
                       descricao="Sigla da unidade da federação a que se refere a apuração do ICMS ST">
                    <valores-validos datasource="UF_SIGLA_NOME"/>
                    <edicao x="0" y="0" largura="4"/>
                </campo>
                <campo n="3" id="DT_INI" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data inicial apuração"
                       descricao="Data inicial a que a apuração se refere">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <edicao x="0" y="1" largura="1" componente="103"/>
                </campo>
                <campo n="4" id="DT_FIN" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data final apuração"
                       descricao="Data final a que a apuração se refere">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <edicao x="1" y="1" largura="1" componente="103"/>
                </campo>

                <registro id="E210" nivel="3" ocorrencia="1" obrigatorio="1" rotulo="Valores de Apuração">

                    <gerador-registro id="REGRA_DEB_ESP_ST_E210_17001_V1" tipo="6"/>
                    <gerador-registro id="REGRA_VL_RETENCAO_ST_E210_A18E1V1" tipo="6"/>
                    <gerador-registro id="REGRA_VL_DEVOL_ST_E210_A7E2V1" tipo="6"/>
                    <gerador-registro id="REGRA_RESSARC_ST_E210_A7E2V1" tipo="6"/>
                    <gerador-registro id="REGRA_VL_OUT_CRED_ST_E210_A7E2V1" tipo="6"/>
                    <gerador-registro id="REGRA_VL_AJ_CREDITOS_ST_E210_17001_V1" tipo="6"/>
                    <gerador-registro id="REGRA_VL_OUT_DEB_ST_E210" tipo="6"/>
                    <gerador-registro id="REGRA_VL_AJ_DEBITOS_ST_E210_14001_V1" tipo="6"/>
                    <gerador-registro id="REGRA_DEDUCOES_ST_17001_V1" tipo="6"/>
                    <gerador-registro id="REGRA_SLD_DEVEDOR_ST_E210" tipo="2"/>
                    <gerador-registro id="REGRA_ICMS_ST_RECOLHER_A7E2V1" tipo="2"/>
                    <gerador-registro id="REGRA_SLD_CREDOR_ST_E210_A7E2V1" tipo="2"/>

                    <validador id="REGRA_ICMS_REC_ST_E250" tipo="6"/>
                    <validador id="REGRA_VL_RETENCAO_ST_E210_A18E1V1" tipo="6"/>
                    <validador id="REGRA_VL_OUT_CRED_ST_E210_A7E2V1" tipo="6"/>
                    <validador id="REGRA_VL_DEVOL_ST_E210_A7E2V1" tipo="6"/>
                    <validador id="REGRA_VL_AJ_CREDITOS_ST_E210_17001_V1" tipo="6"/>
                    <validador id="REGRA_VL_OUT_DEB_ST_E210" tipo="6"/>
                    <validador id="REGRA_VL_AJ_DEBITOS_ST_E210_14001_V1" tipo="6"/>
                    <validador id="REGRA_DEDUCOES_ST_17001_V1" tipo="6"/>
                    <validador id="REGRA_RESSARC_ST_E210_A7E2V1" tipo="6"/>
                    <validador id="REGRA_DEB_ESP_ST_E210_17001_V1" tipo="6"/>

                    <validador id="REGRA_SLD_DEVEDOR_ST_E210" tipo="2" campoMsg="VL_SLD_DEV_ANT_ST"
                               outrosCamposEnvolvidosValidacao="VL_RETENCAO_ST;VL_OUT_DEB_ST;VL_AJ_DEBITOS_ST;VL_SLD_CRED_ANT_ST;VL_DEVOL_ST;VL_RESSARC_ST;VL_OUT_CRED_ST;VL_AJ_CREDITOS_ST"/>
                    <validador id="REGRA_SLD_CREDOR_ST_E210_A7E2V1" tipo="2" campoMsg="VL_SLD_CRED_ST_TRANSPORTAR"
                               outrosCamposEnvolvidosValidacao="VL_SLD_CRED_ANT_ST;VL_DEVOL_ST;VL_RESSARC_ST;VL_OUT_CRED_ST;VL_AJ_CREDITOS_ST;VL_RETENCAO_ST;VL_OUT_DEB_ST;VL_AJ_DEBITOS_ST"/>
                    <validador id="REGRA_ICMS_ST_RECOLHER_A7E2V1" tipo="2" campoMsg="VL_ICMS_RECOL_ST"
                               outrosCamposEnvolvidosValidacao="VL_SLD_DEV_ANT_ST;VL_DEDUCOES_ST"/>
                    <!-- Regra Retirada em 21/08/2013<validador id="REGRA_VL_DEDUCOES_ST_MAIOR_ZERO" tipo="2" campoMsg="VL_DEDUCOES_ST" outrosCamposEnvolvidosValidacao="VL_SLD_DEV_ANT_ST"/> -->
                    <validador id="REGRA_VALIDA_VL_DEDUCOES_ST_E210" tipo="2" campoMsg="VL_DEDUCOES_ST"
                               outrosCamposEnvolvidosValidacao="VL_SLD_DEV_ANT_ST"/>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “E210”">
                        <edicao exibir="false"/>
                        <valores-validos valores="E210"/>
                    </campo>
                    <campo n="2" id="IND_MOV_ST" tipo="C" tamanho="1" obrigatorio="1" rotulo="Indicador de movimento"
                           descricao="Indicador de movimento: 0 – Sem operações com ST; 1 – Com operações de ST">
                        <valores-validos valores="0=Sem operações com ST;1=Com operações de ST"/>
                    </campo>
                    <campo n="3" id="VL_SLD_CRED_ANT_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Saldo credor do período anterior - ST"
                           descricao="Valor do saldo credor de período anterior – substituição tributária">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="4" id="VL_DEVOL_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total ICMS ST devol. mercadoria"
                           descricao="Valor total do ICMS ST de devolução de mercadorias">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="5" id="VL_RESSARC_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total ICMS ST - ressarcimentos"
                           descricao="Valor total do ICMS ST - ressarcimentos">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_OUT_CRED_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total - outros créditos ST"
                           descricao="Valor total dos ajustes - outros créditos ST">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_AJ_CREDITOS_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor ajustes a crédito ICMS ST (doc fiscal)"
                           descricao="Valor total dos ajustes a crédito de ICMS ST, provenientes de ajustes do documento fiscal">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_RETENCAO_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total do ICMS retido ST"
                           descricao="Valor Total do ICMS retido por Substituição Tributária">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="VL_OUT_DEB_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total - outros débitos ST"
                           descricao="Valor Total dos ajustes - outros débitos ST">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="10" id="VL_AJ_DEBITOS_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor ajustes a débito ICMS ST (doc fiscal)"
                           descricao="Valor total dos ajustes a débito de ICMS ST, provenientes de ajustes do documento fiscal">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="11" id="VL_SLD_DEV_ANT_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor do saldo devedor antes das deduções"
                           descricao="Valor do saldo devedor antes das deduções">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="12" id="VL_DEDUCOES_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total das deduções ST" descricao="Valor total das deduções ST”">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="13" id="VL_ICMS_RECOL_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total do ICMS a recolher ST" descricao="Valor total do ICMS a recolher ST">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="14" id="VL_SLD_CRED_ST_TRANSPORTAR" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor do saldo credor do ICMS ST"
                           descricao="Valor do saldo credor do ICMS ST a transportar para o período seguinte">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="15" id="DEB_ESP_ST" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valores recolhidos ou a recolher, extra-apuração"
                           descricao="Valores recolhidos ou a recolher, extra-apuração">
                        <edicao componente="104"/>
                    </campo>

                    <registro id="E220" nivel="4" ocorrencia="2" obrigatorio="0" rotulo="Ajuste/Benefício/Incentivo">
                        <validador id="REGRA_UF_COD_AJ_APUR_ST" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “E220”">
                            <edicao exibir="false"/>
                            <valores-validos valores="E220"/>
                        </campo>
                        <campo n="2" id="COD_AJ_APUR" tipo="C" tamanho="[8]" obrigatorio="1"
                               rotulo="Código ajuste da apuração/dedução"
                               descricao="Código do ajuste da apuração e dedução, conforme a Tabela de Códigos de Ajustes da Apuração do ICMS">
                            <valores-validos datasource="COD_AJ_APURACAO_ST_A7E1V1"/>
                        </campo>
                        <campo n="3" id="DESCR_COMPL_AJ" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                               descricao="Descrição complementar do ajuste da apuração">
                        </campo>
                        <campo n="4" id="VL_AJ_APUR" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor do ajuste da apuração" descricao="Valor do ajuste da apuração">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao componente="104"/>
                        </campo>

                        <registro id="E230" nivel="5" ocorrencia="2" obrigatorio="0"
                                  rotulo="Informação Adicional da Apuração ICMS-ST">
                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “E230”">
                                <edicao exibir="false"/>
                                <valores-validos valores="E230"/>
                            </campo>
                            <campo n="2" id="NUM_DA" tipo="C" obrigatorio="0" rotulo="Número doc arrecadação"
                                   descricao="Número do documento de arrecadação estadual, se houver">
                                <edicao x="0" y="0" largura="1"/>
                            </campo>
                            <campo n="3" id="NUM_PROC" tipo="C" tamanho="60" obrigatorio="0" rotulo="Número do processo"
                                   descricao="Número do processo ao qual o ajuste está vinculado, se houver">
                                <edicao x="1" y="0" largura="1"/>
                            </campo>
                            <campo n="4" id="IND_PROC" tipo="N" tamanho="1" obrigatorio="0" rotulo="Origem do processo"
                                   descricao="Indicador da origem do processo">
                                <valores-validos valores="0=Sefaz;1=Justiça Federal;2=Justiça Estadual;9=Outros"/>
                                <edicao x="0" y="1" largura="4"/>
                            </campo>
                            <campo n="5" id="PROC" tipo="C" obrigatorio="0" rotulo="Descrição resumida"
                                   descricao="Descrição resumida do processo que embasou o lançamento">
                                <edicao x="0" y="2" largura="4"/>
                            </campo>
                            <campo n="6" id="TXT_COMPL" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                                   descricao="Descrição complementar">
                                <edicao x="0" y="3" largura="4"/>
                            </campo>
                        </registro>

                        <registro id="E240" nivel="5" ocorrencia="2" obrigatorio="0"
                                  rotulo="Identificação dos Documentos Fiscais">

                            <persistencia indices="COD_ITEM;COD_PART"/>
                            <modificador-obrigatoriedade id="REGRA_NAO_INFORMAR_COD_PART_14002_V1"/>
                            <!--  As regras  REGRA_NAO_INFORMAR_COD_ITEM_BPE e REGRA_NAO_INFORMAR_SUB estão atendidas na classe
							REGRA_NAO_INFORMAR_COD_PART_14002_V1 -->
                            <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                            <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                            <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_DOCE_V6" tipo="2" campoMsg="CHV_DOCE"
                                       outrosCamposEnvolvidosValidacao="COD_MOD"/>
                            <validador id="REGRA_PREENCHER_CHV_NFE_CTE_DOCE_V4" tipo="2" campoMsg="CHV_DOCE"
                                       outrosCamposEnvolvidosValidacao="COD_MOD"/>
                            <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_DOCE"/>
                            <validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE" tipo="2" campoMsg="CHV_DOCE"
                                       outrosCamposEnvolvidosValidacao="NUM_DOC"/>
                            <validador id="REGRA_COMPARA_CODIGO_MODELO" tipo="2" campoMsg="CHV_DOCE"/>
                            <validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_DOCE"/>


                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “E240”">
                                <edicao exibir="false"/>
                                <valores-validos valores="E240"/>
                            </campo>
                            <campo n="2" id="COD_PART" tipo="C" tamanho="60" obrigatorio="1"
                                   rotulo="Código do participante"
                                   descricao="Código do participante (campo 02 do Registro 0150): - do emitente do documento ou do remetente das mercadorias, no caso de entradas; - do adquirente, no caso de saídas"
                                   referenciaPesquisa="0150;COD_PART">
                                <valores-validos datasource="COD_PART_0150_SV"/>
                                <edicao x="0" y="1" largura="6"/>
                            </campo>
                            <campo n="3" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="Código do modelo"
                                   descricao="Código do modelo do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                                <valores-validos datasource="COD_MOD_ECF"/>
                                <edicao x="0" y="0" largura="6"/>
                            </campo>
                            <campo n="4" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série"
                                   descricao="Série do documento fiscal">
                                <edicao x="1" y="2" largura="1"/>
                            </campo>
                            <campo n="5" id="SUB" tipo="N" tamanho="3" obrigatorio="0" rotulo="Subserie"
                                   descricao="Subserie do documento fiscal">
                                <edicao x="2" y="2" largura="1" componente="107"/>
                            </campo>
                            <campo n="6" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número do documento"
                                   descricao="Número do documento fiscal">
                                <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                                <edicao x="0" y="2" largura="1" componente="107"/>
                            </campo>
                            <campo n="7" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                                   descricao="Data da emissão do documento fiscal (DDMMAAAA)">
                                <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                                <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                                <edicao x="0" y="4" largura="1" componente="103"/>
                            </campo>
                            <campo n="8" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do item"
                                   descricao="Código do item (campo 02 do Registro 0200)"
                                   referenciaPesquisa="0200;COD_ITEM">
                                <valores-validos datasource="COD_ITEM_0200_SV"/>
                                <edicao x="0" y="3" largura="6"/>
                            </campo>
                            <campo n="9" id="VL_AJ_ITEM" tipo="N" casasdecimais="2" obrigatorio="1"
                                   rotulo="Valor do ajuste do item" descricao="Valor do ajuste para a operação/item">
                                <edicao x="1" y="4" largura="1" componente="104"/>
                            </campo>
                            <campo n="10" id="CHV_DOCE" tipo="N" tamanho="[44]" obrigatorio="0"
                                   rotulo="Chave do documento eletrônico" descricao="Chave do documento eletrônico">
                                <edicao componente="113"/>
                            </campo>
                        </registro>

                    </registro>

                    <registro id="E250" nivel="4" ocorrencia="2" obrigatorio="0"
                              rotulo="Obrigações do ICMS recolhido ou a recolher - Substituição Tributária">
                        <validador id="REGRA_PREENCHE_NUM_PROC" tipo="2" campoMsg="NUM_PROC"
                                   outrosCamposEnvolvidosValidacao="IND_PROC;PROC"/>
                        <validador id="REGRA_MES_ANO_VALIDO" tipo="2" campoMsg="MES_REF"/>
                        <validador id="REGRA_COD_OR_E116_E250" tipo="2" campoMsg="COD_OR"/>

                        <edicao>
                            <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_OR" campoObservado="COD_OR"/>
                        </edicao>

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “E250”">
                            <edicao exibir="false"/>
                            <valores-validos valores="E250"/>
                        </campo>
                        <campo n="2" id="COD_OR" tipo="N" tamanho="[3]" obrigatorio="1"
                               rotulo="Código do ICMS ST recolhido ou a recolher"
                               descricao="Código da obrigação a recolher, conforme a TABELA DE CÓDIGOS DAS OBRIGAÇÕES DE ICMS A RECOLHER">
                            <!--  <valores-validos valores="001=ICMS da substituição tributária pelas entradas;002=ICMS da substituição tributária pelas saídas para o Estado;006=ICMS resultante da alíquota adicional dos itens incluídos no Fundo de Combate à Pobreza;999=ICMS da substituição tributária pelas saídas para outro Estado"/> -->
                            <valores-validos datasource="COD_OR"/>
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="3" id="VL_OR" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor do ICMS ST a recolher" descricao="Valor da obrigação ICMS ST a recolher">
                            <edicao x="0" y="1" largura="1" componente="104"/>
                        </campo>
                        <campo n="4" id="DT_VCTO" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data de vencimento"
                               descricao="Data de vencimento da obrigação">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="1" y="1" largura="1" componente="103"/>
                        </campo>
                        <campo n="5" id="COD_REC" tipo="C" obrigatorio="1" rotulo="Código de receita"
                               descricao="Código de receita referente à obrigação, próprio da unidade da federação">
                            <valores-validos datasource="COD_REC_E250_V3"/>
                            <edicao x="0" y="2" largura="1" componente="203"/>
                        </campo>
                        <campo n="6" id="NUM_PROC" tipo="C" tamanho="60" obrigatorio="0" rotulo="Número do processo"
                               descricao="Número do processo ou auto de infração ao qual a obrigação está vinculada, se houver">
                            <edicao x="1" y="2" largura="1"/>
                        </campo>
                        <campo n="7" id="IND_PROC" tipo="C" tamanho="1" obrigatorio="0" rotulo="Origem do processo"
                               descricao="Indicador da origem do processo">
                            <valores-validos valores="0=Sefaz;1=Justiça Federal;2=Justiça Estadual;9=Outros"/>
                            <edicao x="0" y="3" largura="4"/>
                        </campo>
                        <campo n="8" id="PROC" tipo="C" obrigatorio="0" rotulo="Descrição resumida do processo"
                               descricao="Descrição resumida do processo que embasou o lançamento">
                            <edicao x="0" y="4" largura="4"/>
                        </campo>
                        <campo n="9" id="TXT_COMPL" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                               descricao="Descrição complementar das obrigações a recolher">
                            <edicao x="0" y="5" largura="4"/>
                        </campo>
                        <campo n="10" id="MES_REF" tipo="N" tamanho="[6]" obrigatorio="1" rotulo="Mês de referência"
                               descricao="Mês de referência no formato (MMAAAA)">
                            <validador id="REGRA_VALIDA_MES_REF" tipo="1"/>
                            <validador id="REGRA_MES_REF_MENOR_DT_INI_0000" tipo="1"/>
                            <edicao componente="116"/>
                        </campo>
                    </registro>

                </registro>

            </registro>
            <registro id="E300" nivel="2" ocorrencia="2" obrigatorio="0" chave="UF,DT_FIN,DT_INI"
                      outros="[naousachavenaduplicidade=true]"
                      rotulo="Período de apuração do Fundo de Combate à Pobreza e do ICMS diferencial de alíquota – UF origem/destino EC 87/15"
                      descricao="Período de apuração do ICMS diferencial de alíquota – UF origem/destino EC 87/15">

                <gerador-registro id="REGRA_OBRIGATORIO_E300_14001_V1" tipo="1"/>

                <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_E100_CAMPOS_UF_INTERVALO_DATA_A9E1V1" tipo="6"/>
                <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_INI" tipo="2" campoMsg="DT_INI"/>
                <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_FIN" tipo="2" campoMsg="DT_FIN"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_DT_INI_DT_FIN" tipo="2" campoMsg="DT_INI"
                           outrosCamposEnvolvidosValidacao="DT_FIN"/>
                <validador id="REGRA_OBRIGATORIO_E300_14001_V1" tipo="6"/>
                <validador id="REGRA_ABRANGER_PERIODO_E300" tipo="6"/>
                <gravador-sessao id="SESSAO_E300"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “E300”">
                    <edicao exibir="false"/>
                    <valores-validos valores="E300"/>
                </campo>
                <campo n="2" id="UF" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="Sigla da UF(Origem ou Destino)"
                       descricao="Sigla da unidade da federação a que se refere a apuração do FCP e do ICMS Diferencial de Alíquota da UF de Origem/Destino">
                    <valores-validos datasource="UF_SIGLA_NOME"/>
                    <edicao x="0" y="0" largura="4"/>
                </campo>
                <campo n="3" id="DT_INI" tipo="D" tamanho="[8]" obrigatorio="1"
                       rotulo="Data inicial a que a apuração se refere"
                       descricao="Data inicial a que a apuração se refere">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <edicao x="0" y="1" largura="1" componente="103"/>
                </campo>
                <campo n="4" id="DT_FIN" tipo="D" tamanho="[8]" obrigatorio="1"
                       rotulo="Data final a que a apuração se refere" descricao="Data final a que a apuração se refere">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <edicao x="1" y="1" largura="1" componente="103"/>
                </campo>
                <registro id="E310" nivel="3" ocorrencia="1" obrigatorio="1"
                          rotulo="Apuração do Fundo de Combate à Pobreza e do ICMS diferencial de alíquota – UF origem/destino EC 87/15"
                          descricao="Apuração do ICMS diferencial de alíquota – UF origem/destino EC 87/15">

                    <gerador-registro id="REGRA_INICIAR_VALORES_VAZIOS_E310" tipo="2"/>
                    <gerador-registro id="REGRA_VALIDA_VL_TOT_DEBITOS_DIFAL_12001_V1" tipo="6"/>
                    <gerador-registro id="REGRA_VL_OUT_DEB_DIFAL" tipo="6"/>
                    <gerador-registro id="REGRA_VL_OUT_DEB_FCP" tipo="6"/>
                    <gerador-registro id="REGRA_VL_TOT_DEB_FCP_14002_V1" tipo="6"/>
                    <gerador-registro id="REGRA_VL_TOT_CREDITOS_DIFAL_12001_V1" tipo="6"/>
                    <gerador-registro id="REGRA_VL_TOT_CRED_FCP_12001_V1" tipo="6"/>
                    <gerador-registro id="REGRA_VL_OUT_CRED_DIFAL" tipo="6"/>
                    <gerador-registro id="REGRA_VL_OUT_CRED_FCP" tipo="6"/>
                    <gerador-registro id="REGRA_DEB_ESP_DIFAL_12001_V1" tipo="6"/>
                    <gerador-registro id="REGRA_DEB_ESP_FCP_12001_V1" tipo="6"/>
                    <gerador-registro id="REGRA_VL_DEDUCOES_DIFAL" tipo="6"/>
                    <gerador-registro id="REGRA_VL_DEDUCOES_FCP" tipo="6"/>
                    <gerador-registro id="REGRA_VL_SLD_CRED_TRANSPORTAR_V2" tipo="2"/>
                    <gerador-registro id="REGRA_VL_SLD_CRED_TRANSPORTAR_FCP" tipo="2"/>
                    <gerador-registro id="REGRA_VL_SLD_DEV_ANT_DIFAL_V2" tipo="2"/>
                    <gerador-registro id="REGRA_VL_SLD_DEV_ANT_FCP" tipo="2"/>
                    <gerador-registro id="REGRA_ICMS_DIFAL_RECOL" tipo="2"/>
                    <gerador-registro id="REGRA_ICMS_FCP_RECOL" tipo="2"/>

                    <validador id="REGRA_VALIDA_VL_TOT_DEBITOS_DIFAL_12001_V1" tipo="6"/>
                    <validador id="REGRA_VL_TOT_CREDITOS_DIFAL_12001_V1" tipo="6"/>
                    <validador id="REGRA_DEB_ESP_DIFAL_12001_V1" tipo="6"/>
                    <validador id="REGRA_DEB_ESP_FCP_12001_V1" tipo="6"/>
                    <validador id="REGRA_VL_TOT_DEB_FCP_14002_V1" tipo="6"/>
                    <validador id="REGRA_VL_TOT_CRED_FCP_12001_V1" tipo="6"/>
                    <validador id="REGRA_VL_OUT_CRED_DIFAL" tipo="6"/>
                    <validador id="REGRA_VL_OUT_CRED_FCP" tipo="6"/>
                    <validador id="REGRA_VL_OUT_DEB_DIFAL" tipo="6"/>
                    <validador id="REGRA_VL_OUT_DEB_FCP" tipo="6"/>
                    <validador id="REGRA_VL_DEDUCOES_DIFAL" tipo="6"/>
                    <validador id="REGRA_VL_DEDUCOES_FCP" tipo="6"/>
                    <validador id="REGRA_DIFAL_RECOL_E316_V2" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “E310”">
                        <edicao exibir="false"/>
                        <valores-validos valores="E310"/>
                    </campo>
                    <campo n="2" id="IND_MOV_DIFAL" tipo="N" tamanho="1" obrigatorio="1"
                           rotulo="Indicador de movimento:" descricao="Indicador de movimento:">
                        <valores-validos
                                valores="0=Sem operações com ICMS diferencial de alíquota da UF de origem/destino;1=Com operações de ICMS diferencial de alíquota da UF de origem/destino"/>
                    </campo>
                    <campo n="3" id="VL_SLD_CRED_ANT_DIFAL" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor do saldo credor do período anterior – ICMS origem/destino"
                           descricao="Valor do saldo credor de período anterior – ICMS diferencial de alíquota da UF de origem/destino">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="4" id="VL_TOT_DEBITOS_DIFAL" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total dos débitos por saídas e prestações – ICMS origem/destino"
                           descricao="Valor total dos débitos por saídas e prestações com débito do ICMS referente ao diferencial de alíquota devido à UF de Origem/Destino">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="5" id="VL_OUT_DEB_DIFAL" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total dos ajustes – outros débitos e estornos de créditos – ICMS origem/destino"
                           descricao="Valor total dos ajustes outros débitos ICMS diferencial de alíquota da UF de origem/destino e estorno de créditos ICMS diferencial de alíquota da UF de origem/destino">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_TOT_CREDITOS_DIFAL" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total dos créditos por entradas – ICMS origem/destino"
                           descricao="Valor total dos créditos do ICMS referente ao diferencial de alíquota devido à UF de Origem/Destino">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_OUT_CRED_DIFAL" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total dos ajustes – outros créditos e estornos de débitos – ICMS origem/destino"
                           descricao="Valor total de ajustes outros créditos ICMS diferencial de alíquota da UF de origem/destino e estorno de débitos ICMS diferencial de alíquota da UF de origem/destino">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_SLD_DEV_ANT_DIFAL" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total do saldo devedor antes das deduções – ICMS origem/destino"
                           descricao="Valor total de saldo devedor ICMS diferencial de alíquota da UF de origem/destino antes das deduções">
                        <validador id="REGRA_VL_SLD_DEV_ANT_DIFAL_V2" tipo="1"
                                   outrosCamposEnvolvidosValidacao="VL_TOT_DEBITOS_DIFAL;VL_OUT_DEB_DIFAL;VL_SLD_CRED_ANT_DIFAL;VL_TOT_CREDITOS_DIFAL;VL_OUT_CRED_DIFAL"/>
                        <edicao componente="104"/>
                    </campo>
                    <campo n="9" id="VL_DEDUCOES_DIFAL" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total das deduções – ICMS origem/destino"
                           descricao="Valor total dos ajustes Deduções ICMS diferencial de alíquota da UF de origem/destino">
                        <validador id="REGRA_VALIDA_VL_DEDUCOES_DIFAL_E310" tipo="1"
                                   outrosCamposEnvolvidosValidacao="VL_SLD_DEV_ANT_DIFAL"/>
                        <edicao componente="104"/>
                    </campo>
                    <campo n="10" id="VL_RECOL" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor recolhido ou a recolher – ICMS origem/destino"
                           descricao="Valor recolhido ou a recolher referente ao ICMS Diferencial de Alíquota da UF de Origem/Destino (08-09)">
                        <validador id="REGRA_ICMS_DIFAL_RECOL" tipo="1"
                                   outrosCamposEnvolvidosValidacao="VL_SLD_DEV_ANT_DIFAL;VL_DEDUCOES_DIFAL"/>
                        <edicao componente="104"/>
                    </campo>
                    <campo n="11" id="VL_SLD_CRED_TRANSPORTAR" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Saldo credor a transportar para o período seguinte – ICMS origem/destino"
                           descricao="Saldo credor a transportar para o período seguinte referente ao ICMS Diferencial de Alíquota da UF de Origem/Destino">
                        <validador id="REGRA_VL_SLD_CRED_TRANSPORTAR_V2" tipo="1"
                                   outrosCamposEnvolvidosValidacao="VL_SLD_CRED_ANT_DIFAL;VL_TOT_CREDITOS_DIFAL;VL_OUT_CRED_DIFAL;VL_TOT_DEBITOS_DIFAL;VL_OUT_DEB_DIFAL"/>
                        <edicao componente="104"/>
                    </campo>
                    <campo n="12" id="DEB_ESP_DIFAL" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor recolhido ou a recolher, extra-apuração – ICMS origem/destino"
                           descricao="Valores recolhidos ou a recolher, extraapuração - ICMS Diferencial de Alíquota da UF de Origem/Destino">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="13" id="VL_SLD_CRED_ANT_FCP" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor do saldo credor de período anterior – FCP"
                           descricao="Valor do Saldo credor de período anterior – FCP">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="14" id="VL_TOT_DEB_FCP" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total dos débitos por saídas ou prestações – FCP"
                           descricao="Valor total dos débitos FCP por saídas e prestações">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="15" id="VL_OUT_DEB_FCP" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total dos ajustes – outros débitos e estornos de créditos – FCP"
                           descricao="Valor total dos ajustes Outros débitos FCP e Estorno de créditos FCP">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="16" id="VL_TOT_CRED_FCP" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total dos créditos por entradas – FCP"
                           descricao="Valor total dos créditos FCP por Entradas">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="17" id="VL_OUT_CRED_FCP" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total dos ajustes – outros créditos e estornos de débitos – FCP"
                           descricao="Valor total de ajustes Outros Créditos FCP e Estorno de Débitos FCP">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="18" id="VL_SLD_DEV_ANT_FCP" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total do saldo devedor antes das deduções – FCP"
                           descricao="Valor total de Saldo devedor FCP antes das deduções">
                        <validador id="REGRA_VL_SLD_DEV_ANT_FCP" tipo="1"
                                   outrosCamposEnvolvidosValidacao="VL_TOT_DEB_FCP;VL_OUT_DEB_FCP;VL_SLD_CRED_ANT_FCP;VL_TOT_CRED_FCP"/>
                        <edicao componente="104"/>
                    </campo>
                    <campo n="19" id="VL_DEDUCOES_FCP" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total das deduções – FCP" descricao="Valor total das deduções FCP">
                        <validador id="REGRA_VALIDA_VL_DEDUCOES_FCP_E310" tipo="1"
                                   outrosCamposEnvolvidosValidacao="VL_SLD_DEV_ANT_DIFAL"/>
                        <edicao componente="104"/>
                    </campo>
                    <campo n="20" id="VL_RECOL_FCP" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor recolhido ou a recolher – FCP"
                           descricao="Valor recolhido ou a recolher referente ao FCP (18–19)">
                        <validador id="REGRA_ICMS_FCP_RECOL" tipo="1"
                                   outrosCamposEnvolvidosValidacao="VL_SLD_DEV_ANT_FCP;VL_DEDUCOES_FCP"/>
                        <edicao componente="104"/>
                    </campo>
                    <campo n="21" id="VL_SLD_CRED_TRANSPORTAR_FCP" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Saldo credor a transportar para o período seguinte – FCP"
                           descricao="Saldo credor a transportar para o período seguinte referente ao FCP">
                        <validador id="REGRA_VL_SLD_CRED_TRANSPORTAR_FCP" tipo="1"
                                   outrosCamposEnvolvidosValidacao="VL_SLD_CRED_ANT_FCP;VL_TOT_CRED_FCP;VL_OUT_CRED_FCP;VL_TOT_DEB_FCP;VL_OUT_DEB_FCP"/>
                        <edicao componente="104"/>
                    </campo>
                    <campo n="22" id="DEB_ESP_FCP" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valores recolhidos ou a recolher, extra-apuração – FCP"
                           descricao="Valores recolhidos ou a recolher, extra-apuração FCP">
                        <edicao componente="104"/>
                    </campo>
                    <registro id="E311" nivel="4" ocorrencia="2" obrigatorio="0"
                              rotulo="Ajuste/benefício/incentivo da apuração do Fundo de Combate à Pobreza e do ICMS Diferencial de Alíquota UF origem/destino EC 87/15"
                              descricao="Ajuste/benefício/incentivo da apuração do Fundo de Combate à Pobreza e do ICMS Diferencial de Alíquota UF origem/destino EC 87/15">
                        <validador id="REGRA_UF_COD_AJ_APUR_DIFAL" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “E311”">
                            <edicao exibir="false"/>
                            <valores-validos valores="E311"/>
                        </campo>
                        <campo n="2" id="COD_AJ_APUR" tipo="C" tamanho="[8]" obrigatorio="1"
                               rotulo="Código do ajuste da apuração e dedução"
                               descricao="Código do ajuste da apuração e dedução, conforme a Tabela indicada no item 5.1.1">
                            <valores-validos datasource="COD_AJ_APURACAO_DIFAL"/>
                        </campo>
                        <campo n="3" id="DESCR_COMPL_AJ" tipo="C" obrigatorio="0"
                               rotulo="Descrição complementar do ajuste da apuração"
                               descricao="Descrição complementar do ajuste da apuração"/>
                        <campo n="4" id="VL_AJ_APUR" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ajuste"
                               descricao="Valor do ajuste da apuração">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <registro id="E312" nivel="5" ocorrencia="2" obrigatorio="0"
                                  rotulo="Informações adicionais dos ajustes da apuração do Fundo de Combate à Pobreza e do ICMS diferencial de alíquota – UF origem/destino EC 87/15"
                                  descricao="Informações adicionais dos ajustes da apuração do Fundo de Combate à Pobreza e do ICMS diferencial de alíquota – UF origem/destino EC 87/15">
                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “E312”">
                                <edicao exibir="false"/>
                                <valores-validos valores="E312"/>
                            </campo>
                            <campo n="2" id="NUM_DA" tipo="C" obrigatorio="0"
                                   rotulo="Número do documento de arrecadação estadual, se houver"
                                   descricao="Número do documento de arrecadação estadual, se houver"/>
                            <campo n="3" id="NUM_PROC" tipo="C" tamanho="60" obrigatorio="0"
                                   rotulo="Número do processo ao qual o ajuste está vinculado, se houver"
                                   descricao="Número do processo ao qual o ajuste está vinculado, se houver"/>
                            <campo n="4" id="IND_PROC" tipo="C" tamanho="[1]" obrigatorio="0"
                                   rotulo="Indicador da origem do processo" descricao="Indicador da origem do processo">
                                <valores-validos valores="0=Sefaz;1=Justiça Federal;2=Justiça Estadual;9=Outros"/>
                            </campo>
                            <campo n="5" id="PROC" tipo="C" obrigatorio="0"
                                   rotulo="Descrição resumida do processo que embasou o lançamento"
                                   descricao="Descrição resumida do processo que embasou o lançamento"/>
                            <campo n="6" id="TXT_COMPL" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                                   descricao="Descrição complementar"/>
                        </registro>
                        <registro id="E313" nivel="5" ocorrencia="2" obrigatorio="0"
                                  rotulo="Informações adicionais da apuração do Fundo de Combate à Pobreza e do ICMS diferencial de alíquota – UF origem/destino EC 87/15 identificação dos documentos fiscais"
                                  descricao="Informações adicionais da apuração do Fundo de Combate à Pobreza e do ICMS diferencial de alíquota – UF origem/destino EC 87/15 identificação dos documentos fiscais">

                            <modificador-obrigatoriedade id="REGRA_NAO_INFORMAR_COD_PART_14002_V1"/>
                            <!--  As regras  REGRA_NAO_INFORMAR_COD_ITEM_BPE e REGRA_NAO_INFORMAR_SUB estão atendidas na classe
							REGRA_NAO_INFORMAR_COD_PART_14002_V1 -->
                            <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                            <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                            <validador id="REGRA_EXISTE_COD_MOD" tipo="3"/>
                            <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_DOCE_V6" tipo="2" campoMsg="CHV_DOCE"
                                       outrosCamposEnvolvidosValidacao="COD_MOD"/>
                            <validador id="REGRA_PREENCHER_CHV_NFE_CTE_DOCE_V4" tipo="2" campoMsg="CHV_DOCE"
                                       outrosCamposEnvolvidosValidacao="COD_MOD"/>
                            <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_DOCE"/>
                            <validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE" tipo="2" campoMsg="CHV_DOCE"
                                       outrosCamposEnvolvidosValidacao="NUM_DOC"/>
                            <validador id="REGRA_COMPARA_CODIGO_MODELO" tipo="2" campoMsg="CHV_DOCE"/>
                            <validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_DOCE"/>

                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “E313”">
                                <edicao exibir="false"/>
                                <valores-validos valores="E313"/>
                            </campo>
                            <campo n="2" id="COD_PART" tipo="C" tamanho="60" obrigatorio="1"
                                   rotulo="Código do participante"
                                   descricao="Código do participante (campo 02 do registro 0150):- do emitente do documento ou do remetente das mercadorias, no caso de entradas;- do adquirente, no caso de saídas">
                                <valores-validos datasource="COD_PART_0150_SV"/>
                            </campo>
                            <campo n="3" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1"
                                   rotulo="Código do modelo do documento fiscal, conforme a tabela 4.1.1"
                                   descricao="Código do modelo do documento fiscal, conforme a tabela 4.1.1">
                                <valores-validos datasource="COD_MOD_ECF"/>
                            </campo>
                            <campo n="4" id="SER" tipo="C" tamanho="4" obrigatorio="0"
                                   rotulo="Série do documento fiscal" descricao="Série do documento fiscal"/>
                            <campo n="5" id="SUB" tipo="N" tamanho="3" obrigatorio="0"
                                   rotulo="Subserie do documento fiscal" descricao="Subserie do documento fiscal"/>
                            <campo n="6" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1"
                                   rotulo="Número do documento fiscal" descricao="Número do documento fiscal">
                                <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            </campo>
                            <campo n="7" id="CHV_DOCE" tipo="N" tamanho="[44]" obrigatorio="0"
                                   rotulo="Chave do documento eletrônico" descricao="Chave do documento eletrônico">
                                <edicao componente="113"/>
                            </campo>
                            <campo n="8" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1"
                                   rotulo="Data da emissão do documento fiscal (DDMMAAAA)"
                                   descricao="Data da emissão do documento fiscal (DDMMAAAA)">
                                <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                                <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                                <edicao componente="103"/>
                            </campo>
                            <campo n="9" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="0"
                                   rotulo="Código do item (campo 02 do registro 0200)"
                                   descricao="Código do item (campo 02 do registro 0200)">
                                <valores-validos datasource="COD_ITEM_0200_SV"/>
                            </campo>
                            <campo n="10" id="VL_AJ_ITEM" tipo="N" casasdecimais="2" obrigatorio="1"
                                   rotulo="Valor do ajuste para a operação/item"
                                   descricao="Valor do ajuste para a operação/item"/>
                        </registro>
                    </registro>
                    <registro id="E316" nivel="4" ocorrencia="2" obrigatorio="0"
                              rotulo="Obrigações Recolhidas ou à recolher - Fundo de Combate à Pobreza e ICMS diferencial de alíquota UF origem/destino EC 87/15"
                              descricao="Obrigações Recolhidas ou à recolher - Fundo de Combate à Pobreza e ICMS diferencial de alíquota UF origem/destino EC 87/15">
                        <validador id="REGRA_PREENCHE_NUM_PROC" tipo="2" campoMsg="NUM_PROC"
                                   outrosCamposEnvolvidosValidacao="IND_PROC;PROC"/>
                        <validador id="REGRA_MES_ANO_VALIDO" tipo="2" campoMsg="MES_REF"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “E316”">
                            <edicao exibir="false"/>
                            <valores-validos valores="E316"/>
                        </campo>
                        <campo n="2" id="COD_OR" tipo="C" tamanho="[3]" obrigatorio="1"
                               rotulo="Código do ICMS recolhido ou a recolher"
                               descricao="Código da obrigação a recolher, conforme a tabela 5.4 (tabela de códigos das obrigações de ICMS a recolher)">
                            <valores-validos datasource="COD_OR_E316"/>
                        </campo>
                        <campo n="3" id="VL_OR" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor da obrigação recolhida ou a recolher"
                               descricao="Valor da obrigação recolhida ou a recolher - diferencial de alíquota - UF origem/estino EC87/15">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="4" id="DT_VCTO" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data de vencimento"
                               descricao="Data de vencimento da obrigação">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                        </campo>
                        <campo n="5" id="COD_REC" tipo="C" obrigatorio="1" rotulo="Código de receita"
                               descricao="Código de receita referente à obrigação, próprio da unidade da federação">
                            <valores-validos datasource="COD_REC_E316_V3"/>
                            <edicao componente="203"/>
                        </campo>
                        <campo n="6" id="NUM_PROC" tipo="C" tamanho="60" obrigatorio="0" rotulo="Número do processo"
                               descricao="Número do processo ou auto de infração ao qual a obrigação está vinculada, se houver"/>
                        <campo n="7" id="IND_PROC" tipo="C" tamanho="[1]" obrigatorio="0" rotulo="Origem do processo"
                               descricao="Indicador da origem do processo">
                            <valores-validos valores="0=Sefaz;1=Justiça Federal;2=Justiça Estadual;9=Outros"/>
                        </campo>
                        <campo n="8" id="PROC" tipo="C" obrigatorio="0" rotulo="Descrição resumida do processo"
                               descricao="Descrição resumida do processo que embasou o lançamento"/>
                        <campo n="9" id="TXT_COMPL" tipo="C" obrigatorio="0"
                               rotulo="Descrição complementar das obrigações a recolher"
                               descricao="Descrição complementar das obrigações a recolher"/>
                        <campo n="10" id="MES_REF" tipo="N" tamanho="[6]" obrigatorio="1" rotulo="Mês de referência"
                               descricao="Informe o mês de referência no formato “mmaaaa”">
                            <validador id="REGRA_VALIDA_MES_REF" tipo="1"/>
                            <validador id="REGRA_MES_REF_MENOR_DT_INI_0000" tipo="1"/>
                            <edicao componente="116"/>
                        </campo>
                    </registro>
                </registro>
            </registro>
            <registro id="E500" nivel="2" ocorrencia="2" obrigatorio="0" chave="IND_APUR,DT_INI,DT_FIN"
                      rotulo="Período de Apuração" descricao="PERÍODO DE APURAÇÃO DO IPI">
                <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_INI" tipo="2" campoMsg="DT_INI"/>
                <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_FIN" tipo="2" campoMsg="DT_FIN"/>
                <validador id="REGRA_ABRANGER_PERIODO_ICMS_IPI" tipo="6"/>
                <validador id="REGRA_REGISTRO_OBRIGATORIO_E510" tipo="6"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “E500”">
                    <edicao exibir="false"/>
                    <valores-validos valores="E500"/>
                </campo>
                <campo n="2" id="IND_APUR" tipo="C" tamanho="1" obrigatorio="1" rotulo="Indicador de período"
                       descricao="Indicador de período de apuração do IPI: 0 - Mensal; 1 - Decendial">
                    <valores-validos valores="0=Mensal;1=Decendial"/>
                    <edicao x="0" y="0" largura="4"/>
                </campo>
                <campo n="3" id="DT_INI" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data inicial apuração"
                       descricao="Data inicial a que a apuração se refere">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <edicao x="0" y="1" largura="1" componente="103"/>
                </campo>
                <campo n="4" id="DT_FIN" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data final apuração"
                       descricao="Data final a que a apuração se refere">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <edicao x="1" y="1" largura="1" componente="103"/>
                </campo>

                <registro id="E510" nivel="3" ocorrencia="2" obrigatorio="0" chave="CFOP,CST_IPI"
                          rotulo="Valores Consolidados">

                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP" campoObservado="CFOP"/>
                    </edicao>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “E510”">
                        <edicao exibir="false"/>
                        <valores-validos valores="E510"/>
                    </campo>
                    <campo n="2" id="CFOP" tipo="N" tamanho="[4]" obrigatorio="1" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação do agrupamento de itens">
                        <valores-validos datasource="CFOP"/>
                        <edicao x="0" y="0" largura="4"/>
                    </campo>
                    <campo n="3" id="CST_IPI" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="CST/IPI"
                           descricao="Código da Situação Tributária referente ao IPI">
                        <valores-validos datasource="CST_IPI"/>
                        <edicao x="0" y="1" largura="4"/>
                    </campo>
                    <campo n="4" id="VL_CONT_IPI" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor Contábil"
                           descricao="Parcela correspondente ao valor contábil referente ao CFOP e ao Código de Tributação do IPI">
                        <edicao x="0" y="2" largura="1" componente="104"/>
                    </campo>
                    <campo n="5" id="VL_BC_IPI" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Base de cálculo do IPI"
                           descricao="Parcela correspondente ao valor da base de cálculo do IPI referente ao CFOP e ao Código de Tributação do IPI, para operações tributadas">
                        <edicao x="0" y="3" largura="1" componente="104"/>
                    </campo>
                    <campo n="6" id="VL_IPI" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do IPI"
                           descricao="Parcela correspondente ao valor do IPI referente ao CFOP e ao Código de Tributação do IPI, para operações tributadas">
                        <edicao x="1" y="3" largura="1" componente="104"/>
                    </campo>
                </registro>

                <registro id="E520" nivel="3" ocorrencia="1" obrigatorio="1" rotulo="Apuração">
                    <validador id="REGRA_DEBITOS_IPI" tipo="6"/>
                    <validador id="REGRA_CREDITOS_IPI" tipo="6"/>
                    <validador id="REGRA_DEBITOS_IPI_DOCS_A11E2V1" tipo="6"/>
                    <validador id="REGRA_CREDITOS_IPI_DOCS_A11E2V1" tipo="6"/>
                    <validador id="REGRA_VL_OD_IPI" tipo="6"/>
                    <validador id="REGRA_VL_OC_IPI" tipo="6"/>
                    <validador id="REGRA_VL_SC_IPI" tipo="2" campoMsg="VL_SC_IPI"
                               outrosCamposEnvolvidosValidacao="VL_SD_ANT_IPI;VL_CRED_IPI;VL_OC_IPI;VL_DEB_IPI;VL_OD_IPI;VL_SD_IPI"/>
                    <validador id="REGRA_VL_SD_IPI" tipo="2" campoMsg="VL_SD_IPI"
                               outrosCamposEnvolvidosValidacao="VL_SD_ANT_IPI;VL_CRED_IPI;VL_OC_IPI;VL_DEB_IPI;VL_OD_IPI;VL_SC_IPI"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “E520”">
                        <edicao exibir="false"/>
                        <valores-validos valores="E520"/>
                    </campo>
                    <campo n="2" id="VL_SD_ANT_IPI" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Saldo credor do período anterior"
                           descricao="Saldo credor do IPI transferido do período anterior">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="3" id="VL_DEB_IPI" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor dos débitos do IPI"
                           descricao="Valor total dos débitos do IPI por saídas com débito do imposto">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="4" id="VL_CRED_IPI" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor dos créditos do IPI"
                           descricao="Valor total dos créditos do IPI por entradas e aquisições com crédito do imposto">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="5" id="VL_OD_IPI" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor outros débitos do IPI"
                           descricao="Valor de outros débitos do IPI (inclusive estornos de crédito)">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_OC_IPI" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor outros créditos do IPI"
                           descricao="Valor de outros créditos do IPI (inclusive estornos de débitos)">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_SC_IPI" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor saldo credor no período"
                           descricao="Valor do saldo credor do IPI a transportar para o período seguinte">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="8" id="VL_SD_IPI" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor saldo devedor a recolher" descricao="Valor do saldo devedor do IPI a recolher">
                        <edicao componente="104"/>
                    </campo>

                    <registro id="E530" nivel="4" ocorrencia="2" obrigatorio="0" rotulo="Ajustes">
                        <gravador-sessao id="SESSAO_E530"/>
                        <edicao>
                            <observador-edicao-campo id="OBSERVADOR_FILTRA_REGRA_VALIDA_COD_AJ_IPI_E530"
                                                     campoObservado="IND_AJ" camposObservadores="COD_AJ"/>
                        </edicao>
                        <validador id="REGRA_VALIDA_VJ_AJ_E530" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “E530”">
                            <edicao exibir="false"/>
                            <valores-validos valores="E530"/>
                        </campo>
                        <campo n="2" id="IND_AJ" tipo="C" tamanho="1" obrigatorio="1" rotulo="Tipo de ajuste"
                               descricao="Indicador do tipo de ajuste">
                            <valores-validos valores="0=Ajuste a débito;1=Ajuste a crédito"/>
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="3" id="VL_AJ" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ajuste"
                               descricao="Valor do ajuste">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="0" y="2" largura="1" componente="104"/>
                        </campo>
                        <campo n="4" id="COD_AJ" tipo="C" tamanho="[3]" obrigatorio="1"
                               rotulo="Código do ajuste da apuração"
                               descricao="Código do ajuste da apuração, conforme a Tabela Código de Ajuste da Apuração do IPI – Tabela publicada pela RFB">
                            <validador id="REGRA_VALIDA_COD_AJ_IPI_E530" tipo="1"/>
                            <valores-validos datasource="COD_AJ_IPI"/>
                            <edicao x="0" y="1" largura="4"/>
                        </campo>
                        <campo n="5" id="IND_DOC" tipo="C" tamanho="1" obrigatorio="1" rotulo="Origem do documento"
                               descricao="Indicador da origem do documento vinculado ao ajuste">
                            <valores-validos
                                    valores="0=Processo Judicial;1=Processo Administrativo;2=PER/DCOMP;3=Documento Fiscal;9=Outros"/>
                            <edicao x="0" y="3" largura="4"/>
                        </campo>
                        <campo n="6" id="NUM_DOC" tipo="C" obrigatorio="0" rotulo="Número do documento"
                               descricao="Número do documento/processo/declaração ao qual o ajuste está vinculado, se houver">
                            <edicao x="0" y="4" largura="1"/>
                        </campo>
                        <campo n="7" id="DESCR_AJ" tipo="C" obrigatorio="1" rotulo="Descrição resumida"
                               descricao="Descrição resumida do ajuste">
                            <edicao x="1" y="4" largura="1"/>
                        </campo>
                        <registro id="E531" nivel="4" ocorrencia="2" obrigatorio="0"
                                  rotulo="Informações Adicionais dos Ajustes da Apuração do IPI"
                                  descricao="Informações Adicionais dos Ajustes da Apuração do IPI – identificação dos documentos fiscais e suas respectivas regras de importação e validação">
                            <validador id="REGRA_OBRIGATORIO_E531" tipo="6"/>
                            <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_NFE"/>
                            <validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_NFE"/>
                            <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_A13E1V2" tipo="2" campoMsg="CHV_NFE"
                                       outrosCamposEnvolvidosValidacao="COD_MOD"/>
                            <validador id="REGRA_COMPARA_CODIGO_MODELO" tipo="2" campoMsg="CHV_NFE"/>
                            <validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE" tipo="2" campoMsg="CHV_NFE"
                                       outrosCamposEnvolvidosValidacao="NUM_DOC"/>
                            <validador id="REGRA_EXISTE_COD_MOD" tipo="3"/>
                            <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                            <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                            <validador id="REGRA_NAO_INFORMAR_E531" tipo="6"/>

                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “E531”">
                                <edicao exibir="false"/>
                                <valores-validos valores="E531"/>
                            </campo>
                            <campo n="2" id="COD_PART" tipo="C" tamanho="60" obrigatorio="0"
                                   rotulo="Código do participante"
                                   descricao="Código do participante (campo 02 do Registro 0150) - do emitente do documento ou do remetente das mercadorias, no caso de entradas - do adquirente, no caso de saídas">
                                <valores-validos datasource="COD_PART_0150_SV"/>
                                <edicao x="0" y="0" largura="4"/>
                            </campo>
                            <campo n="3" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1"
                                   rotulo="Código do modelo do documento fiscal"
                                   descricao="Código do modelo do documento fiscal, conforme a Tabela 4.1.1">
                                <valores-validos valores="01=Nota Fiscal;55=Nota Fiscal Eletrônica"/>
                            </campo>
                            <campo n="4" id="SER" tipo="C" tamanho="4" obrigatorio="0"
                                   rotulo="Série do documento fiscal" descricao="Série do documento fiscal">
                            </campo>
                            <campo n="5" id="SUB" tipo="N" tamanho="3" obrigatorio="0"
                                   rotulo="Subsérie do documento fiscal" descricao="Subsérie do documento fiscal">
                            </campo>
                            <campo n="6" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1"
                                   rotulo="Número do documento fiscal" descricao="Número do documento fiscal">
                                <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            </campo>
                            <campo n="7" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                                   descricao="Data da emissão do documento fiscal (DDMMAAAA)">
                                <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                                <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                                <edicao componente="103"/>
                            </campo>
                            <campo n="8" id="COD_ITEM" tipo="C" obrigatorio="0" rotulo="Código do item"
                                   descricao="Código do item (campo 02 do Registro 0200)">
                                <valores-validos datasource="COD_ITEM_0200_SV"/>
                            </campo>
                            <campo n="9" id="VL_AJ_ITEM" tipo="N" casasdecimais="2" obrigatorio="1"
                                   rotulo="Valor do ajuste para a operação/item"
                                   descricao="Valor do ajuste para a operação/item"/>
                            <campo n="10" id="CHV_NFE" tipo="N" tamanho="[44]" obrigatorio="0" rotulo="Chave da NFe"
                                   descricao="Chave da Nota Fiscal Eletrônica">
                                <edicao componente="113"/>
                            </campo>
                        </registro>
                    </registro>
                </registro>
            </registro>
        </registro>

        <registro id="E990" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ENCERRAMENTO DO BLOCO E"
                  outros="[obrigatorioimportacao=true]">
            <edicao exibir="false"/>
            <validador id="REGRA_QTD_LIN_BLOCOE" tipo="0"/>
            <validador id="REGRA_BLOCO_COM_SEM_MOVIMENTO" tipo="0"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “E990”">
                <valores-validos valores="E990"/>
            </campo>
            <campo n="2" id="QTD_LIN_E" tipo="N" obrigatorio="1" rotulo="Quantidade total de linhas"
                   descricao="Quantidade total de linhas do Bloco E">
                <edicao valorPadrao="2"/><!-- E001 E990 -->
            </campo>
        </registro>

    </bloco>

    <bloco id="G" rotulo="CONTROLE DO CRÉDITO DE ICMS DO ATIVO PERMANENTE – CIAP – modelos “C” e “D”">

        <registro id="G001" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="Abertura do Bloco G"
                  outros="[obrigatorioimportacao=true]">
            <edicao exibir="false"/>
            <gravador-sessao id="SESSAO_G001"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “G001”">
                <valores-validos valores="G001"/>
            </campo>
            <campo n="2" id="IND_MOV" tipo="C" tamanho="1" obrigatorio="1" rotulo="Indicador de movimento"
                   descricao="Indicador de movimento">
                <valores-validos valores="0=Bloco com dados informados;1=Bloco sem dados informados"/>
                <edicao valorPadrao="1"/>
            </campo>

            <registro id="G110" nivel="2" ocorrencia="2" obrigatorio="0" chave="DT_INI,DT_FIN"
                      rotulo="ICMS – Ativo Permanente – CIAP">
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_DT_INI_DT_FIN" tipo="2" campoMsg="DT_INI"
                           outrosCamposEnvolvidosValidacao="DT_FIN"/>
                <validador id="REGRA_SALDO_INICIAL_G125" tipo="6"/>
                <validador id="REGRA_SAIDA_DO_BEM_G125" tipo="6"/>
                <validador id="REGRA_IND_PER_SAI_EXP_A4E3V1" tipo="2" campoMsg="IND_PER_SAI"
                           outrosCamposEnvolvidosValidacao="VL_TRIB_EXP;VL_TOTAL"/>
                <validador id="REGRA_ICMS_APROP" tipo="2" campoMsg="ICMS_APROP"
                           outrosCamposEnvolvidosValidacao="SOM_PARC;IND_PER_SAI"/>
                <validador id="REGRA_VL_TRIB_EXP" tipo="2" campoMsg="VL_TRIB_EXP"
                           outrosCamposEnvolvidosValidacao="VL_TOTAL"/>
                <validador id="REGRA_EXISTE_PERIODO_E100" tipo="6"/>
                <validador id="REGRA_SALDO_IN_ICMS" tipo="6"/>
                <validador id="REGRA_SOM_ICMS_OC" tipo="6"/>
                <validador id="REGRA_SOM_PARC" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “G110”">
                    <edicao exibir="false"/>
                    <valores-validos valores="G110"/>
                </campo>
                <campo n="2" id="DT_INI" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data inicial apuração"
                       descricao="Data inicial a que a apuração se refere">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                </campo>
                <campo n="3" id="DT_FIN" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data final apuração"
                       descricao="Data final a que a apuração se refere">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                </campo>
                <campo n="4" id="SALDO_IN_ICMS" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saldo inicial de ICMS do CIAP"
                       descricao="Saldo inicial de ICMS do CIAP, composto por ICMS de bens que entraram anteriormente ao período de apuração">
                </campo>
                <campo n="5" id="SOM_PARC" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Somatório das parcelas de ICMS"
                       descricao="Somatório das parcelas de ICMS passível de apropriação de cada bem – campo 10 do G125">
                </campo>
                <campo n="6" id="VL_TRIB_EXP" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor do somatório das saídas tributadas/exportação"
                       descricao="Valor do somatório das saídas tributadas e saídas para exportação">
                </campo>
                <campo n="7" id="VL_TOTAL" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor total de saídas"
                       descricao="Valor total de saídas">
                </campo>
                <campo n="8" id="IND_PER_SAI" tipo="N" casasdecimais="8" obrigatorio="1"
                       rotulo="Índice de participação do somatório das saídas tributadas/exportação"
                       descricao="Índice de participação do valor do somatório das saídas tributadas e saídas para exportação no valor total de saídas (Campo 06 dividido pelo campo 07)">
                </campo>
                <campo n="9" id="ICMS_APROP" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Parcela de ICMS a ser apropriada"
                       descricao="Parcela de ICMS a ser apropriada no Registro de Apuração do ICMS">
                </campo>
                <campo n="10" id="SOM_ICMS_OC" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor de outras parcelas"
                       descricao="Valor de outras parcelas a ser apropriada na Apuração do ICMS, correspondente ao somatório do campo 09 do registro G126">
                </campo>

                <registro id="G125" nivel="3" ocorrencia="2" obrigatorio="1" chave="COD_IND_BEM,TIPO_MOV"
                          rotulo="Movimentação de bem"
                          descricao="Movimentação de bem ou componente do Ativo Imobilizado">

                    <validador id="REGRA_EXISTE_COD_IND_BEM" tipo="6"/>
                    <validador id="REGRA_MOVIMENTACAO_BEM_V2" tipo="6"/>
                    <!-- <validador id="REGRA_CONCLUSAO_IMOBILIZACAO" tipo="6"/>  DESATIVADA COMO SUGESTAO EM 12/11/2021 - Relato 2958322 ALM RETROATIVA - LEIAUTE 2017-->
                    <validador id="REGRA_REGISTRO_OBRIGATORIO_G130_4002" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIEDADE_NUM_PARC" tipo="2" campoMsg="NUM_PARC"
                               outrosCamposEnvolvidosValidacao="VL_PARC_PASS"/>
                    <validador id="REGRA_OBRIGATORIEDADE_VL_PARC" tipo="2" campoMsg="VL_PARC_PASS"
                               outrosCamposEnvolvidosValidacao="NUM_PARC"/>
                    <validador id="REGRA_PREENCHIMENTO_POR_MOVIMENTACAO_NUM_PARC_A4E3V1" tipo="2" campoMsg="NUM_PARC"
                               outrosCamposEnvolvidosValidacao="TIPO_MOV"/>
                    <validador id="REGRA_PREENCHIMENTO_POR_MOVIMENTACAO_VL_PARC_PASS_A4E3V1" tipo="2"
                               campoMsg="VL_PARC_PASS" outrosCamposEnvolvidosValidacao="TIPO_MOV"/>
                    <validador id="REGRA_PREENCHIMENTO_POR_MOVIMENTACAO_VL_IMOB_ICMS_DIF_A4E3V1" tipo="2"
                               campoMsg="VL_IMOB_ICMS_DIF" outrosCamposEnvolvidosValidacao="TIPO_MOV"/>
                    <validador id="REGRA_PREENCHIMENTO_POR_MOVIMENTACAO_VL_IMOB_ICMS_FRT_A4E3V1" tipo="2"
                               campoMsg="VL_IMOB_ICMS_FRT" outrosCamposEnvolvidosValidacao="TIPO_MOV"/>
                    <validador id="REGRA_PREENCHIMENTO_POR_MOVIMENTACAO_VL_IMOB_ICMS_OP_A4E3V1" tipo="2"
                               campoMsg="VL_IMOB_ICMS_OP" outrosCamposEnvolvidosValidacao="TIPO_MOV"/>
                    <validador id="REGRA_PREENCHIMENTO_POR_MOVIMENTACAO_VL_IMOB_ICMS_ST_A4E3V1" tipo="2"
                               campoMsg="VL_IMOB_ICMS_ST" outrosCamposEnvolvidosValidacao="TIPO_MOV"/>
                    <validador id="REGRA_IMOB_ICMS_MAIOR_ZERO" tipo="2" campoMsg="VL_IMOB_ICMS_OP"
                               outrosCamposEnvolvidosValidacao="VL_IMOB_ICMS_ST;VL_IMOB_ICMS_FRT;VL_IMOB_ICMS_DIF"/>
                    <validador id="REGRA_DT_MOV_4002" tipo="6"/>
                    <validador id="REGRA_NUM_PARC" tipo="6"/>
                    <validador id="REGRA_VL_PARC_PASS" tipo="6"/>
                    <validador id="REGRA_TIPO_MOV_BEM_G125" tipo="6"/>
                    <validador id="REGRA_TIPO_MOV_COMPONENTE_G125" tipo="6"/>
                    <validador id="REGRA_VALIDA_VL_IMOB_ICMS_OP_G125" tipo="6"/>
                    <validador id="REGRA_VALIDA_VL_IMOB_ICMS_ST_G125" tipo="6"/>
                    <validador id="REGRA_VALIDA_VL_IMOB_ICMS_DIF_G125" tipo="6"/>
                    <validador id="REGRA_VALIDA_VL_IMOB_ICMS_FRT_G125" tipo="6"/>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “G125”">
                        <edicao exibir="false"/>
                        <valores-validos valores="G125"/>
                    </campo>
                    <campo n="2" id="COD_IND_BEM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do bem"
                           descricao="Código individualizado do bem ou componente adotado no controle patrimonial do estabelecimento informante. (campo 2 do registro 0300)"
                           referenciaPesquisa="0300;COD_IND_BEM">
                        <valores-validos datasource="COD_IND_BEM_0300_SV"/>
                    </campo>
                    <campo n="3" id="DT_MOV" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da movimentação"
                           descricao="Data da movimentação ou do saldo inicial">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    </campo>
                    <campo n="4" id="TIPO_MOV" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="Tipo de movimentação"
                           descricao="Tipo de movimentação do bem ou componente">
                        <valores-validos
                                valores="SI=Saldo inicial de bens imobilizados;IM=Imobilização de bem individual;IA=Imobilização em Andamento - Componente;CI=Conclusão de Imobilização em Andamento – Bem Resultante;MC=Imobilização oriunda do Ativo Circulante;BA=Baixa do bem - Fim do período de apropriação;AT=Alienação ou Transferência;PE=Perecimento, Extravio ou Deterioração;OT=Outras Saídas do Imobilizado"/>
                    </campo>
                    <campo n="5" id="VL_IMOB_ICMS_OP" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor do ICMS da Operação Própria"
                           descricao="Valor do ICMS da Operação Própria na entrada do bem ou componente">
                    </campo>
                    <campo n="6" id="VL_IMOB_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor do ICMS da Oper. por Sub. Tributária"
                           descricao="Valor do ICMS da Oper. por Sub. Tributária na entrada do bem ou componente">
                    </campo>
                    <campo n="7" id="VL_IMOB_ICMS_FRT" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor do ICMS sobre Frete"
                           descricao="Valor do ICMS sobre Frete do Conhecimento de Transporte na entrada do bem ou componente">
                    </campo>
                    <campo n="8" id="VL_IMOB_ICMS_DIF" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor do ICMS - Diferencial de Alíquota"
                           descricao="Valor do ICMS - Diferencial de Alíquota, conforme Doc. de Arrecadação, na entrada do bem ou componente">
                    </campo>
                    <campo n="9" id="NUM_PARC" tipo="N" tamanho="3" obrigatorio="0" rotulo="Número da parcela"
                           descricao="Número da parcela do ICMS">
                    </campo>
                    <campo n="10" id="VL_PARC_PASS" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor da parcela de ICMS passível de apropriação"
                           descricao="Valor da parcela de ICMS passível de apropriação - antes da aplicação da participação percentual do valor das saídas tributadas/exportação sobre as saídas totais (Modelo D)">
                    </campo>

                    <registro id="G126" nivel="4" ocorrencia="2" obrigatorio="0"
                              outros="[naousachavenaduplicidade=true]" chave="DT_INI,DT_FIN"
                              rotulo="Outros créditos CIAP" descricao="Outros créditos CIAP">
                        <persistencia indices="DT_INI;DT_FIN"/>
                        <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_DT_INI_DT_FIN" tipo="2" campoMsg="DT_INI"
                                   outrosCamposEnvolvidosValidacao="DT_FIN"/>
                        <validador id="REGRA_IND_PER_SAI_OC_A4E3V1" tipo="2" campoMsg="IND_PER_SAI"
                                   outrosCamposEnvolvidosValidacao="VL_TRIB_OC;VL_TOTAL"/>
                        <validador id="REGRA_VL_TRIB_OC" tipo="2" campoMsg="VL_TRIB_OC"
                                   outrosCamposEnvolvidosValidacao="VL_TOTAL"/>
                        <validador id="REGRA_MENOR_DT_INI_0000" tipo="2" campoMsg="DT_FIN"/>
                        <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_E100_INTERVALO_DATA_A9E1V1" tipo="6"/>
                        <validador id="REGRA_VL_PARC_APROP" tipo="2" campoMsg="VL_PARC_APROP"
                                   outrosCamposEnvolvidosValidacao="VL_PARC_PASS;IND_PER_SAI"/>

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “G126”">
                            <edicao exibir="false"/>
                            <valores-validos valores="G126"/>
                        </campo>
                        <campo n="2" id="DT_INI" tipo="D" tamanho="[8]" obrigatorio="1"
                               rotulo="Data inicial da apuração" descricao="Data inicial do período de apuração">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                        </campo>
                        <campo n="3" id="DT_FIN" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data final da apuração"
                               descricao="Data final do período de apuração">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                        </campo>
                        <campo n="4" id="NUM_PARC" tipo="N" tamanho="3" obrigatorio="1" rotulo="Número da parcela"
                               descricao="Número da parcela do ICMS">
                        </campo>
                        <campo n="5" id="VL_PARC_PASS" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor da parcela de ICMS passível de apropriação"
                               descricao="Valor da parcela de ICMS passível de apropriação - antes da aplicação da participação percentual do valor das saídas tributadas/exportação sobre as saídas totais">
                        </campo>
                        <campo n="6" id="VL_TRIB_OC" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor do somatório das saídas tributadas/exportação"
                               descricao="Valor do somatório das saídas tributadas e saídas para exportação no período indicado neste registro">
                        </campo>
                        <campo n="7" id="VL_TOTAL" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor total de saídas"
                               descricao="Valor total de saídas no período indicado neste registro">
                        </campo>
                        <campo n="8" id="IND_PER_SAI" tipo="N" casasdecimais="8" obrigatorio="1"
                               rotulo="Índice de participação do valor do somatório das saídas tributadas/exportação"
                               descricao="Índice de participação do valor do somatório das saídas tributadas e saídas para exportação no valor total de saídas (Campo 06 dividido pelo campo 07)">
                        </campo>
                        <campo n="9" id="VL_PARC_APROP" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor da parcela apropriada de ICMS"
                               descricao="Valor da parcela apropriada de ICMS">
                        </campo>


                    </registro>

                    <registro id="G130" nivel="4" ocorrencia="2" obrigatorio="0"
                              chave="IND_EMIT,COD_PART,COD_MOD,SERIE,NUM_DOC" rotulo="Identificação do documento"
                              descricao="Identificação do documento fiscal">

                        <persistencia indices="COD_PART;"/>
                        <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                        <validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE" tipo="2" campoMsg="CHV_NFE_CTE"
                                   outrosCamposEnvolvidosValidacao="NUM_DOC"/>
                        <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_NFE_CTE"/>
                        <validador id="REGRA_COMPARA_UF_NFE_CTE_13001_V1" tipo="2" campoMsg="CHV_NFE_CTE"/>
                        <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_A13E1V2" tipo="2" campoMsg="CHV_NFE_CTE"
                                   outrosCamposEnvolvidosValidacao="COD_MOD;IND_EMIT"/>
                        <validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_NFE_CTE"/>
                        <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_TERCEIROS_12001_V1" tipo="2" campoMsg="CHV_NFE_CTE"
                                   outrosCamposEnvolvidosValidacao="COD_MOD;IND_EMIT"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “G130”">
                            <edicao exibir="false"/>
                            <valores-validos valores="G130"/>
                        </campo>
                        <campo n="2" id="IND_EMIT" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Emitente"
                               descricao="Indicador do emitente do documento fiscal">
                            <valores-validos valores="0=Emissão própria;1=Terceiros"/>
                        </campo>
                        <campo n="3" id="COD_PART" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do participante"
                               descricao="Código do participante (campo 02 do Registro 0150): - do emitente do documento ou do remetente das mercadorias, no caso de entradas; - do adquirente, no caso de saídas"
                               referenciaPesquisa="0150;COD_PART">
                            <valores-validos datasource="COD_PART_0150_SV"/>
                        </campo>
                        <campo n="4" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1"
                               rotulo="Código do modelo do documento"
                               descricao="Código do modelo do documento fiscal, conforme a tabela de Codificação dos Documentos">
                            <!-- <valores-validos datasource="COD_MOD"/>-->
                            <valores-validos
                                    valores="01=Nota Fiscal;1B=Nota Fiscal Avulsa;04=Nota Fiscal de Produtor;07=Nota Fiscal de Serviço de Transporte;08=Conhecimento de Transporte Rodoviário de Cargas;8B=Conhecimento de Transporte de Cargas Avulso;09=Conhecimento de Transporte Aquaviário de Cargas;10=Conhecimento Aéreo;26=Conhecimento de Transporte Multimodal de Cargas;27=Nota Fiscal de Transporte Ferroviário de Cargas;55=Nota Fiscal Eletrônica;57=Conhecimento de Transporte Eletrônico - CT-e"/>
                        </campo>
                        <campo n="5" id="SERIE" tipo="C" tamanho="3" obrigatorio="0" rotulo="Série"
                               descricao="Série do documento fiscal">
                        </campo>
                        <campo n="6" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número do documento"
                               descricao="Número do documento fiscal">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <campo n="7" id="CHV_NFE_CTE" tipo="N" tamanho="[44]" obrigatorio="0" rotulo="Chave da NFe/CTe"
                               descricao="Chave do documento fiscal eletrônico">
                            <edicao componente="113"/>
                        </campo>
                        <campo n="8" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                               descricao="Data da emissão do documento fiscal (DDMMAAAA)">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao componente="103"/>
                        </campo>
                        <campo n="9" id="NUM_DA" tipo="C" obrigatorio="0" rotulo="Número do documento de arrecadação"
                               descricao="Número do documento de arrecadação">
                        </campo>

                        <registro id="G140" nivel="5" ocorrencia="2" obrigatorio="1" chave="NUM_ITEM"
                                  rotulo="Identificação do item" descricao="Identificação do item do documento fiscal">

                            <persistencia indices="COD_ITEM"/>
                            <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                            <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                            <validador id="REGRA_VALIDA_UNID_G140" tipo="6"/>
                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “G140”">
                                <edicao exibir="false"/>
                                <valores-validos valores="G140"/>
                            </campo>
                            <campo n="2" id="NUM_ITEM" tipo="N" tamanho="3" obrigatorio="1" rotulo="Número seqüencial"
                                   descricao="Número seqüencial do item no documento fiscal">
                                <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                                <edicao x="0" y="0" largura="1" componente="107"/>
                            </campo>
                            <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do item"
                                   descricao="Código do item (campo 02 do Registro 0200)"
                                   referenciaPesquisa="0200;COD_ITEM">
                                <valores-validos datasource="COD_ITEM_0200_SV"/>
                                <edicao x="0" y="1" largura="6"/>
                            </campo>
                            <campo n="4" id="QTDE" tipo="N" casasdecimais="5" obrigatorio="1"
                                   rotulo="Quantidade aplicada"
                                   descricao="Quantidade, deste item da nota fiscal, que foi aplicada neste bem, expressa na mesma unidade constante no documento fiscal de entrada">
                                <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                                <edicao x="0" y="2" largura="6"/>
                            </campo>
                            <campo n="5" id="UNID" tipo="C" tamanho="6" obrigatorio="1"
                                   rotulo="Unidade do item constante no documento fiscal de entrada"
                                   descricao="Unidade do item constante no documento fiscal de entrada">
                                <valores-validos datasource="UNID_0190_SV"/>
                                <edicao x="0" y="3" largura="6"/>
                            </campo>
                            <campo n="6" id="VL_ICMS_OP_APLICADO" tipo="N" casasdecimais="2" obrigatorio="1"
                                   rotulo="Valor do ICMS OP proporcional à quant. aplicada"
                                   descricao="Valor do ICMS da Operação Própria na entrada do item, proporcional à quantidade aplicada no bem ou componente.">
                                <edicao x="0" y="4" largura="6" componente="104"/>
                            </campo>
                            <campo n="7" id="VL_ICMS_ST_APLICADO" tipo="N" casasdecimais="2" obrigatorio="1"
                                   rotulo="Valor do ICMS ST proporcional à quant. aplicada"
                                   descricao="Valor do ICMS ST na entrada do item, proporcional à quantidade aplicada no bem ou componente">
                                <edicao x="0" y="5" largura="1" componente="104"/>
                            </campo>
                            <campo n="8" id="VL_ICMS_FRT_APLICADO" tipo="N" casasdecimais="2" obrigatorio="1"
                                   rotulo="Valor do ICMS Frete proporcional à quant. aplicada"
                                   descricao="Código do item (campo 02 do Registro 0200)">
                                <edicao x="0" y="6" largura="1" componente="104"/>
                            </campo>
                            <campo n="9" id="VL_ICMS_DIF_APLICADO" tipo="N" casasdecimais="2" obrigatorio="1"
                                   rotulo="Valor do ICMS Dif. Alíq. proporcional à quant. aplicada"
                                   descricao="Valor do ICMS Diferencial de Alíquota, na entrada do item, proporcional à quantidade aplicada no bem ou componente">
                                <edicao x="0" y="7" largura="6" componente="104"/>
                            </campo>
                        </registro>
                    </registro>
                </registro>
            </registro>
        </registro>

        <registro id="G990" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="Encerramento do Bloco G"
                  outros="[obrigatorioimportacao=true]">
            <edicao exibir="false"/>
            <validador id="REGRA_QTD_LIN_BLOCOG" tipo="0"/>
            <validador id="REGRA_BLOCO_COM_SEM_MOVIMENTO" tipo="0"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “G990”">
                <valores-validos valores="G990"/>
            </campo>
            <campo n="2" id="QTD_LIN_G" tipo="N" obrigatorio="1" rotulo="Quantidade total de linhas"
                   descricao="Quantidade total de linhas do Bloco G">
                <edicao valorPadrao="2"/><!-- G001 G990 -->
            </campo>
        </registro>

    </bloco>

    <bloco id="H" rotulo="INVENTÁRIO FÍSICO">

        <registro id="H001" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ABERTURA DO BLOCO H"
                  outros="[obrigatorioimportacao=true]">
            <edicao exibir="false"/>
            <gravador-sessao id="SESSAO_H001"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “H001”">
                <valores-validos valores="H001"/>
            </campo>
            <campo n="2" id="IND_MOV" tipo="C" tamanho="1" obrigatorio="1" rotulo="Indicador de movimento"
                   descricao="Indicador de movimento">
                <valores-validos valores="0=Bloco com dados informados;1=Bloco sem dados informados"/>
                <edicao valorPadrao="1"/>
            </campo>

            <registro id="H005" nivel="2" ocorrencia="2" obrigatorio="2" chave="DT_INV,MOT_INV"
                      rotulo="Totais do Inventário">
                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_H005"/>
                <validador id="REGRA_REGISTRO_OBRIGATORIO_H010" tipo="6"/>
                <validador id="REGRA_OBRIGATORIO_H020_13001_V4" tipo="6"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_INV" tipo="2" campoMsg="DT_INV"/>
                <validador id="REGRA_DT_INV_VALIDA" tipo="2" campoMsg="DT_INV"
                           outrosCamposEnvolvidosValidacao="MOT_INV"/>
                <validador id="REGRA_VL_INV" tipo="6"/>
                <validador id="REGRA_OBRIGATORIO_MOT_INV_06_H005_15001_V1" tipo="6"/>
                <validador id="REGRA_REGISTRO_H005_FINAL_PERIODO_V2" tipo="6"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “H005”">
                    <edicao exibir="false"/>
                    <valores-validos valores="H005"/>
                </campo>
                <campo n="2" id="DT_INV" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data do inventário"
                       descricao="Data do inventário">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao componente="103"/>
                </campo>
                <campo n="3" id="VL_INV" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor total do estoque"
                       descricao="Valor total do estoque">
                    <edicao componente="104"/>
                </campo>
                <campo n="4" id="MOT_INV" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="Informe o motivo do inventário"
                       descricao="Informe o motivo do Inventário: 01 – No final no período; 02 – Na mudança de forma de tributação da mercadoria (ICMS); 03 – Na solicitação da baixa cadastral, paralisação temporária; 04 – Na alteração de regime de pagamento – condição do contribuinte; 05 – Por determinação dos fiscos">
                    <valores-validos
                            valores="01=No final no período;02=Na mudança de forma de tributação da mercadoria(ICMS);03=Na solicitação da baixa cadastral, paralisação temporária;04=Na alteração de regime de pagamento – condição do contribuinte;05=Por determinação dos fiscos;06=Para controle das mercadorias sujeitas ao regime de substituição tributária – restituição/ressarcimento/complementação"/>
                </campo>

                <registro id="H010" nivel="3" ocorrencia="2" obrigatorio="0" chave="COD_ITEM,IND_PROP,COD_PART"
                          rotulo="INVENTÁRIO">

                    <persistencia indices="COD_PART;UNID"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                    <validador id="REGRA_COD_PART_NAO_PREENCHER" tipo="2" campoMsg="COD_PART"
                               outrosCamposEnvolvidosValidacao="IND_PROP"/>
                    <validador id="REGRA_EXISTE_UNID_PARA_ITEM_INVENTARIO" tipo="6"/>
                    <validador id="REGRA_EXISTE_H010" tipo="6"/>
                    <validador id="REGRA_IND_PROP" tipo="2" campoMsg="IND_PROP"
                               outrosCamposEnvolvidosValidacao="COD_PART"/>
                    <validador id="REGRA_OBRIGATORIO_COD_CTA" tipo="2" campoMsg="COD_CTA"
                               outrosCamposEnvolvidosValidacao=""/>
                    <validador id="REGRA_OBRIGATORIO_MOT_INV_06_H010_15001_V1" tipo="6"/>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “H010”">
                        <edicao exibir="false"/>
                        <valores-validos valores="H010"/>
                    </campo>
                    <campo n="2" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do item"
                           descricao="Código do item (campo 02 do Registro 0200)" referenciaPesquisa="0200;COD_ITEM">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                        <edicao x="0" y="0" largura="6"/>
                    </campo>
                    <campo n="3" id="UNID" tipo="C" tamanho="6" obrigatorio="1" rotulo="Unidade do item"
                           descricao="Unidade do item (Campo 06 do registro 0200)" referenciaPesquisa="0190;UNID">
                        <valores-validos datasource="UNID_0190_SV"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="QTD" tipo="N" casasdecimais="3" obrigatorio="1" rotulo="Quantidade do item"
                           descricao="Quantidade do item">
                        <edicao x="0" y="2" largura="1" componente="106"/>
                    </campo>
                    <campo n="5" id="VL_UNIT" tipo="N" casasdecimais="6" obrigatorio="1" rotulo="Valor unitário do item"
                           descricao="Valor unitário do item">
                        <edicao x="1" y="2" largura="1" componente="104"/>
                    </campo>
                    <campo n="6" id="VL_ITEM" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do item"
                           descricao="Valor do item">
                        <edicao x="2" y="2" largura="1" componente="104"/>
                    </campo>
                    <campo n="7" id="IND_PROP" tipo="C" tamanho="1" obrigatorio="1"
                           rotulo="Indicador de propriedade/posse" descricao="Indicador de propriedade/posse do item">
                        <valores-validos
                                valores="0=Item de propriedade do informante e em seu poder;1=Item de propriedade do informante em posse de terceiros;2=Item de propriedade de terceiros em posse do informante"/>
                        <edicao x="0" y="3" largura="6"/>
                    </campo>
                    <campo n="8" id="COD_PART" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do participante"
                           descricao="Código do participante (campo 02 do Registro 0150): - proprietário/possuidor que não seja o informante do arquivo"
                           referenciaPesquisa="0150;COD_PART">
                        <valores-validos datasource="COD_PART_0150_SV"/>
                        <edicao x="0" y="4" largura="6"/>
                    </campo>
                    <campo n="9" id="TXT_COMPL" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                           descricao="Descrição complementar">
                        <edicao x="0" y="5" largura="6"/>
                    </campo>
                    <campo n="10" id="COD_CTA" tipo="C" obrigatorio="0" rotulo="Código da conta analítica"
                           descricao="Código da conta analítica contábil debitada/creditada">
                        <edicao x="0" y="6" largura="4"/>
                    </campo>
                    <campo n="11" id="VL_ITEM_IR" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor do item para efeitos do Imposto de Renda"
                           descricao="Valor do item para efeitos do Imposto de Renda">
                        <edicao x="0" y="7" largura="4" componente="104"/>
                    </campo>

                    <registro id="H020" nivel="4" ocorrencia="2" obrigatorio="0"
                              rotulo="INFORMAÇÃO COMPLEMENTAR DO INVENTÁRIO">
                        <validador id="REGRA_NAO_INFORMAR_H020" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “H020”">
                            <edicao exibir="false"/>
                            <valores-validos valores="H020"/>
                        </campo>
                        <campo n="2" id="CST_ICMS" tipo="N" tamanho="[3]" obrigatorio="1"
                               rotulo="Código da Situação Tributária"
                               descricao="Código da Situação Tributária referente ao ICMS, conforme a Tabela indicada no item 4.3.1"
                               referenciaPesquisa="H020;CST_ICMS">
                            <valores-validos datasource="CST_ICMS"/>
                            <edicao x="0" y="0" largura="3"/>
                        </campo>
                        <campo n="3" id="BL_ICMS" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Informe a base de cálculo do ICMS" descricao="Informe a base de cálculo do ICMS"
                               referenciaPesquisa="H020;BC_ICMS">
                            <edicao x="0" y="1" largura="60" componente="104"/>
                        </campo>
                        <campo n="4" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Informe o valor do ICMS a ser debitado ou creditado"
                               descricao="Informe o valor do ICMS a ser debitado ou creditado"
                               referenciaPesquisa="H020;VL_ICMS">
                            <edicao x="0" y="2" largura="60" componente="104"/>
                        </campo>
                    </registro>

                    <registro id="H030" nivel="4" ocorrencia="1" obrigatorio="0"
                              rotulo="INFORMAÇÕES COMPLEMENTARES DO INVENTÁRIO DAS MERCADORIAS SUJEITAS AO REGIME DE SUBSTITUIÇÃO TRIBUTÁRIA">
                        <validador id="REGRA_OBRIGATORIO_H030" tipo="6"/>
                        <validador id="REGRA_NAO_INFORMAR_H030" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “H030”">
                            <edicao exibir="false"/>
                            <valores-validos valores="H030"/>
                        </campo>
                        <campo n="2" id="VL_ICMS_OP" tipo="N" casasdecimais="6" obrigatorio="1"
                               rotulo="Valor médio unitário do ICMS OP" descricao="Valor médio unitário do ICMS OP">
                            <edicao x="0" y="0" largura="1" componente="104"/>
                        </campo>
                        <campo n="3" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="6" obrigatorio="1"
                               rotulo="Valor médio unit. BC ICMS ST, incluindo FCP ST"
                               descricao="Valor médio unitário da Base de Cálculo do ICMS ST, incluindo FCP ST">
                            <edicao x="1" y="0" largura="1" componente="104"/>
                        </campo>
                        <campo n="4" id="VL_ICMS_ST" tipo="N" casasdecimais="6" obrigatorio="1"
                               rotulo="Valor médio unitário do ICMS ST" descricao="Valor médio unitário do ICMS ST">
                            <edicao x="0" y="1" largura="1" componente="104"/>
                        </campo>
                        <campo n="5" id="VL_FCP" tipo="N" casasdecimais="6" obrigatorio="1"
                               rotulo="Valor médio unitário de FCP ST" descricao="Valor médio unitário de FCP ST">
                            <edicao x="1" y="1" largura="1" componente="104"/>
                        </campo>
                    </registro>

                </registro>

            </registro>

        </registro>

        <registro id="H990" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ENCERRAMENTO DO BLOCO H"
                  outros="[obrigatorioimportacao=true]">
            <edicao exibir="false"/>
            <validador id="REGRA_QTD_LIN_BLOCOH" tipo="0"/>
            <validador id="REGRA_BLOCO_COM_SEM_MOVIMENTO" tipo="0"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “H990”">
                <valores-validos valores="H990"/>
            </campo>
            <campo n="2" id="QTD_LIN_H" tipo="N" obrigatorio="1" rotulo="Quantidade total de linhas"
                   descricao="Quantidade total de linhas do Bloco H">
                <edicao valorPadrao="2"/><!-- H001 H990 -->
            </campo>
        </registro>

    </bloco>

    <bloco id="K" rotulo="CONTROLE DE ESTOQUE">
        <registro id="K001" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ABERTURA DO BLOCO K"
                  outros="[obrigatorioimportacao=true]">
            <edicao exibir="false"/>
            <gravador-sessao id="SESSAO_K001"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “K001”">
                <edicao exibir="false"/>
                <valores-validos valores="K001"/>
            </campo>
            <campo n="2" id="IND_MOV" tipo="N" tamanho="1" obrigatorio="1" rotulo="Indicador de movimento"
                   descricao="Indicador de movimento">
                <valores-validos valores="0=Bloco com dados informados;1=Bloco sem dados informados"/>
                <edicao valorPadrao="1"/>
            </campo>

            <registro id="K010" nivel="2" ocorrencia="0" obrigatorio="2" rotulo="Tipo de Leiaute"
                      descricao="Informação sobre o Tipo de Leiaute (Completo/Simplificado)">
                <gravador-sessao id="SESSAO_K010"/>
                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_K010"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “K010”">
                    <edicao exibir="false"/>
                    <valores-validos valores="K010"/>
                </campo>
                <campo n="2" id="IND_TP_LEIAUTE" tipo="N" tamanho="[1]" obrigatorio="1"
                       rotulo="Indicador de tipo de leiaute adotado:"
                       descricao="Indicador de tipo de leiaute adotado:(0-Leiaute simplificado/1-Leiaute completo)">
                    <valores-validos
                            valores="0=Leiaute Simplificado;1=Leiaute Completo;2=Leiaute restrito aos saldos de estoque"/>
                    <edicao valorPadrao="0"/>
                </campo>
            </registro>

            <registro id="K100" nivel="2" ocorrencia="2" obrigatorio="0" chave="DT_INI,DT_FIN"
                      rotulo="Período de Apuração do ICMS/IPI">
                <gravador-sessao id="SESSAO_K100"/>
                <validador id="REGRA_ABRANGER_PERIODO_ICMS_OP_K100" tipo="6"/>
                <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_INI" tipo="2" campoMsg="DT_INI"/>
                <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_FIN" tipo="2" campoMsg="DT_FIN"/>
                <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_E100_INTERVALO_DATA_A9E1V1" tipo="6"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “K100”">
                    <edicao exibir="false"/>
                    <valores-validos valores="K100"/>

                </campo>
                <campo n="2" id="DT_INI" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data inicial"
                       descricao="Data inicial a que a apuração se refere">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <edicao x="0" y="0" largura="1" componente="103"/>
                </campo>
                <campo n="3" id="DT_FIN" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data final"
                       descricao="Data final a que a apuração se refere">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <edicao x="1" y="0" largura="1" componente="103"/>
                </campo>

                <registro id="K200" nivel="3" ocorrencia="2" obrigatorio="0" chave="DT_EST,COD_ITEM,IND_EST,COD_PART"
                          rotulo="Estoque Escriturado">
                    <persistencia indices="COD_PART"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                    <validador id="REGRA_DATA_FINAL_ESTOQUE" tipo="6"/>
                    <validador id="REGRA_VALIDA_COD_ITEM_ESTOQUE_ESCRITURADO_A10E2V1" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_COD_PART_ESTOQUE" tipo="2" campoMsg="COD_PART"
                               outrosCamposEnvolvidosValidacao="IND_EST"/>
                    <validador id="REGRA_NAO_INFORMAR_COD_PART_K200" tipo="2" campoMsg="COD_PART"
                               outrosCamposEnvolvidosValidacao="IND_EST"/>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “K200”">
                        <edicao exibir="false"/>
                        <valores-validos valores="K200"/>
                    </campo>
                    <campo n="2" id="DT_EST" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data do estoque final"
                           descricao="Data do estoque final">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <edicao x="0" y="0" largura="1" componente="103"/>
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do item"
                           descricao="Código do item (campo 02 do Registro 0200)">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                    </campo>
                    <campo n="4" id="QTD" tipo="N" tamanho="17" casasdecimais="3" obrigatorio="1"
                           rotulo="Quantidade em estoque" descricao="Quantidade em estoque">
                    </campo>
                    <campo n="5" id="IND_EST" tipo="C" tamanho="1" obrigatorio="1" rotulo="Indicador do tipo de estoque"
                           descricao="Indicador do tipo de estoque">
                        <valores-validos
                                valores="0=Estoque de propriedade do informante e em seu poder;1=Estoque de propriedade do informante e em posse de terceiros;2=Estoque de propriedade de terceiros e em posse do informante"/>
                    </campo>
                    <campo n="6" id="COD_PART" tipo="C" tamanho="60" obrigatorio="" rotulo="Código do participante"
                           descricao="Código do participante (campo 02 do Registro 0150):- proprietário/possuidor que não seja o informante do arquivo">
                        <valores-validos datasource="COD_PART_0150_SV"/>
                    </campo>
                </registro>

                <registro id="K210" nivel="3" ocorrencia="2" obrigatorio="0" chave="COD_DOC_OS,COD_ITEM_ORI"
                          rotulo="Desmontagem de Mercadoria - Item de Origem">
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_MENOR_DT_FIN_K100" tipo="6"/>
                    <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_K210" tipo="6"/>
                    <validador id="REGRA_VALIDA_COD_ITEM_TP_ITEM_COD_ITEM_ORI" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “K210”">
                        <edicao exibir="false"/>
                        <valores-validos valores="K210"/>
                    </campo>
                    <campo n="2" id="DT_INI_OS" tipo="D" tamanho="[8]" obrigatorio="0"
                           rotulo="Data de início da ordem de serviço" descricao="Data de início da ordem de serviço">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_DT_INI_OS_OBRIGATORIO" tipo="1"
                                   outrosCamposEnvolvidosValidacao="DT_FIN_OS;COD_DOC_OS"/>
                        <edicao x="0" y="0" largura="" componente="103"/>
                    </campo>
                    <campo n="3" id="DT_FIN_OS" tipo="D" tamanho="[8]" obrigatorio="0"
                           rotulo="Data de conclusão da ordem de serviço"
                           descricao="Data de conclusão da ordem de serviço">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_MAIOR_IGUALDT_INI_OS" tipo="1"
                                   outrosCamposEnvolvidosValidacao="DT_INI_OS"/>
                        <edicao x="0" y="1" largura="" componente="103"/>
                    </campo>
                    <campo n="4" id="COD_DOC_OS" tipo="C" tamanho="30" obrigatorio="0"
                           rotulo="Código de identificação da ordem de serviço"
                           descricao="Código de identificação da ordem de serviço">
                        <validador id="REGRA_OBRIGATORIO_COD_DOC_OS" tipo="1"
                                   outrosCamposEnvolvidosValidacao="DT_INI_OS"/>
                    </campo>
                    <campo n="5" id="COD_ITEM_ORI" tipo="C" tamanho="60" obrigatorio="1"
                           rotulo="Código do item de origem (campo 02 do Registro 0200)"
                           descricao="Código do item de origem (campo 02 do Registro 0200)">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                    </campo>
                    <campo n="6" id="QTD_ORI" tipo="N" casasdecimais="6" obrigatorio="1"
                           rotulo="Quantidade de origem - saída do estoque"
                           descricao="Quantidade de origem - saída do estoque">
                    </campo>

                    <registro id="K215" nivel="4" ocorrencia="2" obrigatorio="0" chave="COD_ITEM_DEST"
                              rotulo="Desmontagem de Mercadoria - Item de Destino">
                        <persistencia indices=""/>
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <validador id="REGRA_OBRIGATORIO_K215" tipo="6"/>
                        <validador id="REGRA_DIF_COD_ITEM_ORI_COD_ITEM_DES_COD_ITEM_ORI" tipo="6"/>
                        <validador id="REGRA_VALIDA_COD_ITEM_TP_ITEM_COD_ITEM_DEST" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “K215”">
                            <edicao exibir="false"/>
                            <valores-validos valores="K215"/>
                        </campo>
                        <campo n="2" id="COD_ITEM_DEST" tipo="C" tamanho="60" obrigatorio="1"
                               rotulo=" Código do item de destino (campo 02 do Registro 0200)"
                               descricao=" Código do item de destino (campo 02 do Registro 0200)">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                        </campo>
                        <campo n="3" id="QTD_DES" tipo="N" casasdecimais="6" obrigatorio="1"
                               rotulo="Quantidade de destino – entrada em estoque"
                               descricao="Quantidade de destino – entrada em estoque">
                        </campo>
                    </registro>
                </registro>

                <registro id="K220" nivel="3" ocorrencia="2" obrigatorio="0" chave="DT_MOV,COD_ITEM_ORI,COD_ITEM_DEST"
                          rotulo="Outras Movimentações Internas entre Mercadorias">
                    <persistencia indices="COD_ITEM_ORI;COD_ITEM_DEST;DT_MOV"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_K220" tipo="6"/>
                    <validador id="REGRA_COD_DIFERENTE_ITEM_ORIGEM" tipo="2" campoMsg="COD_ITEM_DEST"
                               outrosCamposEnvolvidosValidacao="COD_ITEM_ORI"/>
                    <validador id="REGRA_VALIDA_COD_ITEM_TP_ITEM_COD_ITEM_ORI" tipo="6"/>
                    <validador id="REGRA_VALIDA_COD_ITEM_TP_ITEM_COD_ITEM_DEST" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “K220”">
                        <edicao exibir="false"/>
                        <valores-validos valores="K220"/>
                    </campo>
                    <campo n="2" id="DT_MOV" tipo="D" tamanho="[8]" obrigatorio="1"
                           rotulo="Data da movimentação interna" descricao="Data da movimentação interna">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    </campo>
                    <campo n="3" id="COD_ITEM_ORI" tipo="C" tamanho="60" obrigatorio="1"
                           rotulo="Código do item de origem"
                           descricao="Código do item de origem (campo 02 do Registro 0200)">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                    </campo>
                    <campo n="4" id="COD_ITEM_DEST" tipo="C" tamanho="60" obrigatorio="1"
                           rotulo="Código do item de destino"
                           descricao="Código do item de destino (campo 02 do Registro 0200)">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                    </campo>
                    <campo n="5" id="QTD_ORI" tipo="N" tamanho="17" casasdecimais="6" obrigatorio="1"
                           rotulo="Quantidade movimentada do item de origem"
                           descricao="Quantidade movimentada do item de origem codificado no campo 03">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    </campo>
                    <campo n="6" id="QTD_DEST" tipo="N" tamanho="17" casasdecimais="6" obrigatorio="1"
                           rotulo="Quantidade movimentada do item de destino"
                           descricao="Quantidade movimentada do item de destino codificado no campo 04">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    </campo>
                </registro>

                <registro id="K230" nivel="3" ocorrencia="2" obrigatorio="0" rotulo="Itens Produzidos"
                          chave="COD_DOC_OP,COD_ITEM">
                    <persistencia indices="COD_ITEM;COD_DOC_OP;DT_INI_OP"/>
                    <!-- Removida por ser reduntante com a abaixo REGRA_VALIDA_DT_FIN_OP <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_K230" tipo="6"/> -->
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_VALIDA_DT_FIN_OP_12001_V1" tipo="6"/>
                    <validador id="REGRA_VALIDA_COD_ITEM_PRODUZIDOS_K230" tipo="6"/>
                    <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_INI_OP" tipo="2" campoMsg="DT_INI_OP"/>
                    <validador id="REGRA_OBRIGATORIO_DT_INI_OP" tipo="2" campoMsg="DT_INI_OP"
                               outrosCamposEnvolvidosValidacao="COD_DOC_OP"/>
                    <validador id="REGRA_OBRIGATORIO_K235_V2" tipo="6"/>
                    <validador id="REGRA_VALIDA_PRIMEIRA_APURACAO_K230" tipo="6"/>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “K230”">
                        <edicao exibir="false"/>
                        <valores-validos valores="K230"/>
                    </campo>
                    <campo n="2" id="DT_INI_OP" tipo="D" tamanho="[8]" obrigatorio="0"
                           rotulo="Data de início da ordem de produção" descricao="Data de início da ordem de produção">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <edicao x="0" y="0" largura="3" componente="103"/>
                    </campo>
                    <campo n="3" id="DT_FIN_OP" tipo="D" tamanho="[8]" obrigatorio="0"
                           rotulo="Data de conclusão da ordem de produção"
                           descricao="Data de conclusão da ordem de produção">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <edicao x="0" y="1" largura="3" componente="103"/>
                    </campo>
                    <campo n="4" id="COD_DOC_OP" tipo="C" tamanho="30" obrigatorio="0"
                           rotulo="Código de identificação da ordem de produção"
                           descricao="Código de identificação da ordem de produção">
                        <validador id="REGRA_OBRIGATORIO_COD_DOC_OP" tipo="1"
                                   outrosCamposEnvolvidosValidacao="DT_INI_OP"/>
                    </campo>
                    <campo n="5" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do item produzido"
                           descricao="Código do item produzido (campo 02 do Registro 0200)">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                    </campo>
                    <campo n="6" id="QTD_ENC" tipo="N" tamanho="17" casasdecimais="6" obrigatorio="1"
                           rotulo="Quantidade de produção acabada" descricao="Quantidade de produção acabada">
                        <validador id="REGRA_QTD_ENC_MAIOR_ZERO_V2" tipo="1"
                                   outrosCamposEnvolvidosValidacao="DT_INI_OP;DT_FIN_OP;COD_DOC_OP"/>
                        <validador id="REGRA_QTD_ENC_IGUAL_ZERO" tipo="1" outrosCamposEnvolvidosValidacao="DT_FIN_OP"/>
                    </campo>

                    <registro id="K235" nivel="4" ocorrencia="2" obrigatorio="0" rotulo="Insumos Consumidos"
                              chave="DT_SAIDA,COD_ITEM">
                        <modificador-obrigatoriedade id="REGRA_DESABILITA_AO_DELETAR_COD_INS_SUBST"/>
                        <persistencia indices="COD_ITEM;COD_INS_SUBST"/>
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <!--<validador id="REGRA_DIFERENTE_COD_ITEM_SUBSTITUIDO_K235" tipo="2" campoMsg="COD_INS_SUBST" outrosCamposEnvolvidosValidacao="COD_ITEM"/>-->
                        <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_K235" tipo="6"/>
                        <validador id="REGRA_VALIDA_DT_SAIDA_ESTOQUE_ALOCACAO_PRODUTO" tipo="6"/>
                        <validador id="REGRA_DIFERENTE_COD_ITEM_RESULTANTE_K230" tipo="6"/>
                        <!-- Removida 12001 v1 fiscal 1340355<validador id="REGRA_VALIDA_SEM_SUBSTITUICAO_K235_V3A10E4V6" tipo="6"/> -->
                        <!--<validador id="REGRA_VALIDA_COD_ITEM_SUBSTITUIDO_K230_V3A10E4V6" tipo="6"/>-->
                        <validador id="REGRA_VALIDA_COD_ITEM_TP_ITEM" tipo="6"/>

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de  Registro"
                               descricao="Texto fixo contendo “K235”">
                            <edicao exibir="false"/>
                            <valores-validos valores="K235"/>
                        </campo>
                        <campo n="2" id="DT_SAIDA" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data de saída"
                               descricao="Data de saída do estoque para alocação ao produto">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <edicao x="0" y="0" largura="3" componente="103"/>
                        </campo>
                        <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1"
                               rotulo="Código do item componente/insumo"
                               descricao="Código do item componente/insumo (campo 02 do Registro 0200)">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                        </campo>
                        <campo n="4" id="QTD" tipo="N" tamanho="17" casasdecimais="6" obrigatorio="1"
                               rotulo="Quantidade consumida do item" descricao="Quantidade consumida do item">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <campo n="5" id="COD_INS_SUBST" tipo="C" obrigatorio="0"
                               rotulo="Código do insumo que foi substituído"
                               descricao="Código do insumo que foi substituído, caso ocorra a substituição (campo 02 do Registro 0210)">
                            <!--<valores-validos datasource="COD_ITEM_0200_SV"/> -->
                        </campo>
                    </registro>
                </registro>

                <registro id="K250" nivel="3" ocorrencia="2" obrigatorio="0"
                          rotulo="Industrialização Efetuada por Terceiros – Itens Produzidos" chave="DT_PROD,COD_ITEM">
                    <gravador-sessao id="SESSAO_K250"/>
                    <persistencia indices="COD_ITEM;DT_PROD"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_K250" tipo="6"/>
                    <validador id="REGRA_VALIDA_COD_ITEM_PRODUZIDOS_K250" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “K250”">
                        <edicao exibir="false"/>
                        <valores-validos valores="K250"/>
                    </campo>
                    <campo n="2" id="DT_PROD" tipo="D" tamanho="[8]" obrigatorio="1"
                           rotulo="Data do reconhecimento da produção ocorrida no terceiro"
                           descricao="Data do reconhecimento da produção ocorrida no terceiro">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <edicao x="0" y="0" largura="3" componente="103"/>
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do item produzido"
                           descricao="Código do item produzido (campo 02 do Registro 0200)">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                    </campo>
                    <campo n="4" id="QTD" tipo="N" tamanho="17" casasdecimais="6" obrigatorio="1"
                           rotulo="Quantidade produzida" descricao="Quantidade produzida">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    </campo>
                    <registro id="K255" nivel="4" ocorrencia="2" obrigatorio="2"
                              rotulo="Industrialização em Terceiros – Insumos Consumidos" chave="DT_CONS,COD_ITEM">
                        <modificador-obrigatoriedade id="REGRA_DESABILITA_AO_DELETAR_COD_INS_SUBST"/>
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_K255"/>
                        <persistencia indices="DT_CONS;COD_ITEM;COD_INS_SUBST"/>
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_K255" tipo="6"/>
                        <validador id="REGRA_DIFERENTE_COD_ITEM_RESULTANTE_K250" tipo="6"/>
                        <!-- Removida 12001 v1 fiscal 1340355 <validador id="REGRA_VALIDA_SEM_SUBSTITUICAO_K255_V3A10E4V6" tipo="6"/>-->
                        <!--<validador id="REGRA_DIFERENTE_COD_ITEM_SUBSTITUIDO_K255" tipo="2" campoMsg="COD_INS_SUBST" outrosCamposEnvolvidosValidacao="COD_ITEM"/>
						<validador id="REGRA_VALIDA_COD_ITEM_SUBSTITUIDO_K250_V3A10E4V6" tipo="6"/>	-->
                        <validador id="REGRA_VALIDA_COD_ITEM_TP_ITEM" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “K255”">
                            <edicao exibir="false"/>
                            <valores-validos valores="K255"/>
                        </campo>
                        <campo n="2" id="DT_CONS" tipo="D" tamanho="[8]" obrigatorio="1"
                               rotulo="Data do reconhecimento do consumo do insumo"
                               descricao="Data do reconhecimento do consumo do insumo (referente ao produto informado no campo 04 do Registro K250) ">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <edicao x="0" y="0" largura="3" componente="103"/>
                        </campo>
                        <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do insumo"
                               descricao="Código do insumo (campo 02 do Registro 0200)">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                        </campo>
                        <campo n="4" id="QTD" tipo="N" tamanho="17" casasdecimais="6" obrigatorio="1"
                               rotulo="Quantidade de consumo do insumo" descricao="Quantidade de consumo do insumo">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <campo n="5" id="COD_INS_SUBST" tipo="C" tamanho="60" obrigatorio="0"
                               rotulo="Código do insumo que foi substituído, caso ocorra a substituição"
                               descricao="Código do insumo que foi substituído, caso ocorra a substituição (campo 02 do Registro 0210)">
                            <!--<valores-validos datasource="COD_ITEM_0200_SV"/> -->
                        </campo>
                    </registro>
                </registro>

                <registro id="K260" nivel="3" ocorrencia="2" obrigatorio="0" chave="COD_OP_OS,COD_ITEM,DT_RET"
                          rotulo="Reprocessamento/Reparo de produto/insumo"
                          descricao="Reprocessamento/Reparo de produto/insumo">
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_COD_OP_OS" tipo="6"/>
                    <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_K260" tipo="6"/>
                    <validador id="REGRA_VALIDA_COD_ITEM_TP_ITEM" tipo="6"/>
                    <validador id="REGRA_MENOR_DT_FIN_K100_K260" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “K260”">
                        <edicao exibir="false"/>
                        <valores-validos valores="K260"/>
                    </campo>
                    <campo n="2" id="COD_OP_OS" tipo="C" tamanho="30" obrigatorio="0" rotulo="Código de identificação"
                           descricao=" Código de identificação da ordem de produção, no reprocessamento, ou da ordem de serviço, no reparo">
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1"
                           rotulo="Código do produto/insumo a  ser reprocessado/reparado"
                           descricao="Código do produto/insumo a ser reprocessado/reparado ou já reprocessado/reparado (campo 02 do Registro 0200)">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                    </campo>
                    <campo n="4" id="DT_SAIDA" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data de saída do estoque"
                           descricao=" Data de saída do estoque">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    </campo>
                    <campo n="5" id="QTD_SAIDA" tipo="N" casasdecimais="6" obrigatorio="1"
                           rotulo="Quantidade de saída do estoque" descricao="Quantidade de saída do estoque">
                    </campo>
                    <campo n="6" id="DT_RET" tipo="D" tamanho="[8]" obrigatorio="0"
                           rotulo="Data de retorno ao estoque (entrada)"
                           descricao="Data de retorno ao estoque (entrada)">
                        <validador id="REGRA_MAIOR_IGUAL_DT_SAIDA" tipo="1"/>
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    </campo>
                    <campo n="7" id="QTD_RET" tipo="N" casasdecimais="6" obrigatorio="0"
                           rotulo="Quantidade de retorno ao estoque (entrada)"
                           descricao="Quantidade de retorno ao estoque (entrada)">
                        <validador id="REGRA_OBRIGATORIO_QTD_RET" tipo="1" outrosCamposEnvolvidosValidacao="DT_RET"/>
                    </campo>
                    <registro id="K265" nivel="4" ocorrencia="2" obrigatorio="0" chave="COD_ITEM"
                              rotulo="Reprocessamento/Reparo - mercadorias consumidas e/ou retornadas">
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <validador id="REGRA_OBRIGATORIO_QTD" tipo="2" campoMsg="QTD_CONS"
                                   outrosCamposEnvolvidosValidacao="QTD_RET"/>
                        <validador id="REGRA_DIF_COD_ITEM_ORI_COD_ITEM_COD_ITEM" tipo="6"/>
                        <validador id="REGRA_VALIDA_COD_ITEM_TP_ITEM" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “K265”">
                            <edicao exibir="false"/>
                            <valores-validos valores="K265"/>
                        </campo>
                        <campo n="2" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1"
                               rotulo="Código do produto/insumo a  ser reprocessado/reparado"
                               descricao="Código do produto/insumo a ser reprocessado/reparado ou já reprocessado/reparado (campo 02 do Registro 0200)">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                        </campo>
                        <campo n="3" id="QTD_CONS" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Quantidade consumida – saída do estoque"
                               descricao="Quantidade consumida – saída do estoque">
                        </campo>
                        <campo n="4" id="QTD_RET" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Quantidade retornada – entrada em estoque"
                               descricao="Quantidade retornada – entrada em estoque">
                        </campo>
                    </registro>
                </registro>
                <registro id="K270" nivel="3" ocorrencia="2" obrigatorio="0"
                          chave="DT_INI_AP,DT_FIN_AP,COD_OP_OS,COD_ITEM,ORIGEM"
                          rotulo="Correção de apontamento dos registros K210, K220, K230, K250 E K260">
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_MENOR_DT_INI_0000_DT_FIN_AP" tipo="2" campoMsg="DT_FIN_AP"/>
                    <validador id="REGRA_MENOR_DT_INI_0000_DT_INI_AP" tipo="2" campoMsg="DT_INI_AP"/>
                    <!--  Removida a pedido em homologação: relato 2434350 (novembro 2020) <validador id="REGRA_OBRIGATORIO_INFORMAR_QTD_15001_V1" tipo="2" outrosCamposEnvolvidosValidacao="QTD_COR_POS"/> -->
                    <validador id="REGRA_VALIDA_COD_ITEM_TP_ITEM" tipo="6"/>
                    <!--Removida a pedido em homologação: relato 2434350 (novembro 2020)  <validador id="REGRA_MAIOR_ZERO_SEM_REGISTRO_FILHO" tipo="6"/>-->
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “K270”">
                        <edicao exibir="false"/>
                        <valores-validos valores="K270"/>
                    </campo>
                    <campo n="2" id="DT_INI_AP" tipo="D" tamanho="[8]" obrigatorio="0"
                           rotulo="Data inicial do período de apuração em que ocorreu o apontamento que está sendo corrigido"
                           descricao=" Data inicial do período de apuração em que ocorreu o apontamento que está sendo corrigido">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    </campo>
                    <campo n="3" id="DT_FIN_AP" tipo="D" tamanho="[8]" obrigatorio="0"
                           rotulo="Data final do período  de apuração em que ocorreu o apontamento que está sendo corrigido"
                           descricao="Data final do período de apuração em que ocorreu o apontamento que está sendo corrigido">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_MAIOR_IGUAL_DT_INI_AP" tipo="1"
                                   outrosCamposEnvolvidosValidacao="DT_INI_AP"/>
                    </campo>
                    <campo n="4" id="COD_OP_OS" tipo="C" tamanho="30" obrigatorio="0" rotulo="Código de identificação"
                           descricao="Código de identificação da ordem de produção ou da ordem de serviço que está sendo corrigida">
                    </campo>
                    <campo n="5" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1"
                           rotulo="Código da mercadoria que está sendo corrigido (campo 02 do Registro 0200)"
                           descricao=" Código da mercadoria que está sendo corrigido (campo 02 do Registro 0200)">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                    </campo>
                    <campo n="6" id="QTD_COR_POS" tipo="N" casasdecimais="6" obrigatorio="0"
                           rotulo="Quantidade de correção positiva de apontamento ocorrido em período de apuração anterior"
                           descricao="Quantidade de correção positiva de apontamento ocorrido em período de apuração anterior">
                        <validador id="REGRA_MAIOR_ZERO"
                                   tipo="1"/> <!-- Regra reíncluida a pedido em homologação: Relato 2434350 -->
                    </campo>
                    <campo n="7" id="QTD_COR_NEG" tipo="N" casasdecimais="6" obrigatorio="0"
                           rotulo="Quantidade de correção negativa de apontamento ocorrido em período de apuração anterior"
                           descricao="Quantidade de correção negativa de apontamento ocorrido em período de apuração anterior">
                        <validador id="REGRA_MAIOR_ZERO"
                                   tipo="1"/> <!-- Regra reíncluida a pedido em homologação: Relato 2434350 -->
                        <validador id="REGRA_SOMENTE_INFORMAR_QTD_UNICA" tipo="1"
                                   outrosCamposEnvolvidosValidacao="QTD_COR_POS"/>
                    </campo>
                    <campo n="8" id="ORIGEM" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Origem do apontamento"
                           descricao="Origem do apontamento">
                        <valores-validos
                                valores="1=Correção de apontamento de produção e/ou consumo relativo aos Registros K230/K235;2=Correção de apontamento de produçãoe/ou consumo relativo aos Registros K250/K255;3=Correção de apontamento de desmontagem e/ou consumo relativo aos Registros K210/K215;4=Correção de apontamento de reprocessamento/reparo e/ou consumo relativo aos Registros K260/K265;5=Correção de apontamento de movimentação interna relativo ao Registro K220;6=Correção de apontamento de produção relativo ao Registro K291;7=Correção de apontamento de consumo relativo ao Registro K292;8=Correção de apontamento de produção relativo ao Registro K301;9=Correção de apontamento de consumo relativo ao Registro K302."/>
                        <edicao x="0" y="0" largura="2"/>
                    </campo>
                    <registro id="K275" nivel="4" ocorrencia="2" obrigatorio="0" chave="COD_ITEM"
                              rotulo="Correção de apontamento e retorno de insumos dos registros K215, K220, K235, K255 e K265">
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <validador id="REGRA_OBRIGATORIO_K275" tipo="6"/>
                        <validador id="REGRA_OBRIGATORIO_QTD_EXCETO_K220" tipo="6"/>
                        <validador id="REGRA_SOMENTE_INFORMAR_COD_INS_SUBST" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “K275”">
                            <edicao exibir="false"/>
                            <valores-validos valores="K275"/>
                        </campo>
                        <campo n="2" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1"
                               rotulo="Código da mercadoria (campo 02 do Registro 0200)"
                               descricao="Código da mercadoria (campo 02 do Registro 0200)">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                        </campo>
                        <campo n="3" id="QTD_COR_POS" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Quantidade de correção positiva de apontamento ocorrido em período de apuração anterior"
                               descricao="Quantidade de correção positiva de apontamento ocorrido em período de apuração anterior">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <campo n="4" id="QTD_COR_NEG" tipo="N" casasdecimais="6" obrigatorio="0"
                               rotulo="Quantidade de correção negativa de apontamento ocorrido em período de apuração anterior"
                               descricao="Quantidade de correção negativa de apontamento ocorrido em período de apuração anterior">
                            <validador id="REGRA_SOMENTE_INFORMAR_QTD_UNICA" tipo="1"
                                       outrosCamposEnvolvidosValidacao="QTD_COR_POS"/>
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                        <campo n="5" id="COD_INS_SUBST" tipo="C" tamanho="60" obrigatorio="0"
                               rotulo="Código do insumo que foi substituído"
                               descricao="Código do insumo que foi substituído, caso ocorra a substituição, relativo aos Registros K235/K255 (campo 02 do Registro 0200)">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                        </campo>
                    </registro>
                </registro>
                <registro id="K280" nivel="3" ocorrencia="2" obrigatorio="0" chave="DT_EST,COD_ITEM,IND_EST,COD_PART"
                          rotulo="Correção de Apontamento - Estoque Escriturado">
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_COD_PART_ESTOQUE" tipo="2" campoMsg="COD_PART"
                               outrosCamposEnvolvidosValidacao="IND_EST"/>
                    <validador id="REGRA_VALIDA_COD_ITEM_ESTOQUE_ESCRITURADO_A10E2V1" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_INFORMAR_QTD_15001_V1" tipo="2"
                               outrosCamposEnvolvidosValidacao="QTD_COR_POS"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “K280”">
                        <edicao exibir="false"/>
                        <valores-validos valores="K280"/>
                    </campo>
                    <campo n="2" id="DT_EST" tipo="D" tamanho="[8]" obrigatorio="1"
                           rotulo="Data do estoque final escriturado que está sendo corrigido"
                           descricao="Data do estoque final escriturado que está sendo corrigido">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_MENOR_DT_INI_0000_V2" tipo="1"/>
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1"
                           rotulo="Código do produto/insumo a  ser reprocessado/reparado"
                           descricao=" Código do produto/insumo a ser reprocessado/reparado ou já reprocessado/reparado (campo 02 do Registro 0200)">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                    </campo>
                    <campo n="4" id="QTD_COR_POS" tipo="N" casasdecimais="3" obrigatorio="0"
                           rotulo="Quantidade de correção positiva de apontamento ocorrido em período de apuração anterior"
                           descricao="Quantidade de correção positiva de apontamento ocorrido em período de apuração anterior">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>

                    </campo>
                    <campo n="5" id="QTD_COR_NEG" tipo="N" casasdecimais="3" obrigatorio="0"
                           rotulo="Quantidade de correção negativa de apontamento ocorrido em período de apuração anterior"
                           descricao="Quantidade de correção negativa de apontamento ocorrido em período de apuração anterior">
                        <validador id="REGRA_SOMENTE_INFORMAR_QTD_UNICA" tipo="1"
                                   outrosCamposEnvolvidosValidacao="QTD_COR_POS"/>
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    </campo>
                    <campo n="6" id="IND_EST" tipo="C" tamanho="1" obrigatorio="1" rotulo="Indicador do tipo de estoque"
                           descricao="Indicador do tipo de estoque">
                        <valores-validos
                                valores="0=Estoque de propriedade do informante e em seu poder;1=Estoque de propriedade do informante e em posse de terceiros;2=Estoque de propriedade de terceiros e em posse do informante"/>
                    </campo>
                    <campo n="7" id="COD_PART" tipo="C" tamanho="60" obrigatorio="0"
                           rotulo="Código do participante-fornecedor"
                           descricao="Código do participante-fornecedor da mercadoria destinada à exportação (campo 02 do Registro 0150)"
                           referenciaPesquisa="0150;COD_PART">
                        <valores-validos datasource="COD_PART_0150_SV"/>
                    </campo>
                </registro>
                <registro id="K290" nivel="3" ocorrencia="2" obrigatorio="0" chave=""
                          rotulo=" Produção Conjunta - Ordem de Produção">
                    <validador id="REGRA_OBRIGATORIO_DT_INI_OP" tipo="2" campoMsg="DT_INI_OP"
                               outrosCamposEnvolvidosValidacao="COD_DOC_OP"/>
                    <validador id="REGRA_COD_DOC_OP" tipo="6"/>
                    <validador id="REGRA_MENOR_DT_FIN_K100_K290" tipo="6"/>
                    <!--Alterada a regra pelo relato ALM - 1614381 -->
                    <validador id="REGRA_NAO_INFORMAR_REGISTROS_FILHOS" tipo="6"/>
                    <validador id="REGRA_OBRIGATORIO_REGISTRO_K292" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “K290”">
                        <edicao exibir="false"/>
                        <valores-validos valores="K290"/>
                    </campo>
                    <campo n="2" id="DT_INI_OP" tipo="D" tamanho="[8]" obrigatorio="0"
                           rotulo="Data de início da ordem de produção" descricao="Data de início da ordem de produção">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <edicao x="0" y="0" largura="60" componente="103"/>
                    </campo>
                    <campo n="3" id="DT_FIN_OP" tipo="D" tamanho="[8]" obrigatorio="0"
                           rotulo="Data de conclusão da ordem de produção"
                           descricao="Data de conclusão da ordem de produção">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_MAIOR_DT_INI_OP" tipo="1" outrosCaremposEnvolvidosValidacao="DT_INI_OP"/>
                        <edicao x="0" y="1" largura="60" componente="103"/>
                    </campo>
                    <campo n="4" id="COD_DOC_OP" tipo="C" tamanho="30" obrigatorio="0"
                           rotulo="Código de identificação da ordem de produção"
                           descricao="Código de identificação da ordem de produção">
                        <validador id="REGRA_OBRIGATORIO_COD_DOC_OP" tipo="1"
                                   outrosCamposEnvolvidosValidacao="DT_INI_OP"/>
                    </campo>
                    <registro id="K291" nivel="4" ocorrencia="2" obrigatorio="0" chave="COD_ITEM"
                              rotulo="Produção Conjunta – Itens Produzidos">
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <validador id="REGRA_VALIDA_COD_ITEM_PRODUZIDOS_K291" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “K291”">
                            <edicao exibir="false"/>
                            <valores-validos valores="K291"/>
                        </campo>
                        <campo n="2" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1"
                               rotulo="Código do item produzido (campo 02 do Registro 0200)"
                               descricao="Código do item produzido (campo 02 do Registro 0200)">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                        </campo>
                        <campo n="3" id="QTD" tipo="N" casasdecimais="6" obrigatorio="1"
                               rotulo="Quantidade de produção acabada" descricao=" Quantidade de produção acabada">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                    </registro>
                    <registro id="K292" nivel="4" ocorrencia="2" obrigatorio="0" chave="COD_ITEM"
                              rotulo="Produção Conjunta – Insumos Consumidos">
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <validador id="REGRA_VALIDA_COD_ITEM_TP_ITEM" tipo="6"/>
                        <validador id="REGRA_COD_ITEM_K291_K292" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “K292”">
                            <edicao exibir="false"/>
                            <valores-validos valores="K292"/>
                        </campo>
                        <campo n="2" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1"
                               rotulo="Código do insumo/componente consumido"
                               descricao="Código do insumo/componente consumido (campo 02 do Registro 0200)">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                        </campo>
                        <campo n="3" id="QTD" tipo="N" casasdecimais="6" obrigatorio="1" rotulo="Quantidade consumida"
                               descricao="Quantidade consumida">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                    </registro>
                </registro>
                <registro id="K300" nivel="3" ocorrencia="2" obrigatorio="0" chave=""
                          rotulo="Produção Conjunta - Industrialização Efetuada por Teceiros">
                    <gravador-sessao id="SESSAO_K300"/>
                    <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_K300" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “K300”">
                        <edicao exibir="false"/>
                        <valores-validos valores="K300"/>
                    </campo>
                    <campo n="3" id="DT_PROD" tipo="D" tamanho="[8]" obrigatorio="1"
                           rotulo="Data do reconhecimento da produção ocorrida no terceiro"
                           descricao="Data do reconhecimento da produção ocorrida no terceiro">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <edicao x="0" y="1" largura="3" componente="103"/>
                    </campo>
                    <registro id="K301" nivel="4" ocorrencia="2" obrigatorio="1" chave="COD_ITEM"
                              rotulo="Produção Conjunta – Industrialização Efetuada por Terceiros - Itens Produzidos">
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <validador id="REGRA_VALIDA_COD_ITEM_PRODUZIDOS_K301" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “K301”">
                            <edicao exibir="false"/>
                            <valores-validos valores="K301"/>
                        </campo>
                        <campo n="2" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1"
                               rotulo="Código do item produzido(campo 02 do Registro 0200)"
                               descricao="Código do item produzido (campo 02 do Registro 0200)">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                        </campo>
                        <campo n="3" id="QTD" tipo="N" casasdecimais="6" obrigatorio="1" rotulo="Quantidade produzida"
                               descricao="Quantidade produzida">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                    </registro>
                    <registro id="K302" nivel="4" ocorrencia="2" obrigatorio="2" chave="COD_ITEM"
                              rotulo="Produção Conjunta – Industrialização Efetuada por Terceiros - Insumos Consumidos">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_K302"/>
                        <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                        <validador id="REGRA_VALIDA_COD_ITEM_TP_ITEM" tipo="6"/>
                        <validador id="REGRA_COD_ITEM_K301_K302" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “K302”">
                            <edicao exibir="false"/>
                            <valores-validos valores="K302"/>
                        </campo>
                        <campo n="2" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1"
                               rotulo="Código do insumo(campo 02 do Registro 0200)"
                               descricao="Código do insumo (campo 02 do Registro 0200)">
                            <valores-validos datasource="COD_ITEM_0200_SV"/>
                        </campo>
                        <campo n="3" id="QTD" tipo="N" casasdecimais="6" obrigatorio="1" rotulo="Quantidade consumida"
                               descricao="Quantidade consumida">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        </campo>
                    </registro>
                </registro>
            </registro>
        </registro>

        <registro id="K990" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ENCERRAMENTO DO BLOCO K"
                  outros="[obrigatorioimportacao=true]">
            <edicao exibir="false"/>
            <validador id="REGRA_QTD_LIN_BLOCOK" tipo="0"/>
            <validador id="REGRA_BLOCO_COM_SEM_MOVIMENTO" tipo="0"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “K990”">
                <valores-validos valores="K990"/>
            </campo>
            <campo n="2" id="QTD_LIN_K" tipo="N" obrigatorio="1" rotulo="Quantidade total de linhas"
                   descricao="Quantidade total de linhas do Bloco K">
                <edicao valorPadrao="2"/>
            </campo>
        </registro>
    </bloco>

    <bloco id="1" rotulo="OUTRAS INFORMAÇÕES">

        <registro id="1001" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ABERTURA DO BLOCO 1"
                  outros="[obrigatorioimportacao=true]">
            <edicao exibir="false"/>
            <gravador-sessao id="SESSAO_1001"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “1001”">
                <edicao exibir="false"/>
                <valores-validos valores="1001"/>
            </campo>
            <campo n="2" id="IND_MOV" tipo="N" tamanho="1" obrigatorio="1" rotulo="Indicador de movimento"
                   descricao="Indicador de movimento">
                <valores-validos valores="0=Bloco com dados informados;1=Bloco sem dados informados"/>
                <edicao valorPadrao="1"/>
            </campo>

            <registro id="1010" nivel="2" ocorrencia="0" obrigatorio="1"
                      rotulo="OBRIGATORIEDADE DE REGISTROS DO BLOCO 1">
                <edicao posicao="0" gravarRegistroInvalido="false"></edicao>
                <gravador-sessao id="SESSAO_1010"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “1010”">
                    <edicao exibir="false"/>
                    <valores-validos valores="1010"/>
                </campo>
                <campo n="2" id="IND_EXP" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Reg. 1100"
                       descricao="Reg. 1100 - Ocorreu averbação (conclusão) de exportação no período:S – Sim;N – Não">
                    <valores-validos valores="S=Sim;N=Não"/>
                    <edicao x="0" y="0" largura="2"/>
                </campo>
                <campo n="3" id="IND_CCRF" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Reg. 1200"
                       descricao="Reg. 1200 – Existem informações acerca de créditos de ICMS a serem controlados, definidos pela Sefaz:S – Sim;N – Não">
                    <valores-validos valores="S=Sim;N=Não"/>
                    <edicao x="0" y="1" largura="2"/>
                </campo>
                <!-- Campo excluído devido à esclusão do registro.
				<campo n="4" id="IND_ST" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Reg. 1230" descricao="Reg 1230 – Existem informações sobre controle do ressarcimento ou complemento da substituição Tributária?:S – Sim;N – Não">
					<valores-validos valores="S=Sim;N=Não"/>
					<edicao x="0" y="2" largura="2"/>
				</campo>  -->
                <campo n="4" id="IND_COMB" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Reg. 1300"
                       descricao="Reg. 1300 – É comercio varejista de combustíveis com movimentação e/ou estoque no período:S – Sim;N – Não">
                    <valores-validos valores="S=Sim;N=Não"/>
                    <edicao x="0" y="3" largura="2"/>
                </campo>
                <campo n="5" id="IND_USINA" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Reg. 1390"
                       descricao="Reg. 1390 – Usinas de açúcar e/álcool - O estabelecimento é produtor de açúcar e/ou álcool carburante com movimentação e/ou estoque no período:S – Sim;N – Não">
                    <valores-validos valores="S=Sim;N=Não"/>
                    <edicao x="0" y="4" largura="2"/>
                </campo>
                <campo n="6" id="IND_VA" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Reg. 1400"
                       descricao="Reg 1400 – Sendo o registro obrigatório em sua Unidade de Federação, existem informações a serem prestadas neste registro:S – Sim;N – Não">
                    <valores-validos valores="S=Sim;N=Não"/>
                    <edicao x="0" y="5" largura="2"/>
                </campo>
                <campo n="7" id="IND_EE" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Reg. 1500"
                       descricao="Reg 1500 - A empresa é distribuidora de energia e ocorreu fornecimento de energia elétrica para consumidores de outra UF:S – Sim;N – Não">
                    <valores-validos valores="S=Sim;N=Não"/>
                    <edicao x="0" y="6" largura="2"/>
                </campo>
                <campo n="8" id="IND_CART" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Reg. 1601"
                       descricao="Reg 1601 - Realizou vendas com instrumentos eletrônicos de pagamento:S – Sim;N – Não">
                    <valores-validos valores="S=Sim;N=Não"/>
                    <edicao x="10" y="0" largura="2"/>
                </campo>
                <campo n="9" id="IND_FORM" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Reg. 1700"
                       descricao="Reg. 1700 - Foram emitidos documentos fiscais em papel no período em unidade da federação que exija o controle de utilização de documentos fiscais:S – Sim;N – Não">
                    <valores-validos valores="S=Sim;N=Não"/>
                    <edicao x="10" y="1" largura="2"/>
                </campo>
                <campo n="10" id="IND_AER" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Reg. 1800"
                       descricao="Reg 1800 – A empresa prestou serviços de transporte aéreo de cargas e de passageiros:S – Sim;N – Não">
                    <valores-validos valores="S=Sim;N=Não"/>
                    <edicao x="10" y="2" largura="2"/>
                </campo>
                <campo n="11" id="IND_GIAF1" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Reg. 1960"
                       descricao="Reg. 1960 – Possui informações GIAF1?:S – Sim;N – Não">
                    <valores-validos valores="S=Sim;N=Não"/>
                    <validador id="REGRA_SOMENTE_INFORMAR_PARA_UF" tipo="1"/>
                    <edicao x="10" y="3" largura="2"/>
                </campo>
                <campo n="12" id="IND_GIAF3" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Reg. 1970"
                       descricao="Reg. 1970 – Possui informações GIAF3?:S – Sim;N – Não">
                    <valores-validos valores="S=Sim;N=Não"/>
                    <validador id="REGRA_SOMENTE_INFORMAR_PARA_UF" tipo="1"/>
                    <edicao x="10" y="4" largura="2"/>
                </campo>
                <campo n="13" id="IND_GIAF4" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Reg. 1980"
                       descricao="Reg. 1980 – Possui informações GIAF4?:S – Sim;N – Não">
                    <valores-validos valores="S=Sim;N=Não"/>
                    <validador id="REGRA_SOMENTE_INFORMAR_PARA_UF" tipo="1"/>
                    <edicao x="10" y="5" largura="2"/>
                </campo>
                <campo n="14" id="IND_REST_RESSARC_COMPL_ICMS" tipo="C" tamanho="[1]" obrigatorio="1" rotulo="Reg. 1250"
                       descricao="Reg. 1250 – Possui informações consolidadas de saldos de restituição, ressarcimento e complementação do ICMS:S – Sim;N – Não">
                    <valores-validos valores="S=Sim;N=Não"/>
                    <edicao x="0" y="2" largura="2"/>
                </campo>
            </registro>


            <registro id="1100" nivel="2" ocorrencia="2" obrigatorio="0" rotulo="Exportação">
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DE" tipo="2" campoMsg="DT_DE"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_RE" tipo="2" campoMsg="DT_RE"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_CHC" tipo="2" campoMsg="DT_CHC"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_AVB" tipo="2" campoMsg="DT_AVB"/>
                <validador id="REGRA_OBRIGATORIO_IND_DOC_NRO_RE" tipo="2" campoMsg="NRO_RE"/>
                <validador id="REGRA_OBRIGATORIO_IND_DOC_DT_RE" tipo="2" campoMsg="DT_RE"/>
                <validador id="REGRA_EXISTE_1110" tipo="6"/>
                <validador id="REGRA_OBRIGATORIO_BLOCO1_1100" tipo="6"/>
                <validador id="REGRA_NAO_INFORMAR_BLOCO1_1100" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “1100”">
                    <edicao exibir="false"/>
                    <valores-validos valores="1100"/>
                </campo>
                <campo n="2" id="IND_DOC" tipo="N" tamanho="1" obrigatorio="1" rotulo="Tipo de documento"
                       descricao="Indicador do tipo de documento: 0 – Declaração de Exportação; 1 - Declaração Simplificada de Exportação">
                    <valores-validos
                            valores="0=Declaração de Exportação;1=Declaração Simplificada de Exportação;2=Declaração Única de Exportação(DU-E)"/>
                    <edicao x="0" y="0" largura="4"/>
                </campo>
                <campo n="3" id="NRO_DE" tipo="C" tamanho="14" obrigatorio="1" rotulo="Número da declaração"
                       descricao="Número da declaração">
                    <edicao x="0" y="1" largura="1"/>
                </campo>
                <campo n="4" id="DT_DE" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da Declaração"
                       descricao="Data da Declaração (DDMMAAAA)">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="1" y="1" largura="1" componente="103"/>
                </campo>
                <campo n="5" id="NAT_EXP" tipo="N" tamanho="1" obrigatorio="1" rotulo="Tipo de exportação"
                       descricao="Indicador do tipo de exportação: 0 - Exportação Direta; 1 - Exportação Indireta">
                    <valores-validos valores="0=Exportação Direta;1=Exportação Indireta"/>
                    <edicao x="0" y="2" largura="4"/>
                </campo>
                <campo n="6" id="NRO_RE" tipo="N" tamanho="12" obrigatorio="0" rotulo="Nº do registro"
                       descricao="Nº do registro de exportação">
                    <edicao x="0" y="3" largura="1" componente="107"/>
                </campo>
                <campo n="7" id="DT_RE" tipo="D" tamanho="[8]" obrigatorio="0" rotulo="Data de exportação"
                       descricao="Data do registro de exportação (DDMMAAAA)">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <edicao x="1" y="3" largura="1" componente="103"/>
                </campo>
                <campo n="8" id="CHC_EMB" tipo="C" tamanho="18" obrigatorio="0" rotulo="Nº do conhecimento de embarque"
                       descricao="Nº do conhecimento de embarque">
                    <edicao x="0" y="4" largura="4"/>
                </campo>
                <campo n="9" id="DT_CHC" tipo="D" tamanho="[8]" obrigatorio="0" rotulo="Data conhecimento embarque"
                       descricao="Data do conhecimento de embarque (DDMMAAAA)">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="0" y="5" largura="1" componente="103"/>
                </campo>
                <campo n="10" id="DT_AVB" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da averbação"
                       descricao="Data da averbação da declaração de exportação (DDMMAAAA)">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="1" y="5" largura="1" componente="103"/>
                </campo>
                <campo n="11" id="TP_CHC" tipo="N" tamanho="[2]" obrigatorio="1"
                       rotulo="Tipo de conhecimento de transporte"
                       descricao="Informação do tipo de conhecimento de transporte, conforme tabela de tipo de documento de carga do SISCOMEX">
                    <valores-validos datasource="TP_CHC"/>
                    <edicao x="0" y="6" largura="4"/>
                </campo>
                <campo n="12" id="PAIS" tipo="N" tamanho="3" obrigatorio="1" rotulo="Código do país de destino"
                       descricao="Código do país de destino da mercadoria, conforme tabela do SISCOMEX">
                    <valores-validos datasource="SISCOMEX_APARTIR_2010"/>
                    <edicao x="0" y="7" largura="4"/>
                </campo>

                <registro id="1105" nivel="3" ocorrencia="2" obrigatorio="0" rotulo="Doc Fiscal de Exportação"
                          descricao="Documento Fiscal de Exportação">

                    <persistencia indices="COD_ITEM"/>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                    <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_A13E1V2" tipo="2" campoMsg="CHV_NFE"
                               outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE" tipo="2" campoMsg="CHV_NFE"
                               outrosCamposEnvolvidosValidacao="NUM_DOC"/>
                    <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_NFE"/>
                    <validador id="REGRA_PREENCHER_CHV_NFE_CTE_A13E1V2" tipo="2" campoMsg="CHV_NFE"
                               outrosCamposEnvolvidosValidacao="COD_MOD"/>
                    <validador id="REGRA_VALIDA_UF_NFE_CTE" tipo="2" campoMsg="CHV_NFE"/>
                    <validador id="REGRA_VALIDA_CNPJ_NFE_14001_V1" tipo="2" campoMsg="CHV_NFE"/>
                    <validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_NFE"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “1105”">
                        <edicao exibir="false"/>
                        <valores-validos valores="1105"/>
                    </campo>
                    <campo n="2" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="Código do modelo da NF"
                           descricao="Código do modelo da Nota Fiscal, conforme Tabela Documentos Fiscais do ICMS">
                        <valores-validos valores="01=Nota Fiscal;55=Nota Fiscal Eletrônica"/>
                        <edicao x="0" y="0" largura="4"/>
                    </campo>
                    <campo n="3" id="SER" tipo="C" tamanho="3" obrigatorio="0" rotulo="Série da Nota Fiscal"
                           descricao="Série da Nota Fiscal">
                        <edicao x="1" y="1" largura="1"/>
                    </campo>
                    <campo n="4" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número da Nota Fiscal"
                           descricao="Número da Nota Fiscal de exportação emitida pelo exportador">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao x="0" y="1" largura="1" componente="107"/>
                    </campo>
                    <campo n="5" id="CHV_NFE" tipo="N" tamanho="[44]" obrigatorio="0" rotulo="Chave da NFe"
                           descricao="Chave da Nota Fiscal Eletrônica">
                        <edicao x="0" y="2" largura="4" componente="113"/>
                    </campo>
                    <campo n="6" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                           descricao="Data da emissão da NF de exportação (DDMMAAAA)">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                        <edicao x="0" y="3" largura="1" componente="103"/>
                    </campo>
                    <campo n="7" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do item"
                           descricao="Código do item (campo 02 do Registro 0200)" referenciaPesquisa="0200;COD_ITEM">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                        <edicao x="0" y="4" largura="4"/>
                    </campo>

                    <registro id="1110" nivel="4" ocorrencia="2" obrigatorio="0" rotulo="Exportação Indireta"
                              descricao="OPERAÇÕES DE EXPORTAÇÃO INDIRETA DE PRODUTOS NÃO INDUSTRIALIZADOS PELO ESTABELECIMENTO EMITENTE">

                        <persistencia indices="COD_PART;UNID"/>
                        <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                        <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                        <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"/>
                        <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_NFE"/>
                        <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_A13E1V2" tipo="2" campoMsg="CHV_NFE"
                                   outrosCamposEnvolvidosValidacao="COD_MOD"/>
                        <validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE" tipo="2" campoMsg="CHV_NFE"
                                   outrosCamposEnvolvidosValidacao="NUM_DOC"/>
                        <validador id="REGRA_PREENCHER_CHV_NFE_CTE_A13E1V2" tipo="2" campoMsg="CHV_NFE"
                                   outrosCamposEnvolvidosValidacao="COD_MOD"/>
                        <validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_NFE"/>

                        <validador id="REGRA_COMPARA_CNPJ_DOCE_EXPORTACAO" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “1110”">
                            <edicao exibir="false"/>
                            <valores-validos valores="1110"/>
                        </campo>
                        <campo n="2" id="COD_PART" tipo="C" tamanho="60" obrigatorio="1"
                               rotulo="Código do participante-fornecedor"
                               descricao="Código do participante-fornecedor da mercadoria destinada à exportação (campo 02 do Registro 0150)"
                               referenciaPesquisa="0150;COD_PART">
                            <valores-validos datasource="COD_PART_0150_SV"/>
                            <edicao x="0" y="1" largura="4"/>
                        </campo>
                        <campo n="3" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1"
                               rotulo="Código do modelo do documento"
                               descricao="Código do documento fiscal, conforme a Tabela Documentos Fiscais do ICMS">
                            <valores-validos
                                    valores="01=Nota Fiscal;1B=Nota Fiscal Avulsa;04=Nota Fiscal de Produtor;55=Nota Fiscal Eletrônica"/>
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="4" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série do documento fiscal"
                               descricao="Série do documento fiscal recebido com fins específicos de exportação">
                            <edicao x="1" y="2" largura="1"/>
                        </campo>
                        <campo n="5" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1"
                               rotulo="Número do documento fiscal"
                               descricao="Número do documento fiscal recebido com fins específicos de exportação">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="0" y="2" largura="1" componente="107"/>
                        </campo>
                        <campo n="6" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                               descricao="Data da emissão do documento fiscal (DDMMAAAA) recebido com fins específicos de exportação">
                            <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                            <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            <edicao x="0" y="4" largura="1" componente="103"/>
                        </campo>
                        <campo n="7" id="CHV_NFE" tipo="N" tamanho="[44]" obrigatorio="0" rotulo="Chave da NFe"
                               descricao="Chave da Nota Fiscal Eletrônica">
                            <edicao x="0" y="3" largura="4" componente="113"/>
                        </campo>
                        <campo n="8" id="NR_MEMO" tipo="N" obrigatorio="0" rotulo="Número do Memorando Exp."
                               descricao="Número do Memorando de Exportação">
                            <edicao x="0" y="7" largura="4" componente="107"/>
                        </campo>
                        <campo n="9" id="QTD" tipo="N" casasdecimais="3" obrigatorio="1" rotulo="Quantidade do item"
                               descricao="Quantidade do item efetivamente exportado">
                            <edicao x="0" y="6" largura="1" componente="106"/>
                        </campo>
                        <campo n="10" id="UNID" tipo="C" tamanho="6" obrigatorio="1" rotulo="Unidade do item"
                               descricao="Unidade do item (Campo 02 do registro 0190)" referenciaPesquisa="0190;UNID">
                            <valores-validos datasource="UNID_0190_SV"/>
                            <edicao x="0" y="5" largura="4"/>
                        </campo>
                    </registro>
                </registro>
            </registro>

            <registro id="1200" nivel="2" ocorrencia="2" obrigatorio="0" chave="COD_AJ_APUR"
                      rotulo="CONTROLE DE CRÉDITOS FISCAIS - ICMS">
                <validador id="REGRA_UF_COD_AJ_APUR" tipo="2" campoMsg="COD_AJ_APUR"/>
                <validador id="REGRA_SDL_CRED_FINAL" tipo="2" campoMsg="SLD_CRED_FIM"
                           outrosCamposEnvolvidosValidacao="SLD_CRED;CRED_APR;CRED_RECEB;CRED_UTIL"/>
                <validador id="REGRA_TOTAL_CRED_UTIL" tipo="6"/>
                <validador id="REGRA_EXISTE_1210" tipo="6"/>
                <validador id="REGRA_OBRIGATORIO_BLOCO1_1200" tipo="6"/>
                <validador id="REGRA_NAO_INFORMAR_BLOCO1_1200" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “1200”">
                    <edicao exibir="false"/>
                    <valores-validos valores="1200"/>
                </campo>
                <campo n="2" id="COD_AJ_APUR" tipo="C" tamanho="[8]" obrigatorio="1" rotulo="Código de ajuste"
                       descricao="Código de ajuste, conforme informado na Tabela de Códigos de Ajustes da Apuração do ICMS">
                    <valores-validos datasource="COD_AJ_APURACAO_1200"/>
                </campo>
                <campo n="3" id="SLD_CRED" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saldo de créditos fiscais anteriores"
                       descricao="Saldo de créditos fiscais de períodos anteriores">
                    <edicao componente="104"/>
                </campo>
                <campo n="4" id="CRED_APR" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Crédito apropriado no mês"
                       descricao="Total de crédito apropriado no mês">
                    <edicao componente="104"/>
                </campo>
                <campo n="5" id="CRED_RECEB" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Créditos recebidos por transferência"
                       descricao="Total de créditos recebidos por transferência">
                    <edicao componente="104"/>
                </campo>
                <campo n="6" id="CRED_UTIL" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Créditos utilizados no período" descricao="Total de créditos utilizados no período">
                    <edicao componente="104"/>
                </campo>
                <campo n="7" id="SLD_CRED_FIM" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saldo de crédito fiscal"
                       descricao="Saldo de crédito fiscal acumulado a transportar para o período seguinte">
                    <edicao componente="104"/>
                </campo>

                <registro id="1210" nivel="3" ocorrencia="2" obrigatorio="0" chave="TIPO_UTIL,NR_DOC"
                          rotulo="UTILIZAÇÃO DE CRÉDITOS FISCAIS - ICMS">
                    <validador id="REGRA_UF_TIPO_UTIL" tipo="2" campoMsg="TIPO_UTIL"/>
                    <validador id="REGRA_NAO_EXISTIR_1210" tipo="6"/>
                    <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_DOCE"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “1210”">
                        <edicao exibir="false"/>
                        <valores-validos valores="1210"/>
                    </campo>
                    <campo n="2" id="TIPO_UTIL" tipo="C" tamanho="4" obrigatorio="1" rotulo="Tipo de utilização"
                           descricao="Tipo de utilização do crédito, conforme Tabela de Tipos de Utilização dos Créditos Fiscais">
                        <valores-validos datasource="TIP_UTIL_CREDITO"/>
                        <edicao x="0" y="0" largura="4"/>
                    </campo>
                    <campo n="3" id="NR_DOC" tipo="C" obrigatorio="0" rotulo="Número do documento"
                           descricao="Número do documento utilizado na baixa de créditos">
                        <edicao x="0" y="1" largura="1"/>
                    </campo>
                    <campo n="4" id="VL_CRED_UTIL" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Total de crédito utilizado" descricao="Total de crédito utilizado">
                        <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                        <edicao x="1" y="1" largura="1" componente="104"/>
                    </campo>
                    <campo n="5" id="CHV_DOCE" tipo="N" tamanho="[44]" obrigatorio="0"
                           rotulo="Chave do documento eletrônico" descricao="Chave do documento eletrônico">
                        <edicao componente="113"/>
                    </campo>
                </registro>
            </registro>
            <registro id="1250" nivel="2" ocorrencia="0" obrigatorio="0"
                      rotulo="Informações Consolidadas de Saldos de Restituição, Ressarcimento e Complementação do ICMS">

                <validador id="REGRA_VALIDA_VL_CREDITO_ICMS_OP_1250" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_ICMS_ST_REST_1250" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_FCP_ST_REST_1250" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_ICMS_ST_COMPL_1250" tipo="6"/>
                <validador id="REGRA_VALIDA_VL_FCP_ST_COMPL_1250" tipo="6"/>
                <validador id="REGRA_OBRIGATORIO_BLOCO1_1250" tipo="6"/>
                <validador id="REGRA_NAO_INFORMAR_BLOCO1_1250" tipo="6"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “1250”">
                    <edicao exibir="false"/>
                    <valores-validos valores="1250"/>
                </campo>
                <campo n="2" id="VL_CREDITO_ICMS_OP" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor total do ICMS OP creditado no desfazimento da ST"
                       descricao="Valor total do ICMS OP creditado no desfazimento da ST">
                    <edicao componente="104"/>
                </campo>
                <campo n="3" id="VL_ICMS_ST_REST" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Vl total ICMS ST, incluindo FCP ST, a ser restituído/ressarcido"
                       descricao="Valor total do ICMS ST, incluindo FCP ST, a ser restituído/ressarcido">
                    <edicao componente="104"/>
                </campo>
                <campo n="4" id="VL_FCP_ST_REST" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Parcela do FCP ST que compõe o campo anterior"
                       descricao="Parcela do FCP ST que compõe o campo anterior">
                    <edicao componente="104"/>
                </campo>
                <campo n="5" id="VL_ICMS_ST_COMPL" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor total do complemento de ICMS ST, incluindo FCP ST"
                       descricao="Valor total do complemento de ICMS ST, incluindo FCP ST">
                    <edicao componente="104"/>
                </campo>
                <campo n="6" id="VL_FCP_ST_COMPL" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Parcela do FCP ST que compõe o campo anterior"
                       descricao="Parcela do FCP ST que compõe o campo anterior">
                    <edicao componente="104"/>
                </campo>
                <registro id="1255" nivel="3" ocorrencia="2" obrigatorio="0" chave="COD_MOT_REST_COMPL"
                          rotulo="Informações Consolidadas de Saldos de Restituição, ressarcimento e complementação do ICMS por motivo">
                    <validador id="REGRA_VALIDA_VL_ICMS_ST_REST_MOT" tipo="6"/>
                    <validador id="REGRA_VALIDA_VL_FCP_ST_REST_MOT" tipo="6"/>
                    <validador id="REGRA_VALIDA_VL_ICMS_ST_COMPL_MOT" tipo="6"/>
                    <validador id="REGRA_VALIDA_VL_FCP_ST_COMPL_MOT" tipo="6"/>
                    <validador id="REGRA_NAO_INFORMAR_1255_SEM_COD_MOT_REST_COMPL_UTILIZADO" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “1255”">
                        <edicao exibir="false"/>
                        <valores-validos valores="1255"/>
                    </campo>
                    <campo n="2" id="COD_MOT_REST_COMPL" tipo="C" tamanho="[5]" obrigatorio="1"
                           rotulo="Código do motivo da restituição ou complementação"
                           descricao="Código do motivo da restituição ou complementação conforme Tabela 5.7">
                        <valores-validos datasource="COD_MOT_REST_COMPL"/>
                    </campo>
                    <campo n="3" id="VL_CREDITO_ICMS_OP_MOT" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total do ICMS OP creditado no desfazimento da ST"
                           descricao="Valor total do ICMS OP creditado no desfazimento da ST">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="4" id="VL_ICMS_ST_REST_MOT" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total do ICMS ST, incluindo FCP ST, a ser restituído/ressarcido"
                           descricao="Valor total do ICMS ST, incluindo FCP ST, a ser restituído/ressarcido">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="5" id="VL_FCP_ST_REST_MOT" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Parcela do FCP ST que compõe o campo anterior"
                           descricao="Parcela do FCP ST que compõe o campo anterior">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="6" id="VL_ICMS_ST_COMPL_MOT" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Valor total do complemento de ICMS ST, incluindo FCP ST"
                           descricao="Valor total do complemento de ICMS ST, incluindo FCP ST">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="7" id="VL_FCP_ST_COMPL_MOT" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Parcela do FCP ST que compõe o campo anterior"
                           descricao="Parcela do FCP ST que compõe o campo anterior">
                        <edicao componente="104"/>
                    </campo>
                </registro>
            </registro>

            <!-- registro excluído - 1230 e seus filhos
			<registro id="1230" nivel="2" ocorrencia="2" obrigatorio="0" chave="" rotulo="Controle do Ressarcimento/Complemento da Substiuição Tributária">

				<validador id="REGRA_VALIDA_TOT_DEB_SAIDA" tipo="6"/>
				<validador id="REGRA_OBRIGATORIO_BLOCO1_1230" tipo="6"/>
				<validador id="REGRA_NAO_INFORMAR_BLOCO1_1230" tipo="6"/>
				<campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro" descricao="Texto fixo contendo “1230”">
				  <edicao exibir="false"/>
				  <valores-validos valores="1230"/>
				</campo>
				<campo n="2" id="SLD_RESSARC_INI" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Saldo de créditos fiscais de ressarcimento de ST apurado no período anterior" descricao="Saldo de créditos fiscais de ressarcimento de ST apurado no período anterior">
				</campo>
				<campo n="3" id="TOT_CRED_DESFAZ" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Total de crédito (próprio + ST) que incidiu nas operações anteriores (desfazimento da ST)" descricao="Total de crédito (próprio + ST) que incidiu nas operações anteriores (desfazimento da ST)">
				</campo>
				<campo n="4" id="TOT_DEB_SAIDA" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Total de débitos que incidiriam nas operações próprias, não houvesse retenção anterior" descricao="Total de débitos que incidiriam nas operações próprias, não houvesse retenção anterior">

				</campo>
				<campo n="5" id="COMPL_ST" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Complemento da substituição tributária apurado" descricao="Complemento da substituição tributária apurado">
					<validador id="REGRA_VALIDA_COMPL_ST" tipo="1"/>
				</campo>
				<campo n="6" id="SLD_RESSARC_FIM" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Saldo de crédito fiscal de ressarcimento de ST apurado" descricao="Saldo de crédito fiscal de ressarcimento de ST apurado">
					<validador id="REGRA_VALIDA_SLD_RESSARC_FIM" tipo="1"/>
				</campo>
				<registro id="1233" nivel="3" ocorrencia="2" obrigatorio="0"  rotulo="Informação dos Valores do ICMS (Próprio + ST) Incidentes na Operação Anterior" >
					 REGRA EXCLUI ALGUNS MODELOS, USAR A TODOS OU DS_COD_MOD<validador id="REGRA_EXISTE_COD_MOD" tipo="3"/>
					<validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
					<validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
					<validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_12001_V1" tipo="2" campoMsg="CHV_DOCE" outrosCamposEnvolvidosValidacao="COD_MOD"/>
					<validador id="REGRA_PREENCHER_CHV_NFE_CTE" tipo="2" campoMsg="CHV_DOCE" outrosCamposEnvolvidosValidacao="COD_MOD"/>
					<validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_DOCE"/>
					<validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE" tipo="2" campoMsg="CHV_DOCE" outrosCamposEnvolvidosValidacao="NUM_DOC"/>
					<validador id="REGRA_COMPARA_CODIGO_MODELO" tipo="2" campoMsg="CHV_DOCE"/>
					<validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_DOCE"/>

					<campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro" descricao="Texto fixo contendo “1233”">
					  <edicao exibir="false"/>
					  <valores-validos valores="1233"/>
					</campo>
					<campo n="2" id="COD_PART" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do participante" descricao="Código do participante (campo 02 do Registro 0150):- do emitente do documento ou do remetente das mercadorias, no caso de entradas" referenciaPesquisa="0150;COD_PART">
					  <valores-validos datasource="COD_PART_0150_SV"/>
					  <edicao x="0" y="2" largura="6"/>
					</campo>
					<campo n="3" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="Código do modelo do documento fiscal" descricao="Código do modelo do documento fiscal, conforme Tabela 4.1.1">
                       <valores-validos datasource="COD_MOD"/>
					</campo>
					<campo n="4" id="SER"  tipo="C" tamanho="4" obrigatorio="0" rotulo="Série" descricao="Série do documento fiscal">
					  <edicao x="0" y="1" largura="6"/>
					</campo>
					<campo n="5" id="SUB" tipo="N" tamanho="3" obrigatorio="0" rotulo="Subsérie" descricao="Subsérie do documento fiscal" >
					</campo>
					<campo n="6" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número do documento fiscal" descricao="Número do documento fiscal" >
					<validador id="REGRA_MAIOR_ZERO" tipo="1"/>
					</campo>
					<campo n="7" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão" descricao="Data da emissão do documento fiscal" >
						<validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
						<validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
						<edicao componente="103"/>
					</campo>
					<campo n="8" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do item (campo 02 do Registro 0200)" descricao="Código do item (campo 02 do Registro 0200)" referenciaPesquisa="0200;COD_ITEM">
					<valores-validos datasource="COD_ITEM_0200_SV"/>
						<edicao x="0" y="5" largura="6"/>
					</campo>
					<campo n="9" id="CRED_DESFAZ" tipo="N"  casasdecimais="2" obrigatorio="1" rotulo="Total de crédito (próprio + ST) que incidiu na operação anterior (desfazimento da ST)" descricao="Total de crédito (próprio + ST) que incidiu na operação anterior (desfazimento da ST)" >
						<edicao x="0" y="6" largura="1"/>
					</campo>
					<campo n="10" id="CHV_DOCE" tipo="N"  tamanho="[44]" obrigatorio="0" rotulo="Chave do Documento Eletrônico" descricao="Chave do Documento Eletrônico" >
						<edicao componente="113"/>
					</campo>
				</registro>
				<registro id="1236" nivel="3" ocorrencia="2" obrigatorio="0"  rotulo="Informação do Ônus do ICMS em Operações com ICMS Retido Anteriormente" >

					 REGRA EXCLUI ALGUNS MODELOS, USAR A TODOS OU DS_COD_MOD<validador id="REGRA_EXISTE_COD_MOD" tipo="3"/>
					<validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
					<validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_12001_V1" tipo="2" campoMsg="CHV_DOCE" outrosCamposEnvolvidosValidacao="COD_MOD"/>
					<validador id="REGRA_PREENCHER_CHV_NFE_CTE" tipo="2" campoMsg="CHV_DOCE" outrosCamposEnvolvidosValidacao="COD_MOD"/>
					<validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_DOCE"/>
					<validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE" tipo="2" campoMsg="CHV_DOCE" outrosCamposEnvolvidosValidacao="NUM_DOC"/>
					<validador id="REGRA_COMPARA_CODIGO_MODELO" tipo="2" campoMsg="CHV_DOCE"/>
					<validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_DOCE"/>

					<campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro" descricao="Texto fixo contendo “1236”">
					  <edicao exibir="false"/>
					  <valores-validos valores="1236"/>
					</campo>
					<campo n="2" id="COD_MOD" tipo="C" tamanho="2" obrigatorio="1" rotulo="Código do modelo do documento fiscal, conforme a Tabela 4.1.1" descricao="Código do modelo do documento fiscal, conforme a Tabela 4.1.1" >
						<valores-validos datasource="COD_MOD"/>
					</campo>
					<campo n="3" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série do documento fiscal" descricao="Série do documento fiscal" >
					  <edicao x="0" y="2" largura="6"/>
					</campo>
					<campo n="4" id="SUB" tipo="N" tamanho="3" obrigatorio="0" rotulo="Subsérie do documento fiscal" descricao="Subsérie do documento fiscal">
					  	<edicao x="0" y="3" largura="6"/>
					</campo>
					<campo n="5" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número do documento fiscal" descricao="Número do documento fiscal">
						<validador id="REGRA_MAIOR_ZERO" tipo="1"/>
					</campo>
					<campo n="6" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão do documento fiscal" descricao="Data da emissão do documento fiscal" >
						<validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
						<validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
						<edicao x="0" y="4" componente="103"/>
					</campo>
					<campo n="7" id="COD_ITEM" tipo="N" tamanho="60" obrigatorio="0" rotulo="Código do item (campo 02 do Registro 0200)" descricao="Código do item (campo 02 do Registro 0200)" >
						<valores-validos datasource="COD_ITEM_0200_SV"/>
						<edicao x="0" y="5" largura="6"/>
					</campo>
					<campo n="8" id="DEB_SAIDA" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ICMS que incidiria na operação" descricao="Valor do ICMS que incidiria na operação, caso a mercadoria não tivesse circulado já com ICMS retido por substituição tributária" >
						<edicao x="0" y="6" largura="6"/>
					</campo>
					<campo n="9" id="CHV_DOCE" tipo="N" tamanho="[44]" obrigatorio="0" rotulo="Chave do Documento Eletrônico" descricao="Chave do Documento Eletrônico" >
						<edicao x="0" y="7" largura="1" componente="113"/>
					</campo>
				</registro>
			</registro> -->
            <registro id="1300" nivel="2" ocorrencia="2" obrigatorio="0" chave="COD_ITEM,DT_FECH"
                      rotulo="Movimentação Diária">
                <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_FECH" tipo="2" campoMsg="DT_FECH"/>
                <validador id="REGRA_VOL_DISP" tipo="2" campoMsg="VOL_DISP"
                           outrosCamposEnvolvidosValidacao="ESQT_ABERT;VOL_ENTR"/>
                <validador id="REGRA_ESTQ_ESCR" tipo="2" campoMsg="ESTQ_ESCR"
                           outrosCamposEnvolvidosValidacao="VOL_DISP;VOL_SAIDAS"/>
                <validador id="REGRA_OBRIGATORIO_BLOCO1_1300" tipo="6"/>
                <validador id="REGRA_NAO_INFORMAR_BLOCO1_1300" tipo="6"/>
                <validador id="REGRA_FECH_FISICO" tipo="6"/>
                <validador id="REGRA_FECHAMENTO_ESTOQUE" tipo="2" campoMsg="FECH_FISICO"
                           outrosCamposEnvolvidosValidacao="ESTQ_ESCR;VAL_AJ_PERDA;VAL_AJ_GANHO"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Tipo de Registro contendo “1300”">
                    <edicao exibir="false"/>
                    <valores-validos valores="1300"/>
                </campo>
                <campo n="2" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do produto"
                       descricao="Código do produto, constante do registro 0200" referenciaPesquisa="0200;COD_ITEM">
                    <valores-validos datasource="COD_ITEM_0200_SV"/>
                    <edicao x="0" y="0" largura="6"/>
                </campo>
                <campo n="3" id="DT_FECH" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data do fechamento"
                       descricao="Data do fechamento da movimentação">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="0" y="1" largura="1" componente="103"/>
                </campo>
                <campo n="4" id="ESTQ_ABERT" tipo="N" casasdecimais="3" obrigatorio="1"
                       rotulo="Estoque no inicio do dia" descricao="Estoque no inicio do dia">
                    <edicao x="0" y="2" largura="1" componente="106"/>
                </campo>
                <campo n="5" id="VOL_ENTR" tipo="N" casasdecimais="3" obrigatorio="1" rotulo="Volume total das entradas"
                       descricao="Volume total das entradas">
                    <edicao x="1" y="2" largura="1" componente="106"/>
                </campo>
                <campo n="6" id="VOL_DISP" tipo="N" casasdecimais="3" obrigatorio="1" rotulo="Volume disponível"
                       descricao="Volume disponível (05 , 06)">
                    <edicao x="0" y="3" largura="1" componente="106"/>
                </campo>
                <campo n="7" id="VOL_SAIDAS" tipo="N" casasdecimais="3" obrigatorio="1" rotulo="Volume total das saídas"
                       descricao="Volume total das saídas (Somatório dos registros de volume de vendas)">
                    <edicao x="1" y="3" largura="1" componente="106"/>
                </campo>
                <campo n="8" id="ESTQ_ESCR" tipo="N" casasdecimais="3" obrigatorio="1" rotulo="Estoque escritural"
                       descricao="Estoque escritural (07 – 08)">
                    <edicao x="0" y="4" largura="1" componente="106"/>
                </campo>
                <campo n="9" id="VAL_AJ_PERDA" tipo="N" casasdecimais="3" obrigatorio="1" rotulo="Valor da perda"
                       descricao="Valor da perda">
                    <edicao x="1" y="4" largura="1" componente="106"/>
                </campo>
                <campo n="10" id="VAL_AJ_GANHO" tipo="N" casasdecimais="3" obrigatorio="1" rotulo="Valor do ganho"
                       descricao="Valor do ganho">
                    <edicao x="0" y="5" largura="1" componente="106"/>
                </campo>
                <campo n="11" id="FECH_FISICO" tipo="N" casasdecimais="3" obrigatorio="1" rotulo="Estoque de fechamento"
                       descricao="Estoque de fechamento (Somatório dos registros da conciliação de estoques )">
                    <edicao x="1" y="5" largura="1" componente="106"/>
                </campo>

                <registro id="1310" nivel="3" ocorrencia="2" obrigatorio="1" chave="NUM_TANQUE"
                          rotulo="Movimentação Diária por Tanque">
                    <gravador-sessao id="SESSAO_VOL_SAIDAS"/>
                    <validador id="REGRA_VOL_DISP" tipo="2" campoMsg="VOL_DISP"
                               outrosCamposEnvolvidosValidacao="ESQT_ABERT;VOL_ENTR"/>
                    <validador id="REGRA_ESTQ_ESCR" tipo="2" campoMsg="ESTQ_ESCR"
                               outrosCamposEnvolvidosValidacao="VOL_DISP;VOL_SAIDAS"/>
                    <validador id="REGRA_FECHAMENTO_ESTOQUE" tipo="2" campoMsg="FECH_FISICO"
                               outrosCamposEnvolvidosValidacao="ESTQ_ESCR;VAL_AJ_PERDA;VAL_AJ_GANHO"/>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “1310”">
                        <edicao exibir="false"/>
                        <valores-validos valores="1310"/>
                    </campo>
                    <campo n="2" id="NUM_TANQUE" tipo="C" tamanho="3" obrigatorio="1"
                           rotulo="Número do tanque de armazenagem"
                           descricao="Tanque onde foi armazenado o combustível">
                        <edicao x="0" y="0" largura="1"/>
                    </campo>
                    <campo n="3" id="ESTQ_ABERT" tipo="N" casasdecimais="3" obrigatorio="1"
                           rotulo="Estoque no início do dia" descricao="Estoque no início do dia, em litros">
                        <edicao x="0" y="1" largura="1" componente="106"/>
                    </campo>
                    <campo n="4" id="VOL_ENTR" tipo="N" casasdecimais="3" obrigatorio="1"
                           rotulo="Volume recebido no dia" descricao="Volume recebido no dia (em litros)">
                        <edicao x="1" y="1" largura="1" componente="106"/>
                    </campo>
                    <campo n="5" id="VOL_DISP" tipo="N" casasdecimais="3" obrigatorio="1" rotulo="Volume disponível"
                           descricao="Volume disponível(03 , 04), em litros">
                        <edicao x="0" y="2" largura="1" componente="106"/>
                    </campo>
                    <campo n="6" id="VOL_SAIDAS" tipo="N" casasdecimais="3" obrigatorio="1"
                           rotulo="Volume total das saídas" descricao="Volume total das saídas, em litros">
                        <edicao x="1" y="2" largura="1" componente="106"/>
                    </campo>
                    <campo n="7" id="ESTQ_ESCR" tipo="N" casasdecimais="3" obrigatorio="1" rotulo="Estoque escritural"
                           descricao="Estoque escritural(05 - 06), litros">
                        <edicao x="0" y="3" largura="1" componente="106"/>
                    </campo>
                    <campo n="8" id="VAL_AJ_PERDA" tipo="N" casasdecimais="3" obrigatorio="1" rotulo="Valor da perda"
                           descricao="Valor da perda, em litros">
                        <edicao x="1" y="3" largura="1"/>
                    </campo>
                    <campo n="9" id="VAL_AJ_GANHO" tipo="N" casasdecimais="3" obrigatorio="1" rotulo="Valor do ganho"
                           descricao="Valor do ganho, em litros">
                        <edicao x="0" y="4" largura="1"/>
                    </campo>
                    <campo n="10" id="FECH_FISICO" tipo="N" casasdecimais="3" obrigatorio="1"
                           rotulo="Estoque de fechamento"
                           descricao="Volume aferido no tanque, em litros. Estoque de fechamento físico do tanque">
                        <edicao x="1" y="4" largura="1" componente="106"/>
                    </campo>

                    <registro id="1320" nivel="4" ocorrencia="2" obrigatorio="2" rotulo="Volume de Vendas">
                        <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_1320"/>
                        <validador id="REGRA_VOL_VENDAS_1320_A7E1V1" tipo="2" campoMsg="VOL_VENDAS"
                                   outrosCamposEnvolvidosValidacao="VAL_FECHA;VAL_ABERT;VOL_AFERI"/>

                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “1320”">
                            <edicao exibir="false"/>
                            <valores-validos valores="1320"/>
                        </campo>
                        <campo n="2" id="NUM_BICO" tipo="N" obrigatorio="1" rotulo="Bico ligado à bomba"
                               descricao="Bico ligado à bomba">
                            <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                            <edicao x="0" y="0" largura="4"/>
                        </campo>
                        <campo n="3" id="NR_INTERV" tipo="N" obrigatorio="0" rotulo="Número da intervenção"
                               descricao="Número da intervenção">
                            <edicao x="0" y="1" largura="4"/>
                        </campo>
                        <campo n="4" id="MOT_INTERV" tipo="C" tamanho="50" obrigatorio="0"
                               rotulo="Motivo da intervenção" descricao="Motivo da intervenção">
                            <edicao x="0" y="2" largura="4"/>
                        </campo>
                        <campo n="5" id="NOM_INTERV" tipo="C" tamanho="30" obrigatorio="0" rotulo="Nome do interventor"
                               descricao="Nome do interventor">
                            <edicao x="0" y="4" largura="4"/>
                        </campo>
                        <campo n="6" id="CNPJ_INTERV" tipo="N" tamanho="[14]" obrigatorio="0"
                               rotulo="CNPJ da empresa responsável pela intervenção"
                               descricao="CNPJ da empresa responsável pela intervenção">
                            <validador id="REGRA_DIGITO_CNPJ" tipo="1"/>
                            <edicao x="0" y="5" largura="1" componente="102"/>
                        </campo>
                        <campo n="7" id="CPF_INTERV" tipo="N" tamanho="[11]" obrigatorio="0"
                               rotulo="CPF do técnico responsável pela intervenção"
                               descricao="CPF do técnico responsável pela intervenção">
                            <validador id="REGRA_DIGITO_CPF" tipo="1"/>
                            <edicao x="1" y="5" largura="1" componente="101"/>
                        </campo>
                        <campo n="8" id="VAL_FECHA" tipo="N" casasdecimais="3" obrigatorio="1"
                               rotulo="Valor da leitura final do contador, no fechamento do bico"
                               descricao="Valor da leitura final do contador, no fechamento do bico">
                            <edicao x="0" y="6" largura="1"/>
                        </campo>
                        <campo n="9" id="VAL_ABERT" tipo="N" casasdecimais="3" obrigatorio="1"
                               rotulo="Valor da leitura inicial do contador, na abertura do bico"
                               descricao="Valor da leitura inicial do contador, na abertura do bico">
                            <edicao x="1" y="6" largura="1"/>
                        </campo>
                        <campo n="10" id="VOL_AFERI" tipo="N" casasdecimais="3" obrigatorio="0"
                               rotulo="Aferição da bomba, em litros" descricao="Aferição da bomba, em litros">
                            <edicao x="0" y="7" largura="1"/>
                        </campo>
                        <campo n="11" id="VOL_VENDAS" tipo="N" casasdecimais="3" obrigatorio="1"
                               rotulo="Venda (08 - 09 - 10) do bico, em litros"
                               descricao="Venda (08 - 09 - 10) do bico, em litros">
                            <edicao x="1" y="7" largura="1"/>
                        </campo>
                    </registro>

                </registro>

            </registro>

            <registro id="1350" nivel="2" ocorrencia="2" obrigatorio="2" chave="SERIE" rotulo="Bombas">
                <obrigatoriedade id="REGRA_REGISTRO_OBRIGATORIO_1350"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo=""
                       descricao="Texto fixo contendo“1350”">
                    <edicao exibir="false"/>
                    <valores-validos valores="1350"/>
                </campo>
                <campo n="2" id="SERIE" tipo="C" obrigatorio="1" rotulo="Número de série"
                       descricao="Número de série da bomba">
                </campo>
                <campo n="3" id="FABRICANTE" tipo="C" tamanho="60" obrigatorio="1" rotulo="Fabricante"
                       descricao="Nome do fabricante da bomba">
                </campo>
                <campo n="4" id="MODELO" tipo="C" obrigatorio="1" rotulo="Modelo" descricao="Modelo da bomba">
                </campo>
                <campo n="5" id="TIPO_MEDICAO" tipo="C" tamanho="1" obrigatorio="1" rotulo="Identificador de medição"
                       descricao="Identificador de medição: 0 - Analógigo 1 - Digital">
                    <valores-validos valores="0=Analógico;1=Digital"/>
                </campo>

                <registro id="1360" nivel="3" ocorrencia="2" obrigatorio="1" chave="NUM_LACRE" rotulo="Lacres">
                    <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DAT_APLICACAO" tipo="2" campoMsg="DAT_APLICACAO"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo=""
                           descricao="Texto fixo contendo“1360”">
                        <edicao exibir="false"/>
                        <valores-validos valores="1360"/>
                    </campo>
                    <campo n="2" id="NUM_LACRE" tipo="C" tamanho="20" obrigatorio="1" rotulo="Número do lacre"
                           descricao="Número do lacre associado na bomba">
                    </campo>
                    <campo n="3" id="DAT_APLICACAO" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data de aplicação"
                           descricao="Data de aplicação do lacre">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                        <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                        <edicao componente="103"/>
                    </campo>
                </registro>

                <registro id="1370" nivel="3" ocorrencia="2" obrigatorio="1" chave="NUM_BICO,COD_ITEM" rotulo="Bicos">
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo=""
                           descricao="Texto fixo contendo“1360”">
                        <edicao exibir="false"/>
                        <valores-validos valores="1370"/>
                    </campo>
                    <campo n="2" id="NUM_BICO" tipo="N" tamanho="3" obrigatorio="1" rotulo="Bico ligado à bomba"
                           descricao="Número seqüencial do bico ligado a bomba">
                        <edicao x="0" y="1" largura="1"/>
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do item"
                           descricao="Código do Produto, constante do registro 0200" referenciaPesquisa="0200;COD_ITEM">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                        <edicao x="0" y="0" largura="4"/>
                    </campo>
                    <campo n="4" id="NUM_TANQUE" tipo="C" tamanho="3" obrigatorio="1" rotulo="Número do tanque"
                           descricao="Tanque que armazena o combustível">
                        <!-- <validador id="REGRA_MAIOR_ZERO" tipo="1"/> -->
                        <edicao x="1" y="1" largura="1"/>
                    </campo>
                </registro>

            </registro>

            <registro id="1390" nivel="2" ocorrencia="2" obrigatorio="0" chave="COD_PROD"
                      rotulo="Controle de Produção de Usina">
                <validador id="REGRA_OBRIGATORIO_BLOCO1_1390" tipo="6"/>
                <validador id="REGRA_NAO_INFORMAR_BLOCO1_1390" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo=""
                       descricao="Texto fixo contendo “1390”">
                    <edicao exibir="false"/>
                    <valores-validos valores="1390"/>
                </campo>
                <campo n="2" id="COD_PROD" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="Código do produto"
                       descricao="Código do Produto conforme  de Código de Produto 5.8">
                    <valores-validos datasource="COD_PROD_USINAS"/>
                </campo>

                <registro id="1391" nivel="3" ocorrencia="2" obrigatorio="1" chave="COD_ITEM,DT_REGISTRO"
                          rotulo="Produção diária da Usina">
                    <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_REGISTRO" tipo="2" campoMsg="DT_REGISTRO"/>
                    <validador id="REGRA_VL_ESTQ_FIN" tipo="2" campoMsg="ESTQ_FIN"
                               outrosCamposEnvolvidosValidacao="ESTQ_INI;QTD_PRODUZ;ENT_ANID_HID;OUTR_ENTR;PERDA;CONS;SAI_ANI_HID;SAIDAS"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo=""
                           descricao="Texto fixo contendo“1391”">
                        <edicao exibir="false"/>
                        <valores-validos valores="1391"/>
                    </campo>
                    <campo n="2" id="DT_REGISTRO" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data produção"
                           descricao="Data produção">
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    </campo>
                    <campo n="3" id="QTD" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Quantidade de insumo esmagado (toneladas)"
                           descricao="Quantidade de insumo esmagado (toneladas)"/>
                    <campo n="4" id="ESTQ_INI" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Estoque inicial (litros/Kg)" descricao="Estoque inicial (litros/Kg)"/>
                    <campo n="5" id="QTD_PRODUZ" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Quantidade produzida (litros/Kg)" descricao="Quantidade produzida (litros/Kg)"/>
                    <campo n="6" id="ENT_ANID_HID" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Entrada de álcool anidro ou hidratado (litros)"
                           descricao="Entrada de álcool anidro decorrente da transformação do álcool hidratado ou Entrada de álcool hidratado decorrente da transformação do álcool anidro (litros)"/>
                    <campo n="7" id="OUTR_ENTR" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Outras entradas (litros/Kg)" descricao="Outras entradas (litros/Kg)"/>
                    <campo n="8" id="PERDA" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Evaporação (litros) ou Quebra de peso (Kg)"
                           descricao="Evaporação (litros) ou Quebra de peso (Kg)"/>
                    <campo n="9" id="CONS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Consumo (litros)"
                           descricao="Consumo (litros)"/>
                    <campo n="10" id="SAI_ANI_HID" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Saída para transformação (litros)" descricao="Saída para transformação (litros)"/>
                    <campo n="11" id="SAIDAS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Saídas (litros/Kg)"
                           descricao="Saídas (litros/Kg)"/>
                    <campo n="12" id="ESTQ_FIN" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Estoque final (litros/Kg)" descricao="Estoque final (litros/Kg)"/>
                    <campo n="13" id="ESTQ_INI_MEL" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Estoque inicial de mel residual (Kg)"
                           descricao="Estoque inicial de mel residual (Kg)"/>
                    <campo n="14" id="PROD_DIA_MEL" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Produção de mel residual (Kg) e entradas de mel (Kg)"
                           descricao="Produção de mel residual (Kg) e entradas de mel (Kg)"/>
                    <campo n="15" id="UTIL_MEL" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Mel residual utilizado (Kg) e saídas de mel"
                           descricao="Mel residual utilizado (Kg) e saídas de mel"/>
                    <campo n="16" id="PROD_ALC_MEL" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Produção de álcool (litros) proveniente do mel residual"
                           descricao="Produção de álcool (litros) proveniente do mel residual"/>
                    <campo n="17" id="OBS" tipo="C" obrigatorio="0" rotulo="Observações" descricao="Observações"/>
                    <campo n="18" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1"
                           rotulo="Insumo conforme Código do item"
                           descricao="Informar o insumo conforme código do item (campo 02 do Registro 0200)"
                           referenciaPesquisa="0200;COD_ITEM">
                        <valores-validos datasource="COD_ITEM_0200"/>
                    </campo>
                    <campo n="19" id="TP_RESIDUO" tipo="N" tamanho="[2]" obrigatorio="1"
                           rotulo="Tipo de Resíduo produzido:"
                           descricao="01 - Bagaço de cana, 02 - DDG, 03 - WDG ou 04 - DDG + WDG">
                        <valores-validos valores="01=Bagaço de cana;02=DDG;03=WDG;04=DDG+WDG"/>
                        <edicao largura="6"/>
                    </campo>
                    <campo n="20" id="QTD_RESIDUO" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Quantidade de resíduo produzido" descricao="Quantidade de resíduo produzido">
                        <validador id="REGRA_VALIDA_QTD_RESIDUO" tipo="1"
                                   outrosCamposEnvolvidosValidacao="QTD_RESIDUO_DDG;QTD_RESIDUO_WDG;QTD_RESIDUO_CANA"/>
                        <edicao largura="1"/>
                    </campo>
                    <campo n="21" id="QTD_RESIDUO_DDG" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Quantidade de resíduo produzido de DDG (toneladas)"
                           descricao="Quantidade de resíduo produzido de DDG (toneladas)">
                        <validador id="REGRA_VALIDA_QTD_RESIDUO_DDG" tipo="1"
                                   outrosCamposEnvolvidosValidacao="TP_RESIDUO"/>
                        <edicao largura="1"/>
                    </campo>
                    <campo n="22" id="QTD_RESIDUO_WDG" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Quantidade de resíduo produzido de WDG (toneladas)"
                           descricao="Quantidade de resíduo produzido de WDG (toneladas)">
                        <validador id="REGRA_VALIDA_QTD_RESIDUO_WDG" tipo="1"
                                   outrosCamposEnvolvidosValidacao="TP_RESIDUO"/>
                        <edicao largura="1"/>
                    </campo>
                    <campo n="23" id="QTD_RESIDUO_CANA" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Quantidade de resíduo produzido de bagaço de cana (toneladas)"
                           descricao="Quantidade de resíduo produzido de bagaço de cana (toneladas)">
                        <validador id="REGRA_VALIDA_QTD_RESIDUO_CANA" tipo="1"
                                   outrosCamposEnvolvidosValidacao="TP_RESIDUO"/>
                        <edicao largura="1"/>
                    </campo>
                </registro>
            </registro>

            <registro id="1400" nivel="2" ocorrencia="2" obrigatorio="0" chave="COD_ITEM_IPM,MUN"
                      rotulo="Valores Agregados">
                <validador id="REGRA_OBRIGATORIO_BLOCO1_1400" tipo="6"/>
                <validador id="REGRA_NAO_INFORMAR_BLOCO1_1400" tipo="6"/>
                <validador id="REGRA_VALIDA_COD_ITEM_1400_19001" tipo="2" campoMsg="COD_ITEM_IPM"/>
                <!--Regra Retirada pois será atendida pela regra abaixo<validador id="REGRA_COD_MUN_EM_UF_REGISTRO_0000" tipo="2" campoMsg="MUN"/>-->
                <validador id="REGRA_COD_MUN_EM_UF_1400" tipo="6"/>

                <edicao>
                    <observador-edicao-campo id="OBSERVADOR_UF_FILTRA_MUNICIPIO_PELA_UF_ESCRITURACAO_V2"
                                             campoObservado="MUN"/>
                    <observador-edicao-registro id="OBSERVADOR_REGISTRO_1400_V2"/>
                </edicao>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “1400”">
                    <edicao exibir="false"/>
                    <valores-validos valores="1400"/>
                </campo>
                <campo n="2" id="COD_ITEM_IPM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do item"
                       descricao="Código do item (Tabela 5.9.1 de Itens UF Índice de Participação dos Municípios ou Tabela 5.9.2 de Itens UF_ST Índice de participação dos Municípios) ou campo 02 do Registro 0200"
                       referenciaPesquisa="0200;COD_ITEM_IPM">
                    <!--<validador id="REGRA_VALIDA_COD_ITEM_1400_V3" tipo="0"/> -->
                    <valores-validos datasource="COD_ITEM_IPM_0200_V3"/>
                    <edicao x="0" y="1"/>
                </campo>
                <campo n="3" id="MUN" tipo="N" tamanho="[7]" obrigatorio="1"
                       rotulo="Código do município de origem/destino" descricao="Código do município de origem/destino">
                    <edicao x="0" y="0"/>
                    <validador id="REGRA_VALIDA_COD_MUN_DIFERENTE_9999999" tipo="0"/>
                    <valores-validos datasource="COD_MUN"/>
                </campo>
                <campo n="4" id="VALOR" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor mensal"
                       descricao="Valor mensal correspondente ao município">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="3" componente="104"/>
                </campo>
            </registro>

            <registro id="1500" nivel="2" ocorrencia="2" obrigatorio="0" outros="[modelos=06;definemodelo=true]"
                      chave="IND_OPER,IND_EMIT,COD_PART,SER,SUB,NUM_DOC,DT_DOC"
                      rotulo="Saídas Interestaduais - Energia Elétrica">
                <validador id="REGRA_EXISTE_COD_INF_V2" tipo="6"/>
                <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                <validador id="REGRA_OBRIGATORIO_BLOCO1_1500" tipo="6"/>
                <validador id="REGRA_NAO_INFORMAR_BLOCO1_1500" tipo="6"/>
                <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000_DT_DOC" tipo="2" campoMsg="DT_DOC"
                           outrosCamposEnvolvidosValidacao=""/>
                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_COMPLEMENTAR_17001_V1"/>
                <modificador-obrigatoriedade id="REGRA_NOTA_FISCAL_ESP_14001V1"/>
                <edicao>
                    <observador-edicao-campo id="OBSERVADOR_FILTRA_COD_SIT_POR_COD_MOD_17001_V2"
                                             campoObservado="COD_SIT"/>
                </edicao>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “1500”">
                    <edicao exibir="false"/>
                    <valores-validos valores="1500"/>
                </campo>
                <campo n="2" id="IND_OPER" tipo="C" tamanho="1" obrigatorio="1" rotulo="Indicador do tipo de operação"
                       descricao="Indicador do tipo de operação (1-Saída)">
                    <valores-validos valores="1=Saída"/>
                    <edicao x="0" y="2" largura="6" valorPadrao="1"/>
                </campo>
                <campo n="3" id="IND_EMIT" tipo="C" tamanho="1" obrigatorio="1"
                       rotulo="Indicador do emitente do documento fiscal"
                       descricao="Indicador do emitente do documento fiscal: 0 - Emissão própria">
                    <valores-validos valores="0=Emissão própria"/>
                    <edicao x="0" y="3" largura="6" valorPadrao="0"/>
                </campo>
                <campo n="4" id="COD_PART" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do participante"
                       descricao="Código do participante (campo 02 do Registro 0150):- do adquirente, no caso das saídas"
                       referenciaPesquisa="0150;COD_PART">
                    <valores-validos datasource="COD_PART_0150_SV"/>
                    <edicao x="0" y="4" largura="6"/>
                </campo>
                <campo n="5" id="COD_MOD" tipo="C" tamanho="2" obrigatorio="1"
                       rotulo="Código do modelo do documento fiscal" descricao="Código do modelo do documento fiscal">
                    <valores-validos valores="06=Nota Fiscal/Conta de Energia Elétrica"/>
                    <edicao x="0" y="1" largura="6" valorPadrao="6"/>
                </campo>
                <campo n="6" id="COD_SIT" tipo="N" tamanho="2" obrigatorio="1"
                       rotulo="Código da Situação do documento fiscal"
                       descricao="Código da situação do documento fiscal">
                    <valores-validos datasource="COD_SIT" outros="[codigos=00,01,06,07,08]"/>
                    <edicao x="0" y="0" largura="6" valorPadrao="00"/>
                </campo>
                <campo n="7" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série"
                       descricao="Série do documento fiscal">
                    <edicao x="0" y="7" largura="1"/>
                </campo>
                <campo n="8" id="SUB" tipo="N" tamanho="3" obrigatorio="0" rotulo="Subsérie"
                       descricao="Subsérie do documento fiscal">
                    <edicao x="1" y="7" largura="1"/>
                </campo>
                <campo n="9" id="COD_CONS" tipo="N" tamanho="[2]" obrigatorio="1"
                       rotulo="Código de Classe de consumo de energia elétrica"
                       descricao="Código de classe de consumo de energia elétrica">
                    <valores-validos datasource="COD_CONS"/>
                    <edicao x="0" y="5" largura="6"/>
                </campo>
                <campo n="10" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1" rotulo="Número do documento"
                       descricao="Número do documento fiscal">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="6" largura="1"/>
                </campo>
                <campo n="11" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da emissão"
                       descricao="Data da emissão do documento fiscal">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="0" y="8" largura="1" componente="103"/>
                </campo>
                <campo n="12" id="DT_E_S" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data da entrada/saída"
                       descricao="Data da entrada ou da saída">
                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                    <edicao x="1" y="8" largura="1" componente="103"/>
                </campo>
                <campo n="13" id="VL_DOC" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor total do documento fiscal" descricao="Valor total do documento fiscal">
                    <validador id="REGRA_VL_DOC_GRANDE" tipo="1"/>
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="11" largura="1" componente="104"/>
                </campo>
                <campo n="14" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor total do desconto"
                       descricao="Valor total do desconto">
                    <edicao x="0" y="12" largura="1" componente="104"/>
                </campo>
                <campo n="15" id="VL_FORN" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor total fornecido/consumido" descricao="Valor total fornecido/consumido">
                    <edicao x="1" y="11" largura="1" componente="104"/>
                </campo>
                <campo n="16" id="VL_SERV_NT" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor total dos serviços não-tributados pelo ICMS"
                       descricao="Valor total dos serviços não-tributados pelo ICMS">
                    <edicao x="1" y="12" largura="1" componente="104"/>
                </campo>
                <campo n="17" id="VL_TERC" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor total cobrado em nome de terceiros"
                       descricao="Valor total cobrado em nome de terceiros">
                    <edicao x="0" y="13" largura="1" componente="104"/>
                </campo>
                <campo n="18" id="VL_DA" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor total de despesas acessórias"
                       descricao="Valor total de despesas acessórias indicadas no documento fiscal">
                    <edicao x="1" y="13" largura="1" componente="104"/>
                </campo>
                <campo n="19" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor acumulado da base de cálculo do ICMS"
                       descricao="Valor acumulado da base de cálculo do ICMS">
                    <edicao x="0" y="9" largura="1" componente="104"/>
                </campo>
                <campo n="20" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor acumulado do ICMS"
                       descricao="Valor acumulado do ICMS">
                    <edicao x="1" y="9" largura="1" componente="104"/>
                </campo>
                <campo n="21" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor acumulado da base de cálculo do ICMS ST"
                       descricao="Valor acumulado da base de cálculo do ICMS substituição tributária">
                    <edicao x="0" y="10" largura="1" componente="104"/>
                </campo>
                <campo n="22" id="VL_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                       rotulo="Valor acumulado do ICMS retido por ST"
                       descricao="Valor acumulado do ICMS retido por substituição tributária">
                    <edicao x="1" y="10" largura="1" componente="104"/>
                </campo>
                <campo n="23" id="COD_INF" tipo="C" tamanho="6" obrigatorio="0"
                       rotulo="Código da informação complementar do doc. fiscal"
                       descricao="Código da informação complementar do documento fiscal (campo 02 do Registro 0450)"
                       referenciaPesquisa="0450;COD_INF">
                    <valores-validos datasource="COD_INF_0450_SV"/>
                    <edicao x="0" y="15" largura="6"/>
                </campo>
                <campo n="24" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                       descricao="Valor do PIS">
                    <edicao x="0" y="14" largura="1" componente="104"/>
                </campo>
                <campo n="25" id="VL_COFIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do COFIS"
                       descricao="Valor do COFIS">
                    <edicao x="1" y="14" largura="1" componente="104"/>
                </campo>
                <campo n="26" id="TP_LIGACAO" tipo="N" tamanho="[1]" outros="[obrigatorioSaida=true]"
                       rotulo="Código de tipo de Ligação" descricao="Código de tipo de Ligação">
                    <valores-validos valores="1=Monofásico;2=Bifásico;3=Trifásico"/>
                    <edicao x="0" y="17" largura="6"/>
                </campo>
                <campo n="27" id="COD_GRUPO_TENSAO" tipo="N" tamanho="[2]" outros="[obrigatorioSaida=true]"
                       rotulo="Código de grupo de tensão" descricao="Código de grupo de tensão">
                    <valores-validos
                            valores="01=A1 - Alta Tensão (230kV ou mais);02=A2 - Alta Tensão (88 a 138kV);03=A3 - Alta Tensão (69kV);04=A3a - Alta Tensão (30kV a 44kV);05=A4 - Alta Tensão (2,3kV a 25kV);06=AS - Alta Tensão Subterrâneo 06;07=B1 - Residencial 07;08=B1 - Residencial Baixa Renda 08;09=B2 - Rural 09;10=B2 - Cooperativa de Eletrificação Rural;11=B2 - Serviço Público de Irrigação;12=B3 - Demais Classes;13=B4a - Iluminação Pública - rede de distribuição;14=B4b - Iluminação Pública - bulbo de lâmpada"/>
                    <edicao x="0" y="18" largura="6"/>
                </campo>

                <registro id="1510" nivel="3" ocorrencia="2" obrigatorio="0" outros="[modelos=06]" chave="NUM_ITEM"
                          rotulo="Itens">
                    <edicao>
                        <observador-edicao-campo id="OBSERVADOR_FILTRA_CFOP" campoObservado="CFOP"/>
                    </edicao>
                    <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_UNID_V2" tipo="6"/>
                    <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ICMS_1510" tipo="6"/>
                    <validador id="REGRA_CST_ICMS_CAMPOS_ST_COM_COD_SIT_1510" tipo="6"/>
                    <validador id="REGRA_CFOP_1500" tipo="6"/>
                    <validador id="REGRA_COERENCIA_CFOP_D510" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “1510”">
                        <edicao exibir="false"/>
                        <valores-validos valores="1510"/>
                    </campo>
                    <campo n="2" id="NUM_ITEM" tipo="N" tamanho="3" obrigatorio="1" rotulo="Número sequencial"
                           descricao="Número sequencial do item no documento fiscal">
                        <edicao x="0" y="0" largura="2"/>
                    </campo>
                    <campo n="3" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do item"
                           descricao="Código do item (campo 02 do Registro 0200)" referenciaPesquisa="0200;COD_ITEM">
                        <valores-validos datasource="COD_ITEM_0200_SV"/>
                        <edicao x="0" y="1" largura="6"/>
                    </campo>
                    <campo n="4" id="COD_CLASS" tipo="N" tamanho="[4]" obrigatorio="1" rotulo="Código de classificação"
                           descricao="Código de classificação do item de energia elétrica">
                        <valores-validos datasource="COD_CLASS"/>
                        <edicao x="0" y="4" largura="6"/>
                    </campo>
                    <campo n="5" id="QTD" tipo="N" casasdecimais="3" obrigatorio="0" rotulo="Quantidade do item"
                           descricao="Quantidade do item">
                        <edicao x="0" y="6" largura="1"/>
                    </campo>
                    <campo n="6" id="UNID" tipo="C" tamanho="6" obrigatorio="0" rotulo="Unidade do item"
                           descricao="Unidade do item (Campo 02 do registro 0190)">
                        <valores-validos datasource="UNID_0190_SV"/>
                        <edicao x="0" y="5" largura="6"/>
                    </campo>
                    <campo n="7" id="VL_ITEM" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do item"
                           descricao="Valor do item">
                        <edicao x="1" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="8" id="VL_DESC" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor total do desconto" descricao="Valor total do desconto">
                        <edicao x="2" y="6" largura="1" componente="104"/>
                    </campo>
                    <campo n="9" id="CST_ICMS" tipo="N" tamanho="[3]" obrigatorio="1" rotulo="CST/ICMS"
                           descricao="Código da Situação Tributária">
                        <valores-validos datasource="CST_ICMS"/>
                        <edicao x="0" y="2" largura="6"/>
                    </campo>
                    <campo n="10" id="CFOP" tipo="N" tamanho="[4]" obrigatorio="1" rotulo="CFOP"
                           descricao="Código Fiscal de Operação e Prestação">
                        <valores-validos datasource="CFOP"/>
                        <edicao x="0" y="3" largura="6"/>
                    </campo>
                    <campo n="11" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor da base de cálculo do ICMS" descricao="Valor da base de cálculo do ICMS">
                        <edicao x="1" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="12" id="ALIQ_ICMS" tipo="N" tamanho="6" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS" descricao="Alíquota do ICMS">
                        <edicao x="0" y="7" largura="1" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="13" id="VL_ICMS" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor do ICMS creditado/debitado" descricao="Valor do ICMS creditado/debitado">
                        <edicao x="2" y="7" largura="1" componente="104"/>
                    </campo>
                    <campo n="14" id="VL_BC_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Valor da base de cálculo ST"
                           descricao="Valor da base de cálculo referente à substituição tributária">
                        <edicao x="1" y="8" largura="1" componente="104"/>
                    </campo>
                    <campo n="15" id="ALIQ_ST" tipo="N" casasdecimais="2" obrigatorio="0"
                           rotulo="Alíquota do ICMS da ST"
                           descricao="Alíquota do ICMS da substituição tributária na unidade da federação de destino">
                        <edicao x="0" y="8" largura="1" componente="105"/>
                        <validador id="REGRA_ALIQ_MENOR_1000" tipo="1"/>
                    </campo>
                    <campo n="16" id="VL_ICMS_ST" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do ICMS ST"
                           descricao="Valor do ICMS referente à substituição tributária">
                        <edicao x="2" y="8" largura="1" componente="104"/>
                    </campo>
                    <campo n="17" id="IND_REC" tipo="C" tamanho="[1]" obrigatorio="1"
                           rotulo="Indicador do tipo de receita:"
                           descricao="Indicador do tipo de receita: 0-Receita própria; 1-Receita de terceiros">
                        <valores-validos valores="0=Receita própria;1=Receita de terceiros"/>
                        <edicao x="0" y="9" largura="6"/>
                    </campo>
                    <campo n="18" id="COD_PART" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do participante"
                           descricao="Código do participante receptor da receita, terceiro da operação (campo 02 do Registro 0150)"
                           referenciaPesquisa="0150;COD_PART">
                        <valores-validos datasource="COD_PART_0150_SV"/>
                        <edicao x="0" y="10" largura="6"/>
                    </campo>
                    <campo n="19" id="VL_PIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor do PIS"
                           descricao="Valor do PIS">
                        <edicao x="0" y="11" largura="1" componente="104"/>
                    </campo>
                    <campo n="20" id="VL_COFIS" tipo="N" casasdecimais="2" obrigatorio="0" rotulo="Valor da COFINS"
                           descricao="Valor da COFINS">
                        <edicao x="1" y="11" largura="1" componente="104"/>
                    </campo>
                    <campo n="21" id="COD_CTA" tipo="C" obrigatorio="0" rotulo="Código da conta analítica contábil"
                           descricao="Código da conta analítica contábil debitada/creditada">
                        <edicao x="0" y="12" largura="4"/>
                    </campo>
                </registro>

            </registro>
            <!--  Registro 1600 excluído a partir de 2022 -->
            <!-- 	<registro id="1600" nivel="2" ocorrencia="2" obrigatorio="0" chave="COD_PART" rotulo="Total das Operações com Cartão de Crédito e/ou Débito, Loja(Private Label) e demais instrumentos de Pagamentos Eletrônicos">
				<validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
				<validador id="REGRA_OBRIGATORIO_BLOCO1_1600" tipo="6"/>
				<validador id="REGRA_NAO_INFORMAR_BLOCO1_1600" tipo="6"/>

				<campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro" descricao="Texto fixo contendo“1600”">
				  <edicao exibir="false"/>
				  <valores-validos valores="1600"/>
				</campo>
				<campo n="2" id="COD_PART" tipo="C" tamanho="60" obrigatorio="1" rotulo="Código do Participante" descricao="Código do participante (campo 02 do Registro 0150): identificação da instituição financeira e/ou de pagamento" referenciaPesquisa="0150;COD_PART">
					<valores-validos datasource="COD_PART_0150_SV"/>
					<edicao x="0" y="0" largura="4"/>
				</campo>
				<campo n="3" id="TOT_CREDITO" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor total das operações de crédito realizadas no período" descricao="Valor total das operações de crédito realizadas no período">
					<edicao x="0" y="1" largura="1" componente="104"/>
				</campo>
				<campo n="4" id="TOT_DEBITO" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor total das operações de débito realizadas no período" descricao="Valor total das operações de débito realizadas no período">
					<edicao x="1" y="1" largura="1" componente="104"/>
				</campo>
			</registro> -->

            <registro id="1601" nivel="2" ocorrencia="2" obrigatorio="0"
                      rotulo="Operações com instrumentos de Pagamentos Eletrônicos">
                <validador id="REGRA_EXISTE_COD_PART_V3" tipo="6"/>
                <validador id="REGRA_OBRIGATORIO_BLOCO1_1601" tipo="6"/>
                <validador id="REGRA_NAO_INFORMAR_BLOCO1_1601" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo“1601”">
                    <edicao exibir="false"/>
                    <valores-validos valores="1601"/>
                </campo>
                <campo n="2" id="COD_PART_IP" tipo="C" tamanho="60" obrigatorio="1"
                       rotulo="Código do Participante da instituição financeira que efetuou o pagamento"
                       descricao="Código do participante (campo 02 do Registro 0150): identificação da instituição que efetuou o pagamento"
                       referenciaPesquisa="0150;COD_PART">
                    <valores-validos datasource="COD_PART_0150_SV"/>
                    <edicao x="0" y="0" largura="4"/>
                </campo>
                <campo n="3" id="COD_PART_IT" tipo="C" tamanho="60" obrigatorio="0"
                       rotulo="Código do Participante intermediador da transação"
                       descricao="Código do participante (campo 02 do Registro 0150): identificação do intermediador da transação"
                       referenciaPesquisa="0150;COD_PART">
                    <valores-validos datasource="COD_PART_0150_SV"/>
                    <edicao x="0" y="1" largura="4"/>
                </campo>
                <campo n="4" id="TOT_VS" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor total bruto das vendas e/ou prestações de serviços-ICMS (TOT_VS)"
                       descricao="Valor total bruto das vendas e/ou prestações de serviços no campo de incidência do ICMS (TOT_VS), incluindo operações com imunidade do imposto">
                    <edicao x="0" y="2" componente="104"/>
                </campo>
                <campo n="5" id="TOT_ISS" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor total bruto das prestações de serviços-ISS (TOT_ISS)"
                       descricao="Valor total bruto das prestações de serviços no campo de incidência do ISS (TOT_ISS)">
                    <edicao x="0" y="3" componente="104"/>
                </campo>
                <campo n="6" id="TOT_OUTROS" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor total de operações deduzido dos valores dos campos TOT_VS e TOT_ISS."
                       descricao="Valor total de operações deduzido dos valores dos campos TOT_VS e TOT_ISS.">
                    <edicao x="0" y="4" componente="104"/>
                </campo>
            </registro>

            <registro id="1700" nivel="2" ocorrencia="2" obrigatorio="0" rotulo="DOCUMENTOS FISCAIS UTILIZADOS">
                <validador id="REGRA_OBRIGATORIO_BLOCO1_1700" tipo="6"/>
                <validador id="REGRA_NAO_INFORMAR_BLOCO1_1700" tipo="6"/>

                <validador id="REGRA_NUMDOC" tipo="2" campoMsg="NUM_DOC_FIN"
                           outrosCamposEnvolvidosValidacao="NUM_DOC_INI"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “1700”">
                    <valores-validos valores="1700"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="2" id="COD_DISP" tipo="C" tamanho="[2]" obrigatorio="1" rotulo="Código dispositivo autorizado"
                       descricao="Código dispositivo autorizado">
                    <valores-validos
                            valores="00=Formulário de Segurança - impressor autônomo;01=FS-DA – Formulário de Segurança para Impressão de DANFE;02=Formulário de segurança - NF-e;03=Formulário Contínuo;04=Blocos;05=Jogos Soltos"/>
                    <edicao x="0" y="0" largura="4"/>
                </campo>
                <campo n="3" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1"
                       rotulo="Código do modelo do documento fiscal" descricao="Código do modelo do documento fiscal">
                    <valores-validos datasource="COD_MOD"/>
                    <edicao x="0" y="1" largura="4"/>
                </campo>
                <campo n="4" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série"
                       descricao="Série do documento fiscal">
                    <edicao x="0" y="3" largura="1"/>
                </campo>
                <campo n="5" id="SUB" tipo="C" tamanho="3" obrigatorio="0" rotulo="Subsérie"
                       descricao="Subsérie do documento fiscal">
                    <edicao x="1" y="3" largura="1"/>
                </campo>
                <campo n="6" id="NUM_DOC_INI" tipo="N" tamanho="12" obrigatorio="1" rotulo="Documento fiscal inicial"
                       descricao="Número do documento fiscal inicial">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="0" y="2" largura="1" componente="107"/>
                </campo>
                <campo n="7" id="NUM_DOC_FIN" tipo="N" tamanho="12" obrigatorio="1" rotulo="Documento fiscal final"
                       descricao="Número do documento fiscal final">
                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                    <edicao x="1" y="2" largura="1" componente="107"/>
                </campo>
                <campo n="8" id="NUM_AUT" tipo="N" tamanho="60" obrigatorio="1" rotulo="Número da autorização"
                       descricao="Número da autorização, conforme dispositivo autorizado">
                    <edicao x="0" y="4" largura="4"/>
                </campo>

                <registro id="1710" nivel="3" ocorrencia="2" obrigatorio="0"
                          rotulo="DOCUMENTOS FISCAIS CANCELADOS/INUTILIZADOS">
                    <validador id="REGRA_NUMDOC" tipo="2" campoMsg="NUM_DOC_FIN"
                               outrosCamposEnvolvidosValidacao="NUM_DOC_INI"/>
                    <validador id="REGRA_NUM_DOC_CANC_INTERVALO_1700_INI" tipo="6"/>
                    <validador id="REGRA_NUM_DOC_CANC_INTERVALO_1700_FIN" tipo="6"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “1710”">
                        <valores-validos valores="1710"/>
                        <edicao exibir="false"/>
                    </campo>
                    <campo n="6" id="NUM_DOC_INI" tipo="N" tamanho="12" obrigatorio="1"
                           rotulo="Dispositivo autorizado inicial" descricao="Número do dispositivo autorizado inicial">
                        <edicao x="0" y="0" largura="1" componente="107"/>
                    </campo>
                    <campo n="7" id="NUM_DOC_FIN" tipo="N" tamanho="12" obrigatorio="1"
                           rotulo="Dispositivo autorizado final" descricao="Número do dispositivo autorizado final">
                        <edicao x="1" y="0" largura="1" componente="107"/>
                    </campo>
                </registro>

            </registro>

            <registro id="1800" nivel="2" ocorrencia="2" obrigatorio="0"
                      rotulo="DEMONSTRATIVO DE CRÉDITO DO ICMS SOBRE TRANSPORTE AÉREO">
                <validador id="REGRA_VL_FAT_1800" tipo="2" campoMsg="VL_FAT"
                           outrosCamposEnvolvidosValidacao="VL_CARGA;VL_PASS"/>
                <validador id="REGRA_IND_RAT_1800_A4E5V5" tipo="2" campoMsg="IND_RAT"
                           outrosCamposEnvolvidosValidacao="VL_CARGA;VL_FAT"/>
                <validador id="REGRA_VL_ICMS_APUR_1800" tipo="2" campoMsg="VL_ICMS_APUR"
                           outrosCamposEnvolvidosValidacao="IND_RAT;VL_ICMS_ANT"/>
                <validador id="REGRA_VL_BC_ICMS_APUR_1800" tipo="2" campoMsg="VL_ICMS_APUR"
                           outrosCamposEnvolvidosValidacao="IND_RAT;VL_BC_ICMS"/>
                <validador id="REGRA_VL_DIF_1800" tipo="2" campoMsg="VL_DIF"
                           outrosCamposEnvolvidosValidacao="VL_ICMS_APUR;VL_ICMS_ANT"/>
                <validador id="REGRA_OBRIGATORIO_BLOCO1_1800" tipo="6"/>
                <validador id="REGRA_NAO_INFORMAR_BLOCO1_1800" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo“1800”">
                    <valores-validos valores="1800"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="2" id="VL_CARGA" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor das prestações cargas (Tributado)"
                       descricao="Valor das prestações cargas (Tributado)">
                    <edicao x="0" y="0" largura="1"/>
                </campo>
                <campo n="3" id="VL_PASS" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Vr. das prestações passageiros/cargas (Não Tributado)"
                       descricao="Vr. das prestações passageiros/cargas (Não Tributado)">
                    <edicao x="1" y="0" largura="1"/>
                </campo>
                <campo n="4" id="VL_FAT" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor total do faturamento"
                       descricao="Valor total do faturamento">
                    <edicao x="0" y="1" largura="1"/>
                </campo>
                <campo n="5" id="IND_RAT" tipo="N" tamanho="8" casasdecimais="6" obrigatorio="1"
                       rotulo="Índice para rateio" descricao="Índice para rateio">
                    <edicao x="1" y="1" largura="1"/>
                </campo>
                <campo n="6" id="VL_ICMS_ANT" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor total dos créditos de ICMS" descricao="Valor total dos créditos de ICMS">
                    <edicao x="0" y="2" largura="1"/>
                </campo>
                <campo n="7" id="VL_BC_ICMS" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor da base de cálculo do ICMS" descricao="Valor da base de cálculo do ICMS">
                    <edicao x="1" y="2" largura="1"/>
                </campo>
                <campo n="8" id="VL_ICMS_APUR" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Valor do ICMS apurado"
                       descricao="Valor do ICMS apurado">
                    <edicao x="0" y="3" largura="1"/>
                </campo>
                <campo n="9" id="VL_BC_ICMS_APUR" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Valor da base de cálculo do ICMS apurada"
                       descricao="Valor da base de cálclo do ICMS apurada">
                    <edicao x="1" y="3" largura="1"/>
                </campo>
                <campo n="10" id="VL_DIF" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Vr. da diferença a ser levada a estorno de crédito na apuração"
                       descricao="Vr. da diferença a ser levada a estorno de crédito na apuração">
                    <edicao x="0" y="4" largura="1"/>
                </campo>
            </registro>

            <registro id="1900" chave="IND_APUR_ICMS" nivel="2" ocorrencia="2" obrigatorio="0"
                      rotulo="Indicador de Sub-apuração do ICMS">

                <validador id="REGRA_OBRIGATORIO_1900_17001_V1" tipo="6"/>
                <validador id="REGRA_ABRANGER_PERIODO_ICMS_OP_1900" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo“1900”">
                    <valores-validos valores="1900"/>
                    <edicao exibir="false"/>
                </campo>
                <campo n="2" id="IND_APUR_ICMS" tipo="C" tamanho="[1]" obrigatorio="1"
                       rotulo="Indicador de apuração do ICMS" descricao="Indicador de apuração do ICMS">
                    <valores-validos
                            valores="3=APURAÇÃO 1;4=APURAÇÃO 2;5=APURAÇÃO 3;6=APURAÇÃO 4;7=APURAÇÃO 5;8=APURAÇÃO 6"/>
                    <edicao x="0" y="0" largura="1"/>
                </campo>
                <campo n="3" id="DESCR_COMPL_OUT_APUR" tipo="C" obrigatorio="1"
                       rotulo="Descrição complementar de Outra Apuração do ICMS"
                       descricao="Descrição complementar de Outra Apuração do ICMS">
                    <edicao x="0" y="1" largura="1"/>
                </campo>

                <registro id="1910" nivel="3" ocorrencia="2" outros="[naousachavenaduplicidade=true]" obrigatorio="1"
                          chave="DT_INI,DT_FIN" rotulo="Período da Sub-apuração do ICMS">
                    <validador id="REGRA_DUPLICIDADE_NO_REGISTRO_E100_INTERVALO_DATA_A9E1V1" tipo="6"/>

                    <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_INI" tipo="2" campoMsg="DT_INI"/>
                    <validador id="REGRA_DATA_ENTRE_DT_INI_DT_FIN_0000_DT_FIN" tipo="2" campoMsg="DT_FIN"/>
                    <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_DT_INI_DT_FIN" tipo="2" campoMsg="DT_INI"
                               outrosCamposEnvolvidosValidacao="DT_FIN"/>
                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “1910”">
                        <valores-validos valores="1910"/>
                        <edicao exibir="false"/>
                    </campo>
                    <campo n="2" id="DT_INI" tipo="D" tamanho="[8]" obrigatorio="1"
                           rotulo="Data Inicial da sub-apuração" descricao="Data Inicial da sub-apuração">
                        <edicao x="0" y="0" largura="1" componente="103"/>
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    </campo>
                    <campo n="3" id="DT_FIN" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data final da sub-apuração"
                           descricao="Data final da sub-apuração">
                        <edicao x="0" y="1" largura="1" componente="103"/>
                        <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                    </campo>


                    <registro id="1920" nivel="4" ocorrencia="1" obrigatorio="1" rotulo="SUB-APURAÇÃO DO ICMS">
                        <validador id="REGRA_VL_TOT_TRANSF_DEBITOS_OA_E1920_17002_V1" tipo="6"/>
                        <validador id="REGRA_VL_TOT_AJ_DEBITOS_OA_1920" tipo="6"/>
                        <validador id="REGRA_VL_ESTORNOS_CRED_OA_1920" tipo="6"/>
                        <validador id="REGRA_VL_ESTORNOS_DEB_OA_1920" tipo="6"/>
                        <validador id="REGRA_VL_TOT_TRANSF_CREDITOS_OA_1920_17002_V1" tipo="6"/>
                        <validador id="REGRA_VL_TOT_AJ_CREDITOS_AO_1920" tipo="6"/>
                        <validador id="REGRA_VL_SLD_APURADO_OA_1920" tipo="2"/>
                        <validador id="REGRA_VL_TOT_DED_1920" tipo="6" campoMsg="VL_TOT_DED"/>
                        <validador id="REGRA_VL_TOT_DED_MAIOR_ZERO_1920" tipo="2" campoMsg="VL_TOT_DED"
                                   outrosCamposEnvolvidosValidacao="VL_SLD_APURADO_OA"/>
                        <validador id="REGRA_ICMS_RECOLHER_OA_1920" tipo="2"/>
                        <validador id="REGRA_ICMS_RECOLHER_OA_1926" tipo="6" campoMsg="VL_ICMS_RECOLHER_OA"
                                   outrosCamposEnvolvidosValidacao="DEB_ESP_OA"/>
                        <validador id="REGRA_VL_SLD_CREDOR_TRANSP_OA_1920" tipo="2"/>
                        <validador id="REGRA_DEB_ESP_OA_1920_17002_V1" tipo="6"/>
                        <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                               descricao="Texto fixo contendo “1920”">
                            <valores-validos valores="1920"/>
                            <edicao exibir="false"/>
                        </campo>
                        <campo n="2" id="VL_TOT_TRANSF_DEBITOS_OA" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor total dos débitos por “Saídas e Prestações com débito do imposto“"
                               descricao="Valor total dos débitos por “Saídas e Prestações com débito do imposto“">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="3" id="VL_TOT_AJ_DEBITOS_OA" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor total de “Ajustes a débito“" descricao="Valor total de “Ajustes a débito“">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="4" id="VL_ESTORNOS_CRED_OA" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor total de Ajustes “Estornos de créditos“"
                               descricao="Valor total de Ajustes “Estornos de créditos“">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="5" id="VL_TOT_TRANSF_CREDITOS_OA" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor total dos créditos por “Entradas e aquisições com crédito do imposto“"
                               descricao="Valor total dos créditos por “Entradas e aquisições com crédito do imposto“">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="6" id="VL_TOT_AJ_CREDITOS_OA" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor total de “Ajustes a crédito“"
                               descricao="Valor total de “Ajustes a crédito“">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="7" id="VL_ESTORNOS_DEB_OA" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor total de Ajustes “Estornos de Débitos“"
                               descricao="Valor total de Ajustes “Estornos de Débitos“">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="8" id="VL_SLD_CREDOR_ANT_OA" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor total de “Saldo credor do período anterior“"
                               descricao="Valor total de “Saldo Credor do período anterior“">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="9" id="VL_SLD_APURADO_OA" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor do saldo devedor apurado" descricao="Valor total de “Ajustes a crédito“">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="10" id="VL_TOT_DED" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor total de “Deduções“" descricao="Valor total de “Deduções“">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="11" id="VL_ICMS_RECOLHER_OA" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor total de “ICMS a recolher“"
                               descricao="Valor total de “ICMS a recolher“ (9-10)">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="12" id="VL_SLD_CREDOR_TRANSP_OA" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valor total de “Saldo credor a transportar para o período seguinte“"
                               descricao="Valor total de “Saldo credor a transportar para o período seguinte“">
                            <edicao componente="104"/>
                        </campo>
                        <campo n="13" id="DEB_ESP_OA" tipo="N" casasdecimais="2" obrigatorio="1"
                               rotulo="Valores recolhidos ou a recolher, extra-apuração"
                               descricao="Valores recolhidos ou a recolher, extra-apuração">
                            <edicao componente="104"/>
                        </campo>

                        <registro id="1921" nivel="5" ocorrencia="2" obrigatorio="0"
                                  rotulo="Ajuste/Benefício/Incentivo">
                            <!-- ESSA REGRA FOI EXCLUÍDA A PEDIDO DE TUTOMU  <validador id="REGRA_COD_AJUR_APUR_VALIDO_1921" tipo="6"/> -->
                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “1921”">
                                <valores-validos valores="1921"/>
                                <edicao exibir="false"/>
                            </campo>
                            <campo n="2" id="COD_AJ_APUR" tipo="C" tamanho="[8]" obrigatorio="1"
                                   rotulo="Código do ajustes da Sub-apuração e dedução"
                                   descricao="Código do ajustes da SUB-APURAÇÂO e dedução">
                                <valores-validos datasource="COD_AJ_APURACAO_A7E1V1"/>
                                <edicao x="0" y="0" largura="1"/>
                            </campo>
                            <campo n="3" id="DESCR_COMPL_AJ" tipo="C" obrigatorio="0"
                                   rotulo="Descrição complementar do ajuste da apuração"
                                   descricao="Descrição complementar do ajuste da apuração">
                                <edicao x="0" y="1" largura="1"/>
                            </campo>
                            <campo n="4" id="VL_AJ_APUR" tipo="N" casasdecimais="2" obrigatorio="1"
                                   rotulo="Valor ajuste da apuração" descricao="Valor ajuste da operação“">
                                <edicao x="0" y="2" largura="1" componente="104"/>
                            </campo>
                            <registro id="1922" nivel="6" ocorrencia="2" obrigatorio="0"
                                      rotulo="Informação Adicional da Sub-apuração do ICMS">
                                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                       descricao="Texto fixo contendo “1922”">
                                    <valores-validos valores="1922"/>
                                    <edicao exibir="false"/>
                                </campo>
                                <campo n="2" id="NUM_DA" tipo="C" obrigatorio="0" rotulo="Número doc arrecadação"
                                       descricao="Número do documento de arredação estadual, se houver">
                                    <edicao x="0" y="0" largura="1"/>
                                </campo>
                                <campo n="3" id="NUM_PROC" tipo="C" tamanho="60" obrigatorio="0"
                                       rotulo="Número do processo"
                                       descricao="Número do processo ao qual o ajuste está vinculado, se houver">
                                    <edicao x="1" y="0" largura="1"/>
                                </campo>
                                <campo n="4" id="IND_PROC" tipo="C" tamanho="[1]" obrigatorio="0"
                                       rotulo="Origem do processo" descricao="Indicador da origem do processo">
                                    <valores-validos valores="0=SEFAZ;1=Justiça Federal;2= Justiça Estadual;9= Outros"/>
                                    <edicao x="0" y="1" largura="4"/>
                                </campo>
                                <campo n="5" id="PROC" tipo="C" rotulo="Descrição resumida"
                                       descricao="Descrição resumida do processo que embasou o lançamento">
                                    <edicao x="0" y="2" largura="4"/>
                                </campo>
                                <campo n="6" id="TXT_COMPL" tipo="C" rotulo="Descrição Complementar"
                                       descricao="Descrição Complementar">
                                    <edicao x="0" y="3" largura="4"/>
                                </campo>
                            </registro>
                            <registro id="1923" nivel="6" ocorrencia="2" obrigatorio="0"
                                      rotulo="Identificação dos Documentos Fiscais">

                                <modificador-obrigatoriedade id="REGRA_NAO_INFORMAR_COD_PART_14002_V1"/>
                                <!--  As regras  REGRA_NAO_INFORMAR_COD_ITEM_BPE e REGRA_NAO_INFORMAR_SUB estão atendidas na classe
							REGRA_NAO_INFORMAR_COD_PART_14002_V1 -->

                                <persistencia indices="COD_ITEM;COD_PART;"/>
                                <validador id="REGRA_EXISTE_COD_ITEM_V2" tipo="6"/>
                                <validador id="REGRA_EXISTE_COD_PART_V2" tipo="6"/>
                                <validador id="REGRA_OBRIGATORIO_CHV_NFE_CTE_DOCE_V6" tipo="2" campoMsg="CHV_DOCE"
                                           outrosCamposEnvolvidosValidacao="COD_MOD"/>
                                <validador id="REGRA_PREENCHER_CHV_NFE_CTE_DOCE_V4" tipo="2" campoMsg="CHV_DOCE"
                                           outrosCamposEnvolvidosValidacao="COD_MOD"/>
                                <validador id="REGRA_VALIDA_CHV_NFE_CTE" tipo="2" campoMsg="CHV_DOCE"/>
                                <validador id="REGRA_COMPARA_NUM_DOC_NFE_CTE" tipo="2" campoMsg="CHV_DOCE"
                                           outrosCamposEnvolvidosValidacao="NUM_DOC"/>
                                <validador id="REGRA_COMPARA_CODIGO_MODELO" tipo="2" campoMsg="CHV_DOCE"/>
                                <validador id="REGRA_VALIDA_SERIE_CHAVE" tipo="2" camposMsg="CHV_DOCE"/>

                                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                       descricao="Texto fixo contendo “1923”">
                                    <valores-validos valores="1923"/>
                                    <edicao exibir="false"/>
                                </campo>
                                <campo n="2" id="COD_PART" tipo="C" tamanho="60" obrigatorio="1"
                                       rotulo="Código do participante"
                                       descricao="Código do participante (campo 02 do Registro 0150): - do emitente do documento ou do remetente das mercadorias, no caso de entradas; - do adquirente, no caso de saídas"
                                       referenciaPesquisa="0150;COD_PART">
                                    <valores-validos datasource="COD_PART_0150_SV"/>
                                    <edicao x="0" y="1" largura="6"/>
                                </campo>
                                <campo n="3" id="COD_MOD" tipo="C" tamanho="[2]" obrigatorio="1"
                                       rotulo="Código do modelo" descricao="Código do modelo do documento fiscal">
                                    <valores-validos datasource="COD_MOD"/>
                                    <edicao x="0" y="0" largura="6"/>
                                </campo>
                                <campo n="4" id="SER" tipo="C" tamanho="4" obrigatorio="0" rotulo="Série"
                                       descricao="Série do documento fiscal">
                                    <edicao x="1" y="2" largura="1"/>
                                </campo>
                                <campo n="5" id="SUB" tipo="N" tamanho="3" obrigatorio="0" rotulo="Subsérie"
                                       descricao="Subsérie do documento fiscal">
                                    <edicao x="2" y="2" largura="1" componente="107"/>
                                </campo>
                                <campo n="6" id="NUM_DOC" tipo="N" tamanho="9" obrigatorio="1"
                                       rotulo="Número do documento" descricao="Número do documento fiscal">
                                    <validador id="REGRA_MAIOR_ZERO" tipo="1"/>
                                    <edicao x="0" y="2" largura="1" componente="107"/>
                                </campo>
                                <campo n="7" id="DT_DOC" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data de emissão"
                                       descricao="Data de emissão do Documento Fiscal (DD/MM/AAAA)">
                                    <edicao x="0" y="4" largura="1" componente="103"/>
                                    <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                                    <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                                    <validador id="REGRA_DATA_MENOR_IGUAL_DT_FIN_0000" tipo="1"/>
                                </campo>
                                <campo n="8" id="COD_ITEM" tipo="C" tamanho="60" obrigatorio="0" rotulo="Código do item"
                                       descricao="Código do item (campo 02 do Registro 0200)">
                                    <valores-validos datasource="COD_ITEM_0200_SV"/>
                                    <edicao x="0" y="3" largura="6"/>
                                </campo>
                                <campo n="9" id="VL_AJ_ITEM" tipo="N" casasdecimais="2" obrigatorio="1"
                                       rotulo="Valor do ajuste do item" descricao="Valor ajuste para a operação/item.“">
                                    <edicao x="1" y="4" largura="1" componente="104"/>
                                </campo>
                                <campo n="10" id="CHV_DOCE" tipo="N" tamanho="[44]" obrigatorio="0"
                                       rotulo="Chave do documento eletrônico" descricao="Chave do documento eletrônico">
                                    <edicao componente="113"/>
                                </campo>
                            </registro>
                        </registro>
                        <registro id="1925" nivel="5" ocorrencia="2" obrigatorio="0" rotulo="Valores Declaratórios">
                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “1925”">
                                <valores-validos valores="1925"/>
                                <edicao exibir="false"/>
                            </campo>
                            <campo n="2" id="COD_INF_ADIC" tipo="C" tamanho="[8]" obrigatorio="1"
                                   rotulo="Código informação adicional"
                                   descricao="Código da informação adicional conforme tabela a ser definida pelas SEFAZ">
                                <valores-validos datasource="COD_INF_ADIC"/>
                                <edicao x="0" y="0" largura="1"/>
                            </campo>
                            <campo n="3" id="VL_INF_ADIC" tipo="N" casasdecimais="2" obrigatorio="1"
                                   rotulo="Valor referente à informação adicional"
                                   descricao="Valor referente à informação adicional">
                                <edicao x="0" y="1" largura="1"/>
                            </campo>
                            <campo n="4" id="DESC_COMPL_AJ" tipo="C" obrigatorio="0"
                                   rotulo="Descrição complementar do ajuste"
                                   descricao="Descrição complementar do ajuste">
                                <edicao x="0" y="2" largura="1"/>
                            </campo>
                        </registro>

                        <registro id="1926" nivel="5" ocorrencia="2" obrigatorio="0"
                                  rotulo="Obrigações do ICMS a recolher">
                            <validador id="REGRA_PREENCHE_NUM_PROC" tipo="2" campoMsg="NUM_PROC"
                                       outrosCamposEnvolvidosValidacao="IND_PROC;PROC"/>
                            <validador id="REGRA_MES_ANO_VALIDO" tipo="2" campoMsg="MES_REF"/>
                            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                                   descricao="Texto fixo contendo “1926”">
                                <valores-validos valores="1926"/>
                                <edicao exibir="false"/>
                            </campo>
                            <campo n="2" id="COD_OR" tipo="C" tamanho="[3]" obrigatorio="1"
                                   rotulo="Código do ICMS a recolher"
                                   descricao="Código da obrigação a recolher, conforme a Tabela de Códigos das Obrigações de ICMS a recolher">
                                <valores-validos datasource="COD_OR"/>
                                <edicao x="0" y="0" largura="4"/>
                            </campo>
                            <campo n="3" id="VL_OR" tipo="N" casasdecimais="2" obrigatorio="1"
                                   rotulo="Valor do ICMS a recolher" descricao="Valor da obrigação a recolher">
                                <edicao x="0" y="1" largura="1" componente="104"/>
                            </campo>
                            <campo n="4" id="DT_VCTO" tipo="D" tamanho="[8]" obrigatorio="1" rotulo="Data de vencimento"
                                   descricao="Data de Vencimento da obrigação">
                                <edicao x="1" y="1" largura="1" componente="103"/>
                                <validador id="REGRA_DATA_VALIDA_A4E5V1" tipo="0"/>
                                <validador id="REGRA_DATA_MINIMA_DOC_FISCAL" tipo="1"/>
                            </campo>
                            <campo n="5" id="COD_REC" tipo="C" obrigatorio="1" rotulo="Código da receita"
                                   descricao="Código da receita referente à obrigaçãom próprio da unidade da federação, conforme legislação estadual">
                                <valores-validos datasource="COD_REC_V2_A10E4V5"/>
                                <edicao x="0" y="2" largura="1" componente="203"/>
                            </campo>
                            <campo n="6" id="NUM_PROC" tipo="C" tamanho="60" obrigatorio="0" rotulo="Número do processo"
                                   descricao="Número do processo ou auto de infração ao qual a obrigação está vinculada, se houver">
                                <edicao x="1" y="2" largura="1"/>
                            </campo>
                            <campo n="7" id="IND_PROC" tipo="C" tamanho="[1]" casasdecimais="2" obrigatorio="0"
                                   rotulo="Origem do processo" descricao="Indicador da origem do processo">
                                <valores-validos valores="0=SEFAZ;1=Justiça Federal;2=Justiça Estadual;9=Outros"/>
                                <edicao x="0" y="3" largura="4"/>
                            </campo>
                            <campo n="8" id="PROC" tipo="C" obrigatorio="0" rotulo="Descrição resumida"
                                   descricao="Descrição resumida do processo que embasou o lançamento">
                                <edicao x="0" y="4" largura="4"/>
                            </campo>
                            <campo n="9" id="TXT_COMPL" tipo="C" obrigatorio="0" rotulo="Descrição complementar"
                                   descricao="Descrição complementar de obrigações a recolher.“">
                                <edicao x="0" y="5" largura="4"/>
                            </campo>
                            <!--  -->
                            <campo n="10" id="MES_REF" tipo="C" tamanho="[6]" obrigatorio="1" rotulo="Mês de referência"
                                   descricao="Informe o mês de referência no formato mmaaaa.“">
                                <validador id="REGRA_VALIDA_MES_REF" tipo="1"/>
                                <validador id="REGRA_MES_REF_MENOR_DT_INI_0000" tipo="1"/>
                                <edicao componente="116"/>
                            </campo>
                        </registro>
                    </registro>
                </registro>
            </registro>
            <registro id="1960" nivel="2" ocorrencia="2" obrigatorio="0" chave="IND_AP"
                      rotulo="GIAF 1 - Guia de Informação e Apuração de Incentivos Fiscais e Financeiros: Indústria (Crédito Presumido)">
                <validador id="REGRA_OBRIGATORIO_BLOCO1_1960" tipo="6"/>
                <validador id="REGRA_NAO_INFORMAR_BLOCO1_1960" tipo="6"/>
                <validador id="REGRA_VALOR_G1_10" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “1960”">
                    <edicao exibir="false"/>
                    <valores-validos valores="1960"/>
                </campo>
                <campo n="2" id="IND_AP" tipo="N" tamanho="[2]" obrigatorio="1" rotulo="Indicador da sub-apuração"
                       descricao="Indicador da sub-apuração por tipo de benefício (conforme tabela 4.7.1)">
                    <valores-validos datasource="IND_AP"/>
                    <edicao x="0" y="0"/>
                </campo>
                <campo n="3" id="G1_01" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Percentual de crédito presumido" descricao="Percentual de crédito presumido">
                    <edicao x="0" y="1" componente="105"/>
                </campo>
                <campo n="4" id="G1_02" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saídas não incentivadas de PI" descricao="Saídas não incentivadas de PI">
                    <edicao x="0" y="2" componente="104"/>
                </campo>
                <campo n="5" id="G1_03" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Saídas incentivadas de PI"
                       descricao="Saídas incentivadas de PI">
                    <edicao x="0" y="3" componente="104"/>
                </campo>
                <campo n="6" id="G1_04" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saídas incentivadas de PI para fora do Nordeste"
                       descricao="Saídas incentivadas de PI para fora do Nordeste">
                    <validador id="REGRA_VALIDA_G1_04" tipo="1" outrosCamposEnvolvidosValidacao="G1_03"/>
                    <edicao x="0" y="4" componente="104"/>
                </campo>
                <campo n="7" id="G1_05" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saldo devedor do ICMS antes das deduções do incentivo"
                       descricao="Saldo devedor do ICMS antes das deduções do incentivo">
                    <edicao x="0" y="5" componente="104"/>
                </campo>
                <campo n="8" id="G1_06" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saldo devedor do ICMS relativo à faixa incentivada de PI"
                       descricao="Saldo devedor do ICMS relativo à faixa incentivada de PI">
                    <validador id="REGRA_VALIDA_G1_06" tipo="1" outrosCamposEnvolvidosValidacao="G1_05"/>
                    <edicao x="0" y="6" componente="104"/>
                </campo>
                <campo n="9" id="G1_07" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Crédito presumido nas saídas incentivadas de PI para fora do Nordeste"
                       descricao="Crédito presumido nas saídas incentivadas de PI para fora do Nordeste">
                    <validador id="REGRA_VALIDA_G1_07" tipo="1" outrosCamposEnvolvidosValidacao="G1_04"/>
                    <validador id="REGRA_ZERO_G1_07" tipo="1" outrosCamposEnvolvidosValidacao="G1_06"/>
                    <edicao x="0" y="7" componente="104"/>
                </campo>
                <campo n="10" id="G1_08" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saldo devedor relativo à faixa incentivada de PI após o crédito presumido nas saídas para fora do Nordeste"
                       descricao="Saldo devedor relativo à faixa incentivada de PI após o crédito presumido nas saídas para fora do Nordeste">
                    <validador id="REGRA_VALIDA_G1_08" tipo="1" outrosCamposEnvolvidosValidacao="G1_06;G1_08"/>
                    <edicao x="0" y="8" componente="104"/>
                </campo>
                <campo n="11" id="G1_09" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Crédito presumido"
                       descricao="Crédito presumido">
                    <validador id="REGRA_VALIDA_G1_09" tipo="1" outrosCamposEnvolvidosValidacao="G1_01;G1_08"/>
                    <edicao x="0" y="9" componente="104"/>
                </campo>
                <campo n="12" id="G1_10" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Dedução de incentivo da Indústria (crédito presumido)"
                       descricao="Dedução de incentivo da Indústria (crédito presumido)">
                    <validador id="REGRA_VALIDA_G1_10" tipo="1" outrosCamposEnvolvidosValidacao="G1_07;G1_09"/>
                    <edicao x="0" y="10" componente="104"/>
                </campo>
                <campo n="13" id="G1_11" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saldo devedor ICMS após deduções" descricao="Saldo devedor do ICMS após deduções">
                    <validador id="REGRA_VALIDA_G1_11" tipo="1" outrosCamposEnvolvidosValidacao="G1_05;G1_10"/>
                    <edicao x="0" y="11" componente="104"/>
                </campo>
            </registro>

            <registro id="1970" nivel="2" ocorrencia="2" obrigatorio="0" chave="IND_AP"
                      rotulo="Guia De Informação e Apuração de Incentivos Fiscais e Financeiros: Importação (Diferimento na Entrada e Crédito Presumido na Saída Subsequente)">

                <validador id="REGRA_OBRIGATORIO_BLOCO1_1970" tipo="6"/>
                <validador id="REGRA_NAO_INFORMAR_BLOCO1_1970" tipo="6"/>
                <validador id="REGRA_VALOR_G3_T" tipo="6"/>
                <validador id="REGRA_VALIDA_G3_T_V2" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “1970”">
                    <edicao exibir="false"/>
                    <valores-validos valores="1970"/>
                </campo>
                <campo n="2" id="IND_AP" tipo="N" tamanho="[2]" obrigatorio="1" rotulo="Indicador da sub-apuração"
                       descricao="Indicador da sub-apuração por tipo de benefício (conforme tabela 4.7.1)">
                    <valores-validos datasource="IND_AP"/>
                </campo>
                <campo n="3" id="G3_01" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Importações com ICMS diferido" descricao="Importações com ICMS diferido">
                    <edicao componente="104"/>
                </campo>
                <campo n="4" id="G3_02" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="ICMS diferido nas importações" descricao="ICMS diferido nas importações">
                    <validador id="REGRA_VALIDA_G3_02" tipo="1" outrosCamposEnvolvidosValidacao="G3_01"/>
                    <edicao componente="104"/>
                </campo>
                <campo n="5" id="G3_03" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saídas não incentivadas de PI" descricao="Saídas não incentivadas de PI">
                    <edicao componente="104"/>
                </campo>
                <campo n="6" id="G3_04" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Percentual de incentivo nas saídas para fora do Estado"
                       descricao="Percentual de incentivo nas saídas para fora do Estado">
                    <edicao componente="105"/>
                </campo>
                <campo n="7" id="G3_05" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saídas incentivadas de PI para fora do Estado"
                       descricao="Saídas incentivadas de PI para fora do Estado">
                    <edicao componente="104"/>
                </campo>
                <campo n="8" id="G3_06" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="ICMS das saídas incentivadas de PI para fora do Estado"
                       descricao="ICMS das saídas incentivadas de PI para fora do Estado">
                    <validador id="REGRA_VALIDA_G3_06" tipo="1" outrosCamposEnvolvidosValidacao="G3_05"/>
                    <edicao componente="104"/>
                </campo>
                <campo n="9" id="G3_07" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Crédito presumido nas saídas para fora do Estado"
                       descricao="Crédito presumido nas saídas para fora do Estado">
                    <validador id="REGRA_VALIDA_G3_07" tipo="1" outrosCamposEnvolvidosValidacao="G3_04;G3_06"/>
                    <edicao componente="104"/>
                </campo>
                <campo n="10" id="G3_T" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Dedução de incentivo da Importação (crédito presumido)"
                       descricao="Dedução de incentivo da Importação (crédito presumido)">
                    <edicao componente="104"/>
                </campo>
                <campo n="11" id="G3_08" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saldo devedor do ICMS antes das deduções do incentivo"
                       descricao="Saldo devedor do ICMS antes das deduções do incentivo">
                    <edicao componente="104"/>
                </campo>
                <campo n="12" id="G3_09" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saldo devedor do ICMS após deduções do incentivo"
                       descricao="Saldo devedor do ICMS após deduções do incentivo">
                    <validador id="REGRA_VALIDA_G3_09" tipo="1" outrosCamposEnvolvidosValidacao="G3_08;G3_0T"/>
                    <edicao componente="104"/>
                </campo>

                <registro id="1975" nivel="3" ocorrencia="2" obrigatorio="1" chave="ALIQ_IMP_BASE"
                          rotulo="Guia de Informação e Apuração de Incentivos Fiscais e Financeiros: Importação (Saídas Internas por Faixa de Alíquota)">

                    <validador id="REGRA_OCORRENCIA_REGISTRO_1975" tipo="6"/>

                    <edicao>
                        <observador-edicao-campo id="ORDENADOR_POR_DESCRICAO_ALIQ_IMP_BASE"
                                                 campoObservado="ALIQ_IMP_BASE"/>
                    </edicao>

                    <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                           descricao="Texto fixo contendo “1975”">
                        <edicao exibir="false"/>
                        <valores-validos valores="1975"/>
                    </campo>
                    <campo n="2" id="ALIQ_IMP_BASE" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Alíquota incidente sobre as importações-base"
                           descricao="Alíquota incidente sobre as importações-base">
                        <valores-validos valores="3,50=03,50%;6,00=06,00%;8,00=08,00%;10,00=10,00%"/>
                    </campo>
                    <campo n="3" id="G3_10" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Saídas incentivadas de PI" descricao="Saídas incentivadas de PI">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="4" id="G3_11" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Importações-base para o crédito presumido"
                           descricao="Importações-base para o crédito presumido">
                        <edicao componente="104"/>
                    </campo>
                    <campo n="5" id="G3_12" tipo="N" casasdecimais="2" obrigatorio="1"
                           rotulo="Crédito presumido nas saídas internas"
                           descricao="Crédito presumido nas saídas internas">
                        <validador id="REGRA_VALIDA_G3_12" tipo="1"
                                   outrosCamposEnvolvidosValidacao="ALIQ_IMP_BASE;G3_11"/>
                        <edicao componente="104"/>
                    </campo>

                </registro>

            </registro>

            <registro id="1980" nivel="2" ocorrencia="0" obrigatorio="0"
                      rotulo="Guia de Informação e Apuração de Incentivos Fiscais e Financeiros: Central de Distribuição (Entradas/Saídas)">
                <edicao posicao="2">
                    <observador-edicao-campo id="OBSERVADOR_FILTRA_IND_AP" campoObservado="IND_AP"/>
                </edicao>
                <validador id="REGRA_OBRIGATORIO_BLOCO1_1980" tipo="6"/>
                <validador id="REGRA_NAO_INFORMAR_BLOCO1_1980" tipo="6"/>
                <validador id="REGRA_VALOR_G4_10" tipo="6"/>

                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “1980”">
                    <edicao exibir="false"/>
                    <valores-validos valores="1980"/>
                </campo>
                <campo n="2" id="IND_AP" tipo="N" tamanho="[2]" obrigatorio="1"
                       rotulo="Indicador da sub-apuração por tipo de benefício (conforme tabela 4.7.1)"
                       descricao="Indicador da sub-apuração por tipo de benefício (conforme tabela 4.7.1)">
                    <edicao valorPadrao="02"/>
                    <valores-validos datasource="IND_AP"/>
                    <validador id="REGRA_IND_AP_SEMPRE_DOIS" tipo="1"/>
                </campo>
                <campo n="3" id="G4_01" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Entradas (percentual de incentivo)" descricao="Entradas (percentual de incentivo)">
                    <validador id="REGRA_VALIDA_G4_01" tipo="1"/>
                    <edicao componente="105"/>
                </campo>
                <campo n="4" id="G4_02" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Entradas não incentivadas de PI" descricao="Entradas não incentivadas de PI">
                    <edicao componente="104"/>
                </campo>
                <campo n="5" id="G4_03" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Entradas incentivadas de PI"
                       descricao="Entradas incentivadas de PI">
                    <edicao componente="104"/>
                </campo>
                <campo n="6" id="G4_04" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saídas (percentual de incentivo)" descricao="Saídas (percentual de incentivo)">
                    <validador id="REGRA_VALIDA_G4_04" tipo="1"/>
                    <edicao componente="105"/>
                </campo>
                <campo n="7" id="G4_05" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saídas não incentivadas de PI" descricao="Saídas não incentivadas de PI">
                    <edicao componente="104"/>
                </campo>
                <campo n="8" id="G4_06" tipo="N" casasdecimais="2" obrigatorio="1" rotulo="Saídas incentivadas de PI"
                       descricao="Saídas incentivadas de PI">
                    <edicao componente="104"/>
                </campo>
                <campo n="9" id="G4_07" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saldo devedor do ICMS antes das deduções do incentivo (PI e itens não incentivados)"
                       descricao="Saldo devedor do ICMS antes das deduções do incentivo (PI e itens não incentivados)">
                    <edicao componente="104"/>
                </campo>
                <campo n="10" id="G4_08" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Crédito presumido nas entradas incentivadas de PI"
                       descricao="Crédito presumido nas entradas incentivadas de PI">
                    <validador id="REGRA_VALIDA_G4_08" tipo="1" outrosCamposEnvolvidosValidacao="G4_01;G4_03"/>
                    <edicao componente="104"/>
                </campo>
                <campo n="11" id="G4_09" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Crédito presumido nas saídas incentivadas de PI"
                       descricao="Crédito presumido nas saídas incentivadas de PI">
                    <validador id="REGRA_VALIDA_G4_09" tipo="1" outrosCamposEnvolvidosValidacao="G4_04;G4_06"/>
                    <edicao componente="104"/>
                </campo>
                <campo n="12" id="G4_10" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Dedução de incentivo da Central de Distribuição"
                       descricao="Dedução de incentivo da Central de Distribuição (entradas/saídas)">
                    <validador id="REGRA_VALIDA_G4_10" tipo="1" outrosCamposEnvolvidosValidacao="G4_08;G4_09"/>
                    <edicao componente="104"/>
                </campo>
                <campo n="13" id="G4_11" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Saldo devedor do ICMS após deduções do incentivo"
                       descricao="Saldo devedor do ICMS após deduções do incentivo">
                    <validador id="REGRA_VALIDA_G4_11" tipo="1" outrosCamposEnvolvidosValidacao="G4_07;G4_10"/>
                    <edicao componente="104"/>
                </campo>
                <campo n="14" id="G4_12" tipo="N" casasdecimais="2" obrigatorio="1"
                       rotulo="Índice de recolhimento da central de distribuição"
                       descricao="Índice de recolhimento da central de distribuição">
                    <edicao componente="105"/>
                </campo>
            </registro>

        </registro>

        <registro id="1990" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ENCERRAMENTO DO BLOCO 1"
                  outros="[obrigatorioimportacao=true]">

            <edicao exibir="false"/>
            <validador id="REGRA_QTD_LIN_BLOCO1" tipo="0"/>
            <validador id="REGRA_BLOCO_COM_SEM_MOVIMENTO" tipo="0"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “1990”">
                <valores-validos valores="1990"/>
            </campo>
            <campo n="2" id="QTD_LIN_1" tipo="N" obrigatorio="1" rotulo="Quantidade total de linhas"
                   descricao="Quantidade total de linhas do Bloco 1">
                <edicao valorPadrao="2"/><!-- 1001 1990 -->
            </campo>
        </registro>
    </bloco>

    <bloco id="9" rotulo="CONTROLE E ENCERRAMENTO DO ARQUIVO DIGITAL">
        <edicao exibir="false"/>
        <registro id="9001" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ABERTURA DO BLOCO 9"
                  outros="[obrigatorioimportacao=true]">


            <edicao exibir="false"/>
            <gravador-sessao id="SESSAO_9001"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “9001”">
                <valores-validos valores="9001"/>
            </campo>
            <campo n="2" id="IND_MOV" tipo="N" tamanho="1" obrigatorio="1" rotulo="Indicador de movimento"
                   descricao="Indicador de movimento">
                <valores-validos valores="0=Bloco com dados informados"/>
                <edicao valorPadrao="0"/>
            </campo>

            <registro id="9900" nivel="2" chave="REG_BLC" ocorrencia="2" obrigatorio="1" rotulo="REGISTROS DO ARQUIVO"
                      outros="[obrigatorioimportacao=true]">
                <edicao exibir="false"/>
                <gravador-sessao id="SESSAO_CADA_9900"/>
                <validador id="REGRA_REGISTRO_DUPLICADO_9900" tipo="0"/>
                <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                       descricao="Texto fixo contendo “9900”">
                    <valores-validos valores="9900"/>
                </campo>
                <campo n="2" id="REG_BLC" tipo="C" tamanho="4" obrigatorio="1" rotulo="Totalizador de registros"
                       descricao="Registro que será totalizado no próximo campo">
                    <valores-validos
                            valores="0000;0001;0002;0005;0015;0100;0150;0175;0190;0200;0205;0206;0210;0220;0221;0300;0305;0400;0450;0460;0500;0600;0990;B001;B020;B025;B030;B035;B050;B350;B420;B440;B460;B470;B500;B510;B990;C001;C100;C101;C105;C110;C111;C112;C113;C114;C115;C116;C120;C130;C140;C141;C160;C165;C170;C171;C172;C173;C174;C175;C176;C177;C178;C179;C180;;C181;C186;C185;C190;C191;C195;C197;C300;C310;C320;C321;C330;C350;C370;C380;C390;C400;C405;C410;C420;C425;C430;C460;C465;C470;C480;C490;C500;C510;C590;C591;C595;C597;C600;C601;C610;C690;C700;C790;C791;C800;C810;C815;C850;C855;C857;C860;C870;C880;C890;C895;C897;C990;D001;D100;D101;D110;D120;D130;D140;D150;D160;D161;D162;D170;D180;D190;D195;D197;D300;D301;D310;D350;D355;D360;D365;D370;D390;D400;D410;D411;D420;D500;D510;D530;D590;D600;D610;D690;D695;D696;D697;D700;D730;D731;D735;D737;D750;D760;D761;D990;E001;E100;E110;E111;E112;E113;E115;E116;E200;E210;E220;E230;E240;E250;E300;E310;E311;E312;E313;E316;E500;E510;E520;E530;E531;E990;G001;G110;G125;G126;G130;G140;G990;H001;H005;H010;H020;H030;H990;K001;K010;K100;K200;K210;K215;K220;K230;K235;K250;K255;K260;K265;K270;K275;K280;K290;K291;K292;K300;K301;K302;K990;1001;1010;1100;1105;1110;1200;1210;1250;1255;1300;1310;1320;1350;1360;1370;1390;1391;1400;1500;1510;1601;1700;1710;1800;1900;1910;1920;1921;1922;1923;1925;1926;1960;1970;1975;1980;1990;9001;9900;9990;9999"/>
                </campo>
                <campo n="3" id="QTD_REG_BLC" tipo="N" obrigatorio="1" rotulo="Totalizador de registros"
                       descricao="Total de registros do tipo informado no campo anterior">
                    <edicao valorPadrao="1"/>
                </campo>
            </registro>

        </registro>

        <registro id="9990" nivel="1" ocorrencia="0" obrigatorio="1" rotulo="ENCERRAMENTO DO BLOCO 9"
                  outros="[obrigatorioimportacao=true]">


            <edicao exibir="false"/>
            <validador id="REGRA_QTD_LIN_BLOCO9" tipo="0"/>
            <validador id="REGRA_BLOCO_COM_SEM_MOVIMENTO" tipo="0"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “9990”">
                <valores-validos valores="9990"/>
            </campo>
            <campo n="2" id="QTD_LIN_9" tipo="N" obrigatorio="1" rotulo="Total de linhas"
                   descricao="Quantidade total de linhas do Bloco 9">
                <edicao valorPadrao="22"/><!-- 9001 9900 * 9990 9999 -->
            </campo>
        </registro>

        <registro id="9999" nivel="0" ocorrencia="0" obrigatorio="1" rotulo="ENCERRAMENTO DO ARQUIVO DIGITAL"
                  outros="[obrigatorioimportacao=true]">
            <observador-leitura-registro id="OBTER_METADADOS_VALIDACAO_A4E5V1"/>
            <edicao exibir="false"/>
            <validador id="REGRA_QTD_REG_BLC_OBRIGATORIO" tipo="0"/>
            <validador id="REGRA_QTD_LIN_ARQUIVO" tipo="0"/>
            <campo n="1" id="REG" tipo="C" tamanho="[4]" obrigatorio="1" rotulo="Tipo de Registro"
                   descricao="Texto fixo contendo “9999”">
                <valores-validos valores="9999"/>
            </campo>
            <campo n="2" id="QTD_LIN" tipo="N" obrigatorio="1" rotulo="Quantidade total de linhas"
                   descricao="Quantidade total de linhas do arquivo digital">
                <edicao valorPadrao="37"/><!-- 0000 0001 0990 C001 C990 D001 D990 E001 E990 H001 H990 1001 1990 9001 9900* 9990 9999 -->
            </campo>
        </registro>
    </bloco>

</descritor-escrituracao>